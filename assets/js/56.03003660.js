(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{461:function(t,a,s){"use strict";s.r(a);var e=s(34),r=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"比较全面的-git-命令手册-几乎涵盖日常所有的使用场景-下"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#比较全面的-git-命令手册-几乎涵盖日常所有的使用场景-下"}},[t._v("#")]),t._v(" 比较全面的 Git 命令手册，几乎涵盖日常所有的使用场景（下）")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/banner.jpg",alt:""}})]),t._v(" "),s("h2",{attrs:{id:"git-内部原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-内部原理"}},[t._v("#")]),t._v(" Git 内部原理")]),t._v(" "),s("h3",{attrs:{id:"git-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-对象"}},[t._v("#")]),t._v(" Git 对象")]),t._v(" "),s("h4",{attrs:{id:"blob-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#blob-对象"}},[t._v("#")]),t._v(" Blob 对象")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Blob")]),t._v("对象即文件快照，"),s("code",[t._v("Git")]),t._v("暂存时会保存文件快照于目录"),s("code",[t._v(".git/objects")]),t._v("下。"),s("code",[t._v("git init")]),t._v("初始化的仓库下"),s("code",[t._v(".git/objects")]),t._v("默认创建空的"),s("code",[t._v("pack")]),t._v("和"),s("code",[t._v("info")]),t._v("子目录。"),s("code",[t._v("Git")]),t._v("的核心是一个简单的键值对数据库（"),s("code",[t._v("key-value data store")]),t._v("），可理解为文件目录和文件为键"),s("code",[t._v("key")]),t._v("，目录内文件内容为对应值"),s("code",[t._v("value")]),t._v("。")]),t._v(" "),s("p",[t._v("  运行如下底层命令，向"),s("code",[t._v("Git")]),t._v("数据库插入内容。其中"),s("code",[t._v("echo 'content'")]),t._v("输出"),s("code",[t._v("content")]),t._v("文本，"),s("code",[t._v("|")]),t._v("为管道符，即前一命令的输出作为后一命令的输入。"),s("code",[t._v("-w")]),t._v("表示将内容写入数据库，"),s("code",[t._v("--stdin")]),t._v("表示从管道读取内容。如下命令可大致概括为"),s("code",[t._v("echo 'content'")]),t._v("输出"),s("code",[t._v("content")]),t._v("文本传入管道中，"),s("code",[t._v("git hash-object --stdin")]),t._v("从管道读取"),s("code",[t._v("content")]),t._v("文本，再指定"),s("code",[t._v("-w")]),t._v("选项将其写入"),s("code",[t._v("Git")]),t._v("数据库，即保存于"),s("code",[t._v(".git/objects")]),t._v("目录下。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'content'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" git hash"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("stdin\nd95f3ad1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  ;"),s("code",[t._v("d95f3ad1...")]),t._v("即"),s("code",[t._v("blob")]),t._v("对象的"),s("code",[t._v("SHA-1")]),t._v("校验和，在目录"),s("code",[t._v(".git/objects")]),t._v("中体现为前两位用于命名子目录，余下的"),s("code",[t._v("38")]),t._v("位则用作文件名。如下"),s("code",[t._v("find")]),t._v("用来在指定目录下查找文件，"),s("code",[t._v("-type")]),t._v("表示指定文件类型，"),s("code",[t._v("f")]),t._v("表示文件类型为一般文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("find "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("d9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("5f3ad1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  ;"),s("code",[t._v("d95f3ad1...")]),t._v("也即键"),s("code",[t._v("key")]),t._v("，运行如下命令获取"),s("code",[t._v("Git")]),t._v("数据库中键对应的值。其中"),s("code",[t._v("-p")]),t._v("表示自动判断内容的类型并显示为格式友好的内容，也可指定"),s("code",[t._v("-t")]),t._v("选项查看对象类型。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p d95f3ad1\ncontent\n")])])]),s("p",[t._v("  可能"),s("code",[t._v("echo")]),t._v("方式写入内容到"),s("code",[t._v("Git")]),t._v("数据库稍显复杂，也可取文件内容写入数据库。如下将"),s("code",[t._v("readme.md")]),t._v("文件的内容写入数据库。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git hash"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("h4",{attrs:{id:"极简版本控制"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#极简版本控制"}},[t._v("#")]),t._v(" 极简版本控制")]),t._v(" "),s("p",[t._v("  创建一个新文件并将其内容存入数据库。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit hash"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n3b18e512"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  再次写入新内容并存入版本库。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hi git'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit hash"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("object "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("w readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  暂时查看数据库写入情况。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("find "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("29")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("84e649")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("3b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18e512")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  控制文件内容为第一个版本。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 3b18e512 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ncat readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\nhello world\n")])])]),s("p",[t._v("  控制文件内容为第二个版本。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ncat readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\nhi git\n")])])]),s("h4",{attrs:{id:"tree-对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tree-对象"}},[t._v("#")]),t._v(" Tree 对象")]),t._v(" "),s("p",[t._v("  上述数据库中仅保存了文件内容，文件名尚未保存，而且记住每一个版本所对应的"),s("code",[t._v("SHA-1")]),t._v("校验和也不现实。"),s("code",[t._v("Tree")]),t._v("对象即树对象，则能很好解决此问题，一个树对象包含一条或者多条树对象记录，每条记录有一个指向数据对象（"),s("code",[t._v("blob")]),t._v("对象）或子树对象的"),s("code",[t._v("SHA-1")]),t._v("指针，以及相应的模式、类型、文件名或目录名。")]),t._v(" "),s("p",[t._v("  某个树对象内容可能如下。其中"),s("code",[t._v("master^{tree}")]),t._v("表示"),s("code",[t._v("master")]),t._v("分支最新的提交所指向的树对象，"),s("code",[t._v("readme.md")]),t._v("和"),s("code",[t._v("file.txt")]),t._v("都是数据对象，"),s("code",[t._v("dist")]),t._v("为子树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("tree"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob a906cb12"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("      readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob 8f941322"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("      file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("040000")]),t._v(" tree 99f1a699"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("      dist\n")])])]),s("p",[t._v("  查看子树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 99f1a699\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob 47c63436"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("      index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html\n")])])]),s("p",[t._v("  内部数据存储大致如下。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("       readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" blob\n     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\ntree —— file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" blob\n     \\\n       dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" tree —— index"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("html "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" blob\n")])])]),s("p",[t._v("  ;"),s("code",[t._v("Git")]),t._v("是根据暂存区的状态来创建对应的树对象，因此需要将一些修改或文件加入暂存区。运行如下命令将修改暂存，若文件名不在暂存区中需指定"),s("code",[t._v("--add")]),t._v("选项，"),s("code",[t._v("--cacheinfo")]),t._v("表示将指定的信息加入暂存区，包括文件模式、"),s("code",[t._v("SHA-1")]),t._v("校验和与文件名，并且"),s("code",[t._v("SHA-1")]),t._v("校验和需指定完整值。如下命令可大致概括为暂存数据对象"),s("code",[t._v("3b18e512...")]),t._v("对应的修改，同时文件模式为"),s("code",[t._v("100644")]),t._v("，文件名为"),s("code",[t._v("readme.md")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("add "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("cacheinfo "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" \\\n3b18e512"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("p",[t._v("  查看暂存区详细状态。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git ls"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" 3b18e512"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("p",[t._v("  运行如下命令，将暂存区内容写入一个树对象。其中"),s("code",[t._v("7394b8cc...")]),t._v("为树对象"),s("code",[t._v("SHA-1")]),t._v("校验和。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git write"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree\n7394b8cc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看树对象内容和数据库写入情况")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 7394b8cc\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob 3b18e512"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("    readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\nfind "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("73")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("94b8cc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h4",{attrs:{id:"子树对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#子树对象"}},[t._v("#")]),t._v(" 子树对象")]),t._v(" "),s("p",[t._v("  如上已经创建一个树对象，接下来再创建一个新树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("add "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("cacheinfo "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" \\\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("p",[t._v("  也可暂存新文件，"),s("code",[t._v("Git")]),t._v("会根据新文件内容创建数据对象并写入数据库，再将数据对象"),s("code",[t._v("SHA-1")]),t._v("校验和、文件模式和文件名加入到暂存区。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'file'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\ngit update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("index "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("add file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n")])])]),s("p",[t._v("  暂存区现在包括"),s("code",[t._v("readme.md")]),t._v("新版本和一个新文件"),s("code",[t._v("file.txt")]),t._v("，将暂存区内容再次写入一个新树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git write"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree\ne331c9c2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看暂存区域。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git ls"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" f73f3093"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("p",[t._v("  现在数据库存在两个树对象"),s("code",[t._v("7394b8cc...")]),t._v("和"),s("code",[t._v("e331c9c2...")]),t._v("，运行如下命令将第一个树对象加入到暂存区域。其中"),s("code",[t._v("--prefix")]),t._v("表示将一个已有的树对象作为子树加入暂存区，"),s("code",[t._v("dist")]),t._v("为子目录名。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git read"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("prefix"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("dist 7394b8cc\n")])])]),s("p",[t._v("  再次写入一个新树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git write"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree\nccf028c6"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看新树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p ccf028c6\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("040000")]),t._v(" tree 7394b8cc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("    dist\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob f73f3093"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("    file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("txt\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" blob "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("    readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),s("h4",{attrs:{id:"提交对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交对象"}},[t._v("#")]),t._v(" 提交对象")]),t._v(" "),s("p",[t._v("  现在已有三个树对象"),s("code",[t._v("7394b8cc...")]),t._v("、"),s("code",[t._v("e331c9c2...")]),t._v("和"),s("code",[t._v("ccf028c6...")]),t._v("，分别跟踪了不同文件快照。若想重用这些快照，需要记住如上三个"),s("code",[t._v("SHA-1")]),t._v("校验和。同时也不知道是谁保存了这些快照、在什么时刻保存的，以及为什么保存这些快照，以上则引出了提交对象。")]),t._v(" "),s("p",[t._v("  运行如下命令创建一个提交对象。其中"),s("code",[t._v("'A'")]),t._v("即为提交信息，"),s("code",[t._v("7394b8cc")]),t._v("为创建后的提交对象指向的树对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" git commit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree 7394b8cc\nf0dcf2c3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看提交对象"),s("code",[t._v("f0dcf2c3")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p f0dcf2c3\ntree 7394b8cc"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nauthor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ncommitter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v("\n")])])]),s("p",[t._v("  根据另外两个树对象创建提交对象，其中"),s("code",[t._v("e331c9c2")]),t._v("表示树对象校验和，"),s("code",[t._v("-p")]),t._v("表示指定父提交对象，"),s("code",[t._v("f0dcf2c3")]),t._v("为父提交对象校验和。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" git commit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree e331c9c2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p f0dcf2c3\n5d3d89ce"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\necho "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'C'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" git commit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("tree ccf028c6 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 5d3d89ce\nb41c0107"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看提交对象"),s("code",[t._v("5d3d89ce")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 5d3d89ce\ntree e331c9c2"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nparent f0dcf2c3"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nauthor "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ncommitter "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v("\n")])])]),s("p",[t._v("  此时"),s("code",[t._v("Git")]),t._v("内部关系大致如下，但是暂时还不能"),s("code",[t._v("git log")]),t._v("查看提交历史，因为还不存在分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("                                   readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("md")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hi git"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n                                 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("                                                                            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("b41c0107"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tree")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ccf028c6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" —— dist "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tree")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("7394b8cc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" —— readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("md")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("3b18e512"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hello world"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                \\                                                                            "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                  file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("txt")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f73f3093"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                                                                                          "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("5d3d89ce"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tree")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("e331c9c2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" —— readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("md")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2984e649")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hi git"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                \\                                                                         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                  file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("txt")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f73f3093"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("                                                                                                                "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f0dcf2c3"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tree")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("7394b8cc"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" —— readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("md")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("3b18e512"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("blob")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("hello world"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("\n")])])]),s("h4",{attrs:{id:"对象存储"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#对象存储"}},[t._v("#")]),t._v(" 对象存储")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Git")]),t._v("数据对象存储步骤大致如下。其实所有的"),s("code",[t._v("Git")]),t._v("对象均以此方式存储，区别仅在于类型标识，另两种对象类型的头部信息以字符串"),s("code",[t._v("commit")]),t._v("或"),s("code",[t._v("tree")]),t._v("开头，而不是"),s("code",[t._v("blob")]),t._v("。虽然数据对象的内容可以是任何东西，但提交对象和树对象的内容却有各自固定的格式。")]),t._v(" "),s("ul",[s("li",[t._v("读取文件内容，以对象类型"),s("code",[t._v("blob")]),t._v("作为开头来构造一个头部信息，拼接头部信息和文件原始内容，记为"),s("code",[t._v("content")])]),t._v(" "),s("li",[t._v("计算"),s("code",[t._v("content")]),t._v("的"),s("code",[t._v("SHA-1")]),t._v("校验和，得到长度为"),s("code",[t._v("40")]),t._v("个十六进制字符的哈希值")]),t._v(" "),s("li",[t._v("取哈希值前两位作为文件目录，剩余"),s("code",[t._v("38")]),t._v("为作为文件名")]),t._v(" "),s("li",[t._v("对"),s("code",[t._v("content")]),t._v("执行"),s("code",[t._v("lib")]),t._v("压缩，获得新的二进制内容，存入文件中")])]),t._v(" "),s("h3",{attrs:{id:"git-引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-引用"}},[t._v("#")]),t._v(" Git 引用")]),t._v(" "),s("p",[t._v("  上述提交历史可运行"),s("code",[t._v("git log b41c0107")]),t._v("查看，其中"),s("code",[t._v("b41c0107")]),t._v("为提交记录"),s("code",[t._v("C")]),t._v("的部分校验和。但是查看提交历史仍然需记住某次记录的部分校验和，倘若用某个文件保存校验和，同时起一个简单的名字，问题将会得到很好解决，而这种文件就被称为引用。引用文件均保存在"),s("code",[t._v(".git/refs")]),t._v("目录下。")]),t._v(" "),s("h4",{attrs:{id:"分支引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支引用"}},[t._v("#")]),t._v(" 分支引用")]),t._v(" "),s("p",[t._v("  若要创建一个分支引用，仅在"),s("code",[t._v(".git/refs/heads")]),t._v("目录下新增分支名，且内容为某次提交的校验和即可。"),s("code",[t._v("Git")]),t._v("提供了更加安全的命令"),s("code",[t._v("update-ref")]),t._v("，如下表示将部分校验和"),s("code",[t._v("b41c0107")]),t._v("对应的完整校验和写入"),s("code",[t._v(".git/refs/heads")]),t._v("目录下的"),s("code",[t._v("master")]),t._v("文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ref refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master b41c0107\n")])])]),s("p",[t._v("  如下查看"),s("code",[t._v("master")]),t._v("分支文件的内容。同时也印证了分支是指向提交对象的可变指针。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\nb41c0107"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h4",{attrs:{id:"head-引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#head-引用"}},[t._v("#")]),t._v(" HEAD 引用")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("HEAD")]),t._v("是一个符号引用，指向当前所在分支，或者说是一个指向其他引用的分支。")]),t._v(" "),s("p",[t._v("  运行"),s("code",[t._v("git branch dev")]),t._v("即创建一个"),s("code",[t._v("dev")]),t._v("分支，但是查看"),s("code",[t._v("dev")]),t._v("引用文件的内容，会有完整的校验和，此校验和即是通过"),s("code",[t._v("HEAD")]),t._v("来获取的。")]),t._v(" "),s("p",[t._v("  创建"),s("code",[t._v("dev")]),t._v("分支时"),s("code",[t._v("Git")]),t._v("首先会找到"),s("code",[t._v("HEAD")]),t._v("指向的分支，再获取此分支保存的完整校验和，将此校验和写入"),s("code",[t._v(".git/refs/heads")]),t._v("目录下"),s("code",[t._v("dev")]),t._v("文件中。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git branch dev\ncat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\nb41c0107"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看"),s("code",[t._v("HEAD")]),t._v("内容。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("p",[t._v("  如下表示将当前"),s("code",[t._v("HEAD")]),t._v("指向"),s("code",[t._v("dev")]),t._v("分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git symbolic"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ref "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n")])])]),s("h4",{attrs:{id:"标签引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标签引用"}},[t._v("#")]),t._v(" 标签引用")]),t._v(" "),s("p",[t._v("  标签包括轻量标签和附注标签。")]),t._v(" "),s("p",[t._v("  轻量标签是一个固定的引用，指向某个提交对象。")]),t._v(" "),s("p",[t._v("  附注标签会指向一个标签对象，标签对象保存一个引用来指向某个提交对象。")]),t._v(" "),s("p",[t._v("  运行如下底层命令，创建一个轻量标签"),s("code",[t._v("v1.8.5")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git update"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("ref refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.5")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("\n")])])]),s("p",[t._v("  查看轻量标签"),s("code",[t._v("v1.8.5")]),t._v("，如下轻量标签"),s("code",[t._v("v1.8.5")]),t._v("指向提交"),s("code",[t._v("b41c0107")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.5")]),t._v("\nb41c0107"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  创建附注标签"),s("code",[t._v("v1.8.6")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git tag "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("a v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.6")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),t._v("\n")])])]),s("p",[t._v("  查看附注标签指向的标签对象的完整校验和，如下附注标签指向标签对象"),s("code",[t._v("4740ea0b")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.6")]),t._v("\n4740ea0b"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  查看标签对象"),s("code",[t._v("4740ea0b")]),t._v("内容，其中"),s("code",[t._v("object")]),t._v("表示指向的提交记录。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("p 4740ea0b\nobject b41c0107"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ntype commit\ntag v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.6")]),t._v("\ntagger "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\nmessage\n")])])]),s("h4",{attrs:{id:"远程引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#远程引用"}},[t._v("#")]),t._v(" 远程引用")]),t._v(" "),s("p",[t._v("  远程引用即本地仓库中保存远程仓库中各分支的指向信息。")]),t._v(" "),s("p",[t._v("  远程引用是只读的，可以"),s("code",[t._v("git checkout")]),t._v("到某个远程引用，但是"),s("code",[t._v("Git")]),t._v("并不会将"),s("code",[t._v("HEAD")]),t._v("引用指向此远程引用。")]),t._v(" "),s("p",[t._v("  远程引用一般保存在"),s("code",[t._v("refs/remotes")]),t._v("目录下，当与远程仓库交互时，远程引用会被更新。")]),t._v(" "),s("p",[t._v("  若远程仓库"),s("code",[t._v("repo")]),t._v("含分支"),s("code",[t._v("dev")]),t._v("、"),s("code",[t._v("master")]),t._v("，添加远程仓库"),s("code",[t._v("origin")]),t._v("并拉取。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git remote add origin https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git\ngit fetch origin\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nFrom https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      dev       "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      master     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("p",[t._v("  查看目录"),s("code",[t._v(".git/refs/remotes/origin")]),t._v("下文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("find "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("p",[t._v("  查看远程仓库"),s("code",[t._v("master")]),t._v("分支，其中"),s("code",[t._v("90edc78e")]),t._v("为"),s("code",[t._v("master")]),t._v("分支指向的最新提交的校验和。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n90edc78e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h3",{attrs:{id:"包文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#包文件"}},[t._v("#")]),t._v(" 包文件")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Git")]),t._v("跟踪了某个数千行代码的文件，若改动了此文件的某一行代码，"),s("code",[t._v("Git")]),t._v("会将整个文件保存为数据对象（"),s("code",[t._v("blob")]),t._v("）。此文件原始对象和改动后的对象被称为松散（"),s("code",[t._v("loose")]),t._v("）对象。")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Git")]),t._v("向磁盘中存储对象时所使用的格式为松散对象格式，并时不时地将多个对象打包成一个的包文件（二进制文件），以此来节省空间和提高效率。 版本库中有太多的松散对象或者执行"),s("code",[t._v("git gc")]),t._v("，或者向远程服务器推送时，"),s("code",[t._v("Git")]),t._v("都会打包。")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("git gc")]),t._v("会将一个文件的完整内容保存为数据对象，再将与完整内容之间的差异保存为另一个数据对象。")]),t._v(" "),s("h4",{attrs:{id:"打包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包"}},[t._v("#")]),t._v(" 打包")]),t._v(" "),s("p",[t._v("  初始化一个空仓库"),s("code",[t._v("repo")]),t._v("，新增一个"),s("code",[t._v("10kb")]),t._v("左右的"),s("code",[t._v("readme.md")]),t._v("文件，暂存后查看暂存区"),s("code",[t._v("readme.me")]),t._v("文件大小（"),s("code",[t._v("10311")]),t._v("字节），提交此次修改。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git add readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit ls"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" 767466fd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s 767466fd\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10311")]),t._v("\ngit commit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'A'")]),t._v("\n")])])]),s("p",[t._v("  ;"),s("code",[t._v("readme.md")]),t._v("文件尾部追加部分内容后也暂存并查看文件大小（"),s("code",[t._v("10319")]),t._v("字节）。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("echo "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit add readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit ls"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("100644")]),t._v(" f08cfd3e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("       readme"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\ngit cat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("file "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("s f08cfd3e\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10319")]),t._v("\ngit commit "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'B'")]),t._v("\n")])])]),s("p",[t._v("  查看"),s("code",[t._v(".git/objects")]),t._v("下新增的对象，其中包括"),s("code",[t._v("6")]),t._v("个对象，两个树对象、两个提交对象、两个数据对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("find "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("76")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("7466fd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("f0"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("8cfd3e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("p",[t._v("  运行"),s("code",[t._v("git gc")]),t._v("打包松散对象，查看"),s("code",[t._v(".git/objects")]),t._v("下对象。其中包括一个"),s("code",[t._v(".idx")]),t._v("索引文件和一个"),s("code",[t._v(".pack")]),t._v("包文件，包文件包含了从"),s("code",[t._v("Git")]),t._v("数据库中移除的所有对象的内容，索引文件包含了包文件的偏移信息，通过索引文件可以快速定位任意一个指定对象。")]),t._v(" "),s("p",[t._v("  注意大部分对象都会被打包到包文件中，但是"),s("code",[t._v("Git")]),t._v("会保留悬空的数据对象，即未被任何提交记录引用的数据对象。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git gc\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("info"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("packs\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3575.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a060"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3575.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a060"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pack\n")])])]),s("p",[t._v("  运行如下底层命令查看索引文件内容。其中包括"),s("code",[t._v("6")]),t._v("个对象，每一行含对象的"),s("code",[t._v("SHA-1")]),t._v("校验和、类型、文件大小、打包文件大小、打包文件偏移，可能再包含深度、基础"),s("code",[t._v("SHA-1")]),t._v("校验和。")]),t._v(" "),s("p",[t._v("  注意"),s("code",[t._v("readme.md")]),t._v("第二个版本"),s("code",[t._v("f08cfd3e")]),t._v("保存了完整内容，反而第一个版本"),s("code",[t._v("767466fd")]),t._v("保存了差异内容，因为大多数情况下"),s("code",[t._v("Git")]),t._v("需要快速访问最新版本。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git verify"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3575.")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("a060"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ind\nf08cfd3e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" blob   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10319")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2561")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("265")]),t._v("\n767466fd"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" blob   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2921")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" f08cfd3e"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h4",{attrs:{id:"引用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用"}},[t._v("#")]),t._v(" 引用")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("git gc")]),t._v("会做的另一件事是打包"),s("code",[t._v(".git/refs")]),t._v("目录下的引用到文件"),s("code",[t._v(".git/packed-refs")]),t._v("中。若当前版本库中包含如下分支和标签。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("find "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.5")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.6")]),t._v("\n")])])]),s("p",[t._v("  打包后上述引用不会再出现在"),s("code",[t._v(".git/refs")]),t._v("目录下，均会被移动到"),s("code",[t._v(".git/packed-refs")]),t._v("文件中。其中"),s("code",[t._v("^")]),t._v("表示它上一行的标签是附注标签，"),s("code",[t._v("^")]),t._v("所在行是那个附注标签指向的提交记录的校验和。")]),t._v(" "),s("p",[t._v("  打包后更新了引用，"),s("code",[t._v("Git")]),t._v("并不会修改"),s("code",[t._v("packed-refs")]),t._v("文件，而是在"),s("code",[t._v(".git/refs")]),t._v("目录下创建新的引用文件。若"),s("code",[t._v("Git")]),t._v("要获取引用文件的最新"),s("code",[t._v("SHA-1")]),t._v("校验和，首先会在"),s("code",[t._v(".git/refs")]),t._v("目录下查找指定的引用文件，然后再到"),s("code",[t._v("packed-refs")]),t._v("文件中查找。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("cat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("packed"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("refs\nceb21368"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n040db796"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\nceb21368"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.5")]),t._v("\n9dcb07d9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("tags"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("v1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8.6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("ceb2136"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h3",{attrs:{id:"引用规格"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#引用规格"}},[t._v("#")]),t._v(" 引用规格")]),t._v(" "),s("p",[t._v("  本地仓库关联远程仓库后，查看"),s("code",[t._v(".git/config")]),t._v("文件。其中指定了远程版本库的名称、"),s("code",[t._v("url")]),t._v("和用于获取的引用规格。诸如"),s("code",[t._v("<src>:<dst>")]),t._v("的格式称为引用规格，"),s("code",[t._v("<src>")]),t._v("表示远程版本库中的引用，"),s("code",[t._v("<dst>")]),t._v("表示远程引用在本地所对应的位置，"),s("code",[t._v("+")]),t._v("表示不能快进情况下强制更新引用。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git remote add origin https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git\ncat "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("config\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("remote "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"origin"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n        url "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git\n        fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*:refs/remotes/origin/*\n")])])])]),s("p",[t._v("  默认情况下，运行"),s("code",[t._v("git fetch")]),t._v("将获取远程仓库"),s("code",[t._v("refs/heads")]),t._v("目录下所有引用，同时写入本地"),s("code",[t._v("refs/remotes/origin")]),t._v("目录下。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git fetch origin\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\nFrom https"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("github"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("username"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("repo\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      dev         "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("branch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("      master      "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\nfind "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("h4",{attrs:{id:"拓展"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#拓展"}},[t._v("#")]),t._v(" 拓展")]),t._v(" "),s("p",[t._v("  本地仓库获取"),s("code",[t._v("fetch")]),t._v("远程仓库"),s("code",[t._v("master")]),t._v("分支后，查看此分支提交历史。如下三个命令等价，并最终都会被拓展为"),s("code",[t._v("refs/remotes/origin/master")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git log origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\ngit log remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\ngit log refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("h4",{attrs:{id:"获取"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#获取"}},[t._v("#")]),t._v(" 获取")]),t._v(" "),s("p",[t._v("  只获取远程仓库"),s("code",[t._v("repo")]),t._v("的"),s("code",[t._v("master")]),t._v("分支，而不是所有分支，修改为如下引用规格。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("p",[t._v("  获取多个远程分支。如下表示仅获取远程"),s("code",[t._v("master")]),t._v("和"),s("code",[t._v("dev")]),t._v("分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\nfetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("dev\n")])])]),s("h4",{attrs:{id:"命名空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名空间"}},[t._v("#")]),t._v(" 命名空间")]),t._v(" "),s("p",[t._v("  推送本地"),s("code",[t._v("master")]),t._v("分支到远程仓库"),s("code",[t._v("feat/master")]),t._v("分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git push origin master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("feat"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\n")])])]),s("p",[t._v("  仅获取远程仓库"),s("code",[t._v("dev")]),t._v("分支和命名空间"),s("code",[t._v("feat")]),t._v("下的分支，修改为如下引用规格。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("remotes"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("master\nfetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("feat"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*:refs/remotes/origin/feat/*\n")])])])]),s("h4",{attrs:{id:"强制更新"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制更新"}},[t._v("#")]),t._v(" 强制更新")]),t._v(" "),s("p",[t._v("  若远程仓库"),s("code",[t._v("repo")]),t._v("存在"),s("code",[t._v("master")]),t._v("分支，用户"),s("code",[t._v("A")]),t._v("、"),s("code",[t._v("B")]),t._v("和"),s("code",[t._v("C")]),t._v("均关联并获取"),s("code",[t._v("fetch")]),t._v("了最新的修改。")]),t._v(" "),s("p",[t._v("  用户"),s("code",[t._v("A")]),t._v("将与原历史无关的提交历史强制推送到了"),s("code",[t._v("master")]),t._v("。")]),t._v(" "),s("p",[t._v("  用户"),s("code",[t._v("B")]),t._v("仓库"),s("code",[t._v(".git/config")]),t._v("配置如下。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*:refs/remotes/origin/*\n")])])])]),s("p",[t._v("  用户"),s("code",[t._v("C")]),t._v("仓库"),s("code",[t._v(".git/config")]),t._v("配置如下，即删除"),s("code",[t._v("+")]),t._v("不开启强制更新。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("fetch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("heads"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*:refs/remotes/origin/*\n")])])])]),s("p",[t._v("  用户"),s("code",[t._v("B")]),t._v("获取"),s("code",[t._v("fetch")]),t._v("远程仓库中的修改，其中"),s("code",[t._v("forced update")]),t._v("即表示强制更新了"),s("code",[t._v("master")]),t._v("提交历史。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git fetch origin\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" master     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("master")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("forced update"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("p",[t._v("  用户"),s("code",[t._v("C")]),t._v("获取远程仓库修改，其中"),s("code",[t._v("master")]),t._v("分支的拉取被拒绝，因为其提交历史不能快进。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git fetch origin\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("rejected"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("        master     "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" origin"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("master")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("non"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("fast"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("forward"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"恢复与移除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#恢复与移除"}},[t._v("#")]),t._v(" 恢复与移除")]),t._v(" "),s("h4",{attrs:{id:"数据恢复"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#数据恢复"}},[t._v("#")]),t._v(" 数据恢复")]),t._v(" "),s("p",[t._v("  若某版本库提交历史如下，当前"),s("code",[t._v("HEAD")]),t._v("指向"),s("code",[t._v("master")]),t._v("分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" —— "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("B")]),t._v(" —— "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("C")]),t._v(" —— "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v(" —— "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" master "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("\n")])])]),s("p",[t._v("  回退"),s("code",[t._v("master")]),t._v("分支到提交记录"),s("code",[t._v("C")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git reset "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("hard "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),t._v("\n")])])]),s("p",[t._v("  此时若再将"),s("code",[t._v("master")]),t._v("分支提交记录切换到"),s("code",[t._v("E")]),t._v("，可运行"),s("code",[t._v("git reflog")]),t._v("查看引用日志中的提交"),s("code",[t._v("E")]),t._v("。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git reflog\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n329e7f4 "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("@"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" commit"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("E")]),t._v("\n")])])]),s("p",[t._v("  运行"),s("code",[t._v("git reset --hard HEAD@{1}")]),t._v("可将"),s("code",[t._v("master")]),t._v("切换到提交"),s("code",[t._v("E")]),t._v("。")]),t._v(" "),s("p",[t._v("  可能因为某些原因提交"),s("code",[t._v("E")]),t._v("不在引用日志"),s("code",[t._v("reflog")]),t._v("中，同时也没有任何引用指向提交"),s("code",[t._v("E")]),t._v("。")]),t._v(" "),s("p",[t._v("  要模拟此场景首先还是将"),s("code",[t._v("master")]),t._v("指向提交"),s("code",[t._v("C")]),t._v("，然后删除"),s("code",[t._v(".git/logs")]),t._v("目录中的引用日志，此时再运行"),s("code",[t._v("git reflog")]),t._v("将没有任何输出。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("r "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("logs\n")])])]),s("p",[t._v("  运行如下命令，"),s("code",[t._v("Git")]),t._v("会检查数据库完整性，其中"),s("code",[t._v("--full")]),t._v("选项会显示出所有没有被其他对象指向的对象，"),s("code",[t._v("dangling commit")]),t._v("后即为提交"),s("code",[t._v("E")]),t._v("的校验和。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git fsck "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("full\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\ndangling commit 329e7f4"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n")])])]),s("h4",{attrs:{id:"磁盘空间"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#磁盘空间"}},[t._v("#")]),t._v(" 磁盘空间")]),t._v(" "),s("p",[t._v("  运行如下命令，查看"),s("code",[t._v("Git")]),t._v("数据库中对象数量及其磁盘消耗。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git count"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("size")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("in")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("packs")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\nsize"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("132")]),t._v("\nprune"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("packable"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("garbage")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\nsize"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("garbage"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),s("p",[t._v("  打印参数描述如下。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("count")]),t._v("：松散对象的数量")]),t._v(" "),s("li",[s("code",[t._v("size")]),t._v("：松散对象占用的磁盘空间，以"),s("code",[t._v("KiB")]),t._v("为单位")]),t._v(" "),s("li",[s("code",[t._v("in-pack")]),t._v("：包文件中所有对象的数量，即"),s("code",[t._v(".git/objects/pack")]),t._v("目录下所有以"),s("code",[t._v(".idx")]),t._v("为后缀名文件中保存的对象的个数")]),t._v(" "),s("li",[s("code",[t._v("packs")]),t._v("：包文件的数量，即"),s("code",[t._v(".git/objects/pack")]),t._v("目录下以"),s("code",[t._v(".pack")]),t._v("为后缀名文件的个数")]),t._v(" "),s("li",[s("code",[t._v("size-pack")]),t._v("：包文件占用的磁盘空间，以"),s("code",[t._v("KiB")]),t._v("为单位")]),t._v(" "),s("li",[s("code",[t._v("prune-packable")]),t._v("：包文件中存在的松散对象的数量，运行"),s("code",[t._v("git prune-packed")]),t._v("可删除，运行"),s("code",[t._v("git prune-packed -n")]),t._v("显示将要删除的对象")]),t._v(" "),s("li",[s("code",[t._v("garbage")]),t._v("：垃圾文件的数量，既不是有效的松散对象也不是有效包的文件数")]),t._v(" "),s("li",[s("code",[t._v("size-garbage")]),t._v("：垃圾文件占用的磁盘空间，以"),s("code",[t._v("KiB")]),t._v("为单位")])]),t._v(" "),s("h4",{attrs:{id:"移除对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移除对象"}},[t._v("#")]),t._v(" 移除对象")]),t._v(" "),s("p",[t._v("  如果某个人向"),s("code",[t._v("Git")]),t._v("版本库添加了一个特别大的文件，然后又从项目中移除了，但是由于"),s("code",[t._v("Git")]),t._v("提交历史跟踪了此文件，或者说通过提交历史可随时还原此文件，每次运行"),s("code",[t._v("git clone")]),t._v("克隆项目历史时，都会强制下载此文件，造成的情况就是每次克隆非常耗时。")]),t._v(" "),s("p",[t._v("  因此必须从最早开始引用此文件的树对象开始重写每一个提交记录，此操作破坏性地修改了提交历史，其他人拉取记录时最好运行"),s("code",[t._v("git pull --rebase")]),t._v("。")]),t._v(" "),s("p",[t._v("  可能由于历史线过长不知道那个特别大的文件是什么，可通过如下方式查找出那个文件。")]),t._v(" "),s("p",[t._v("  首先运行"),s("code",[t._v("git gc")]),t._v("打包"),s("code",[t._v("Git")]),t._v("数据库中的对象，同时查看"),s("code",[t._v(".git/objects/pack")]),t._v("目录下文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git gc\nfind "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("type f\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("3aa8"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("a09e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("3aa8"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("a09e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("pack\n")])])]),s("p",[t._v("  运行如下命令，查看索引文件内容并排序。其中第一行输出索引文件内容，通过管道传递给下一行命令。"),s("code",[t._v("sort")]),t._v("排序管道输入内容，"),s("code",[t._v("-n")]),t._v("表示按照数值大小排序，"),s("code",[t._v("-k 3")]),t._v("表示根据内容的第三列进行排序。"),s("code",[t._v("tail -3")]),t._v("表示显示内容的尾部"),s("code",[t._v("3")]),t._v("行。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git verify"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("pack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("v "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("objects"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("pack"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("3aa8"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("a09e"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("idx \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" sort "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("n "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("k "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" \\\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" tail "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("\nbc65c0d9"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("206")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("141")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("437")]),t._v("\nc4a96707"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" commit "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("206")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("140")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1145")]),t._v("\n072e320f"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" blob   "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("7407405")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("6594320")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1978")]),t._v("\n")])])]),s("p",[t._v("  上述列表中数据对象"),s("code",[t._v("072e320f")]),t._v("占用了"),s("code",[t._v("7M")]),t._v("左右的空间，运行如下命令根据校验和查找对应文件名称。其中"),s("code",[t._v("git rev-list --objects --all")]),t._v("查看所有"),s("code",[t._v("Git")]),t._v("对象的校验和与文件名的关系，输入到管道符中，"),s("code",[t._v("grep")]),t._v("匹配校验和为"),s("code",[t._v("072e320f")]),t._v("的行，最终查找到"),s("code",[t._v("file.zip")]),t._v("即为那个"),s("code",[t._v("7M")]),t._v("的大文件。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git rev"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("list "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("objects "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" grep 072e320f\n072e320f"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v(" file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n")])])]),s("p",[t._v("  运行如下命令查看哪些提交记录对此文件做了改动，其中"),s("code",[t._v("--branches")]),t._v("表示范围为当前版本库所有分支。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git log "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("oneline "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("branches "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v(" file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n"),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("db12cc")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" master"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" remove file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n52bd5ce add file"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n")])])]),s("p",[t._v("  运行如下命令擦除提交历史，其中"),s("code",[t._v("52bd5ce^..HEAD")]),t._v("表示"),s("code",[t._v("52bd5ce")]),t._v("及以后的提交记录都会被擦除重写。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("git filter"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("branch "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("f "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("prune"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("empty "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("index"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("filter "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'git rm -f --cached --ignore-unmatch file.zip'")]),t._v(" 52bd5ce"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HEAD")]),t._v("\n")])])]),s("p",[t._v("  再运行如下命令，彻底清理提交历史并对仓库重新分析打包。")]),t._v(" "),s("ul",[s("li",[t._v("擦除命令默认会生成备份，实质是保存了一个引用，指向原提交历史中的最新提交，"),s("code",[t._v("rm -rf")]),t._v("删除"),s("code",[t._v(".git/refs/original")]),t._v("目录下引用")]),t._v(" "),s("li",[t._v("修剪当前时间点前的所有引用日志")]),t._v(" "),s("li",[t._v("打印出无法到达的对象")]),t._v(" "),s("li",[t._v("将包中的所有无法到达的对象变成松散的、未打包的对象，而不是留在旧包中。打包后若新创建的包使某些现有包变得多余，删除冗余包")]),t._v(" "),s("li",[t._v("花费更多时间更加积极地优化存储库，修剪当前时间点前的松散对象")])]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("rm "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("rf "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("git"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("refs"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("original"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("\ngit reflog expire "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("expire"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("now "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("all\ngit fsck "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("full "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("unreachable\ngit repack "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d\ngit gc "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("aggressive "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("prune"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("now\n")])])]),s("h2",{attrs:{id:"gitk"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#gitk"}},[t._v("#")]),t._v(" Gitk")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Gitk")]),t._v("是"),s("code",[t._v("Git")]),t._v("内置的图形可视化工具，包括提交历史图、每个提交的相关信息以及版本树中的文件。")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Git")]),t._v("仓库根目录下运行"),s("code",[t._v("gitk")]),t._v("打开如下可视化界面。其中主要包括菜单栏"),s("code",[t._v("A")]),t._v("、提交历史"),s("code",[t._v("B")]),t._v("、提交信息"),s("code",[t._v("C")]),t._v("、版本树文件"),s("code",[t._v("D")]),t._v("四个区域。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"菜单栏"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单栏"}},[t._v("#")]),t._v(" 菜单栏")]),t._v(" "),s("h4",{attrs:{id:"file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file"}},[t._v("#")]),t._v(" File")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-file.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Update")]),t._v("：更新，命令行操作仓库后，将更改反应在"),s("code",[t._v("gitk")]),t._v("中，更新引用并显示新旧差异。一般变基后运行，可以比较前一个分支头和新的分支头")]),t._v(" "),s("li",[s("code",[t._v("Reload")]),t._v("：重新加载")]),t._v(" "),s("li",[s("code",[t._v("Reread references")]),t._v("：重读引用")]),t._v(" "),s("li",[s("code",[t._v("List references")]),t._v("：引用列表，包括标签和分支。其中"),s("code",[t._v("Filter")]),t._v("内"),s("code",[t._v("*")]),t._v("表示所有引用，"),s("code",[t._v("*master")]),t._v("则筛选"),s("code",[t._v("master")]),t._v("、"),s("code",[t._v("remotes/origin/master")]),t._v("分支")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-file-reference.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Start git gui")]),t._v("：打开"),s("code",[t._v("git gui")]),t._v("可视化工具")]),t._v(" "),s("li",[s("code",[t._v("Quit")]),t._v("：退出")])]),t._v(" "),s("h4",{attrs:{id:"edit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edit"}},[t._v("#")]),t._v(" Edit")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-edit.png",alt:""}})]),t._v(" "),s("p",[t._v("  首选项"),s("code",[t._v("Preferences")]),t._v("包括常用设置、颜色和字体设置。注意提交信息区"),s("code",[t._v("C")]),t._v("中可能出现部分中文乱码的情况，需要在当前仓库下"),s("code",[t._v(".git/config")]),t._v("中追加如下。")]),t._v(" "),s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("gui"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    encoding "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" utf"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("8")]),t._v("\n")])])]),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-edit-preferences.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Maximum graph width (lines)")]),t._v("：最大图形宽度(线)")]),t._v(" "),s("li",[s("code",[t._v("Maximum graph width (% of pane)")]),t._v("：最大图形宽度(窗格百分比)")]),t._v(" "),s("li",[s("code",[t._v("Show local changes")]),t._v("：显示本地更改")]),t._v(" "),s("li",[s("code",[t._v("Auto-select SHA1 (length)")]),t._v("：自动选择"),s("code",[t._v("SHA-1")]),t._v("校验和(长度)")]),t._v(" "),s("li",[s("code",[t._v("Hide remote refs")]),t._v("：隐藏远程引用")]),t._v(" "),s("li",[s("code",[t._v("Tab spacing")]),t._v("：标签间距")]),t._v(" "),s("li",[s("code",[t._v("Display nearby tags/heads")]),t._v("：显示最近的标签或者引用")]),t._v(" "),s("li",[s("code",[t._v("Maximum # tags/heads to show")]),t._v("：标签或引用最大显示数")]),t._v(" "),s("li",[s("code",[t._v("Limit diffs to listed paths")]),t._v("：限制列出路径的差异")]),t._v(" "),s("li",[s("code",[t._v("Support per-file encodings")]),t._v("：支持文件编码")]),t._v(" "),s("li",[s("code",[t._v("External difftool")]),t._v("：外部"),s("code",[t._v("diff")]),t._v("工具")]),t._v(" "),s("li",[s("code",[t._v("Web browser")]),t._v("："),s("code",[t._v("Web")]),t._v("浏览器")]),t._v(" "),s("li",[s("code",[t._v("Use themed widgets")]),t._v("：使用小部件主题")])]),t._v(" "),s("h4",{attrs:{id:"view"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#view"}},[t._v("#")]),t._v(" View")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-view.png",alt:""}})]),t._v(" "),s("p",[t._v("  设置快速查询视图，可根据查询条件筛选查询记录，进而对比两个视图之间的差异。添加后的视图可编辑或者删除。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-view-new.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("View Name")]),t._v("：视图名称")]),t._v(" "),s("li",[s("code",[t._v("Branches & tags")]),t._v("：分支或标签名，多个用空格隔开，可选项包括所有引用"),s("code",[t._v("All refs")]),t._v("、所有本地分支"),s("code",[t._v("All (local) branches")]),t._v("、所有标签"),s("code",[t._v("All tags")]),t._v("、所有远程跟踪分支"),s("code",[t._v("All remote-tracking branches")])]),t._v(" "),s("li",[s("code",[t._v("Commit Info")]),t._v("：提交信息，包括作者"),s("code",[t._v("Author")]),t._v("、提交者"),s("code",[t._v("Committer")]),t._v("、提交信息"),s("code",[t._v("Commit Message")]),t._v("，可选项包括匹配所有提交信息条件"),s("code",[t._v("Matches all Commit Info citeria")]),t._v("、不匹配所有提交信息条件"),s("code",[t._v("Matches no Commit Info crteria")])]),t._v(" "),s("li",[s("code",[t._v("Changes to Files")]),t._v("：文件内容的更改，包括固定字符串"),s("code",[t._v("Fixed String")]),t._v("、正则表达式匹配"),s("code",[t._v("Regular Expression")])]),t._v(" "),s("li",[s("code",[t._v("Commit Dates")]),t._v("：提交时间，包括开始时间"),s("code",[t._v("Since")]),t._v("和结束时间"),s("code",[t._v("Until")])]),t._v(" "),s("li",[s("code",[t._v("Limit and/or skip a number of revision (positive integer)")]),t._v("：显示固定数量的提交日志，可从头跳过一定数量的日志")]),t._v(" "),s("li",[s("code",[t._v("Miscellaneous options")]),t._v("：其他选项，包括按时间排序"),s("code",[t._v("Strictly sort by date")]),t._v("、标记分支侧"),s("code",[t._v("Mark branch sides")]),t._v("、限制第一父提交"),s("code",[t._v("Limit to first parent")]),t._v("、简要历史"),s("code",[t._v("Simple history")]),t._v("，也可自定义"),s("code",[t._v("git log")]),t._v("的参数")]),t._v(" "),s("li",[s("code",[t._v("Enter files and directories to include, one per line")]),t._v("：包括的文件和目录，一行一个")])]),t._v(" "),s("h4",{attrs:{id:"help"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#help"}},[t._v("#")]),t._v(" Help")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-help.png",alt:""}})]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("gitk")]),t._v("帮助包括"),s("code",[t._v("gitk")]),t._v("简介、快捷键。")]),t._v(" "),s("h3",{attrs:{id:"提交历史"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交历史"}},[t._v("#")]),t._v(" 提交历史")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-commit-history.png",alt:""}})]),t._v(" "),s("p",[t._v("  提交历史包括提交信息、提交者、提交时间。")]),t._v(" "),s("p",[t._v("  点击不同的提交历史会被高亮为蓝色背景，最下方显示此提交的"),s("code",[t._v("SHA-1")]),t._v("校验和，每次点击都会被"),s("code",[t._v("gitk")]),t._v("记录，左右箭头切换记录的提交，"),s("code",[t._v("Row")]),t._v("为当前点击的提交的行数和总行数。")]),t._v(" "),s("p",[t._v("  提交信息会高亮本地分支、标签、远程跟踪分支，其中本地分支为绿色背景，"),s("code",[t._v("HEAD")]),t._v("指向的分支为黑色粗体，标签为黄色背景，远程跟踪分支为橙色背景。")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("find")]),t._v("上下箭头切换满足查询条件的提交记录。")]),t._v(" "),s("h4",{attrs:{id:"分支右键菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#分支右键菜单"}},[t._v("#")]),t._v(" 分支右键菜单")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-branch-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Check out this branch")]),t._v("：切换到此分支，即"),s("code",[t._v("HEAD")]),t._v("指向此分支")]),t._v(" "),s("li",[s("code",[t._v("Rename this branch")]),t._v("：重命名此分支")]),t._v(" "),s("li",[s("code",[t._v("Remove this branch")]),t._v("：删除此分支")]),t._v(" "),s("li",[s("code",[t._v("Copy branch name")]),t._v("：拷贝分支名")])]),t._v(" "),s("h4",{attrs:{id:"记录右键菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#记录右键菜单"}},[t._v("#")]),t._v(" 记录右键菜单")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-record-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Create tag")]),t._v("：创建标签")]),t._v(" "),s("li",[s("code",[t._v("Copy commit reference")]),t._v("：拷贝此提交简略信息，包括"),s("code",[t._v("7")]),t._v("位"),s("code",[t._v("SHA-1")]),t._v("校验和、提交信息和提交时间（年月日）")]),t._v(" "),s("li",[s("code",[t._v("Write commit to file")]),t._v("：导出详细提交信息为文件，包括具体修改内容")]),t._v(" "),s("li",[s("code",[t._v("Create new branch")]),t._v("：创建新分支")]),t._v(" "),s("li",[s("code",[t._v("Cherry-pick")]),t._v("：拣选此提交")]),t._v(" "),s("li",[s("code",[t._v("Reset master branch to here")]),t._v("：重置"),s("code",[t._v("master")]),t._v("分支到此提交，包括"),s("code",[t._v("Soft")]),t._v("、"),s("code",[t._v("Mixed")]),t._v("和"),s("code",[t._v("Hard")]),t._v("，其中"),s("code",[t._v("Hard")]),t._v("将重置工作目录和暂存区，"),s("code",[t._v("Mixed")]),t._v("将重置暂存区域，"),s("code",[t._v("Soft")]),t._v("仅撤销此提交后的提交")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-record-reset.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Mark this commit")]),t._v("：标记此提交，被标记的提交含黑色边框，注意只能有一个被标记的提交")]),t._v(" "),s("li",[s("code",[t._v("Revert this commit")]),t._v("：还原此提交，即生成新的提交来撤销此提交的修改")])]),t._v(" "),s("h4",{attrs:{id:"标记后右键菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#标记后右键菜单"}},[t._v("#")]),t._v(" 标记后右键菜单")]),t._v(" "),s("p",[t._v("  标记某个提交后，其余的提交将开启部分右键菜单。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-tag-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Return to mark")]),t._v("：跳转到被标记的提交")]),t._v(" "),s("li",[s("code",[t._v("Find descendant of this and mark")]),t._v("：查找当前提交和被标记的提交的最近的共同后代")]),t._v(" "),s("li",[s("code",[t._v("Compare with marked commit")]),t._v("：比较此提交和被标记的提交，不同于"),s("code",[t._v("diff")])]),t._v(" "),s("li",[s("code",[t._v("Diff this -> markedcommit")]),t._v("："),s("code",[t._v("diff")]),t._v("此提交和被标记的提交")]),t._v(" "),s("li",[s("code",[t._v("Diff marked commit -> this")]),t._v("："),s("code",[t._v("diff")]),t._v("被标记的提交和此提交")])]),t._v(" "),s("h4",{attrs:{id:"选中后右键菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选中后右键菜单"}},[t._v("#")]),t._v(" 选中后右键菜单")]),t._v(" "),s("p",[t._v("  选中某次提交后，右键其他提交将开启部分右键菜单。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-selected-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Diff this-> selected")]),t._v("："),s("code",[t._v("diff")]),t._v("此提交和被选中的提交")]),t._v(" "),s("li",[s("code",[t._v("Diff selected -> this")]),t._v("："),s("code",[t._v("diff")]),t._v("被选中的提交和此提交")]),t._v(" "),s("li",[s("code",[t._v("Make patch")]),t._v("：将此提交和被选中的提交的"),s("code",[t._v("diff")]),t._v("生成一个"),s("code",[t._v("patch")]),t._v("文件")])]),t._v(" "),s("h4",{attrs:{id:"提交历史查询"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交历史查询"}},[t._v("#")]),t._v(" 提交历史查询")]),t._v(" "),s("p",[t._v("  底部"),s("code",[t._v("commit")]),t._v("后为查询类型列表。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-commit-history-type.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("containing")]),t._v("：包含，配合后面范围参数")]),t._v(" "),s("li",[s("code",[t._v("touching paths")]),t._v("：文件路径")]),t._v(" "),s("li",[s("code",[t._v("adding/removing string")]),t._v("：修改内容包括添加或删除的字符串")]),t._v(" "),s("li",[s("code",[t._v("changing lines matching")]),t._v("：修改的行数")])]),t._v(" "),s("p",[t._v("  查询方式。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-search-type.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Exact")]),t._v("：精确匹配")]),t._v(" "),s("li",[s("code",[t._v("IgnCase")]),t._v("：忽略大小写")]),t._v(" "),s("li",[s("code",[t._v("Regexp")]),t._v("：正则表达式")])]),t._v(" "),s("p",[t._v("  查询范围。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-search-range.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("All fileds")]),t._v("：所有范围")]),t._v(" "),s("li",[s("code",[t._v("Headline")]),t._v("：提交信息的标题")]),t._v(" "),s("li",[s("code",[t._v("Comments")]),t._v("：提交信息的内容")]),t._v(" "),s("li",[s("code",[t._v("Author")]),t._v("：作者")]),t._v(" "),s("li",[s("code",[t._v("Committer")]),t._v("：提交者")])]),t._v(" "),s("h3",{attrs:{id:"提交信息"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交信息"}},[t._v("#")]),t._v(" 提交信息")]),t._v(" "),s("p",[t._v("  显示提交的具体信息或两个提交的"),s("code",[t._v("diff")]),t._v("差异。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-commit-msg.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"选项参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项参数"}},[t._v("#")]),t._v(" 选项参数")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Diff")]),t._v("：显示两个提交的"),s("code",[t._v("diff")]),t._v("差异")]),t._v(" "),s("li",[s("code",[t._v("Old version")]),t._v("：旧版本")]),t._v(" "),s("li",[s("code",[t._v("New version")]),t._v("：新版本")]),t._v(" "),s("li",[s("code",[t._v("Lines of context")]),t._v("：变更区域的上下文行数")]),t._v(" "),s("li",[s("code",[t._v("ignore space change")]),t._v("：忽略空格变化")]),t._v(" "),s("li",[s("code",[t._v("diff")]),t._v("样式：包括"),s("code",[t._v("Line diff")]),t._v("、"),s("code",[t._v("Markup words")]),t._v("和"),s("code",[t._v("Color words")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-commit-params.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"提交信息-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交信息-2"}},[t._v("#")]),t._v(" 提交信息")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Author")]),t._v("：作者")]),t._v(" "),s("li",[s("code",[t._v("Committer")]),t._v("：提交者")]),t._v(" "),s("li",[s("code",[t._v("Tags")]),t._v("：当前标签节点")]),t._v(" "),s("li",[s("code",[t._v("Parent")]),t._v("：当前提交的父提交，合并提交存在多个父提交")]),t._v(" "),s("li",[s("code",[t._v("Branches")]),t._v("：当前节点最近的分支")]),t._v(" "),s("li",[s("code",[t._v("Follows")]),t._v("：当前节点最近的上一个标签")]),t._v(" "),s("li",[s("code",[t._v("Precedes")]),t._v("：当前节点最近的下一个标签")])]),t._v(" "),s("h3",{attrs:{id:"版本树"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#版本树"}},[t._v("#")]),t._v(" 版本树")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-version-tree.png",alt:""}})]),t._v(" "),s("h4",{attrs:{id:"选项参数-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#选项参数-2"}},[t._v("#")]),t._v(" 选项参数")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Patch")]),t._v("：仅显示变更的文件列表")]),t._v(" "),s("li",[s("code",[t._v("Tree")]),t._v("：显示完整文件树")])]),t._v(" "),s("h4",{attrs:{id:"右键菜单"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#右键菜单"}},[t._v("#")]),t._v(" 右键菜单")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gitk-right-menu.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Highlight this too")]),t._v("：高亮修改过此文件的提交记录")]),t._v(" "),s("li",[s("code",[t._v("Highlight this only")]),t._v("：仅高亮修改过此文件的提交记录，若当前提交历史中还高亮有其他文件，则取消其他文件的高亮")]),t._v(" "),s("li",[s("code",[t._v("External diff")]),t._v("：使用外部"),s("code",[t._v("diff")]),t._v("工具查看")]),t._v(" "),s("li",[s("code",[t._v("Blame parent commit")]),t._v("：查看此文件的全部内容的变更记录")]),t._v(" "),s("li",[s("code",[t._v("Copy path")]),t._v("：拷贝文件路径")])]),t._v(" "),s("h2",{attrs:{id:"git-gui"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-gui"}},[t._v("#")]),t._v(" Git Gui")]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Git Gui")]),t._v("也是"),s("code",[t._v("Git")]),t._v("内置的可视化工具，大部分操作相对于命令行显得方便很多，其中部分暂存等是命令行方式所达不到的。")]),t._v(" "),s("p",[t._v("  仓库根目录下右击"),s("code",[t._v("Git GUI Here")]),t._v("或者命令行运行"),s("code",[t._v("git gui")]),t._v("打开如下可视化界面。其中主要包括菜单栏"),s("code",[t._v("A")]),t._v("、工作区变更"),s("code",[t._v("B")]),t._v("、差异对比"),s("code",[t._v("C")]),t._v("、暂存区"),s("code",[t._v("D")]),t._v("、提交信息"),s("code",[t._v("E")]),t._v("五个区域。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"菜单栏-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#菜单栏-2"}},[t._v("#")]),t._v(" 菜单栏")]),t._v(" "),s("h4",{attrs:{id:"repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#repository"}},[t._v("#")]),t._v(" Repository")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-repos.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Explore Working Copy")]),t._v("：浏览工作目录")]),t._v(" "),s("li",[s("code",[t._v("Git Bash")]),t._v("："),s("code",[t._v("Git")]),t._v("命令行")]),t._v(" "),s("li",[s("code",[t._v("Browse master's Files")]),t._v("：浏览当前分支文件")]),t._v(" "),s("li",[s("code",[t._v("Browse Branch Files")]),t._v("：浏览所有分支文件，其中"),s("code",[t._v("Revision Expression")]),t._v("为版本正则表达式，待选分支包括本地分支"),s("code",[t._v("Local Branch")]),t._v("、远程跟踪分支"),s("code",[t._v("Tracking Branch")]),t._v("、标签"),s("code",[t._v("Tag")]),t._v("，搜索栏关键字搜索待选分支")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-repos-browse-branch.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Visualize master's History")]),t._v("：可视化当前分支的历史")]),t._v(" "),s("li",[s("code",[t._v("Visualize All Branch History")]),t._v("：可视化所有分支的历史")]),t._v(" "),s("li",[s("code",[t._v("Database Statistics")]),t._v("：数据库统计，其中包括松散对象数量"),s("code",[t._v("Number of loose objects")]),t._v("、 松散对象占用的磁盘空间"),s("code",[t._v("Disk space used by loose objects")]),t._v("、包文件中的对象数量"),s("code",[t._v("Number of packed objects")]),t._v("、包文件数量"),s("code",[t._v("Number of packs")]),t._v("、包文件中对象占用的磁盘空间"),s("code",[t._v("Disk space used by packed objects")]),t._v("、包文件中的松散对象"),s("code",[t._v("Packed objects waiting for pruning")]),t._v("、垃圾文件"),s("code",[t._v("Garbage files")]),t._v("，"),s("code",[t._v("Compress Database")]),t._v("即打包"),s("code",[t._v("git gc")]),t._v("数据库")])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-repos-database.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Compress Database")]),t._v("：打包数据库")]),t._v(" "),s("li",[s("code",[t._v("Verify Database")]),t._v("：验证"),s("code",[t._v("fsck")]),t._v("数据库连贯性和有效性")]),t._v(" "),s("li",[s("code",[t._v("Create Desktop Icon")]),t._v("：创建桌面图标")]),t._v(" "),s("li",[s("code",[t._v("Quit")]),t._v("：退出")])]),t._v(" "),s("h4",{attrs:{id:"edit-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#edit-2"}},[t._v("#")]),t._v(" Edit")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-edit.png",alt:""}})]),t._v(" "),s("p",[t._v("  ;"),s("code",[t._v("Edit")]),t._v("用于操作提交信息区域，包括撤销"),s("code",[t._v("Undo")]),t._v("、重做"),s("code",[t._v("Redo")]),t._v("、剪切"),s("code",[t._v("Cut")]),t._v("、复制"),s("code",[t._v("Copy")]),t._v("、粘贴"),s("code",[t._v("Paste")]),t._v("、删除"),s("code",[t._v("Delete")]),t._v("、全选"),s("code",[t._v("Select All")]),t._v("、选项"),s("code",[t._v("Options")]),t._v("，除了"),s("code",[t._v("Options")]),t._v("外的选项一般用处不大，都能通过快捷键实现。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-edit-options.png",alt:""}})]),t._v(" "),s("p",[t._v("  其中"),s("code",[t._v("repo Repository")]),t._v("为当前仓库下的配置选项，"),s("code",[t._v("Global (All Repository)")]),t._v("为全局下的仓库配置选项。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Summarize Merge Commits")]),t._v("：汇总合并提交")]),t._v(" "),s("li",[s("code",[t._v("Show Diffstat After Merge")]),t._v("：合并后显示"),s("code",[t._v("diff")]),t._v("统计")]),t._v(" "),s("li",[s("code",[t._v("use Merge Tool")]),t._v("：使用合并工具")]),t._v(" "),s("li",[s("code",[t._v("Trust File Modification Timestamps")]),t._v("：信任文件的改动时间")]),t._v(" "),s("li",[s("code",[t._v("Prune Tracking Branches During Fetch")]),t._v("：获取时清除跟踪分支")]),t._v(" "),s("li",[s("code",[t._v("Match Tracking Branches")]),t._v("：匹配跟踪分支")]),t._v(" "),s("li",[s("code",[t._v("Use Textconv For Diffs and Blames")]),t._v("：对差异和标注使用"),s("code",[t._v("Textconv")])]),t._v(" "),s("li",[s("code",[t._v("Blame Copy Only On Changed Files")]),t._v("：仅标注变动的文件")]),t._v(" "),s("li",[s("code",[t._v("Maximum Length of Recent Repositories List")]),t._v("：当前版本库列表的最大长度")]),t._v(" "),s("li",[s("code",[t._v("Minimum Letters To Blame Copy On")]),t._v("：标注副本的最少字母数量")]),t._v(" "),s("li",[s("code",[t._v("Blame History Context Radius (days)")]),t._v("：标注历史上下文范围（天）")]),t._v(" "),s("li",[s("code",[t._v("Number of Diff Context Line")]),t._v("："),s("code",[t._v("diff")]),t._v("差异的上下文行数")]),t._v(" "),s("li",[s("code",[t._v("Additional Diff Parameters")]),t._v("：其他"),s("code",[t._v("diff")]),t._v("参数")]),t._v(" "),s("li",[s("code",[t._v("Commit Message Text Width")]),t._v("：提交信息文本宽度")]),t._v(" "),s("li",[s("code",[t._v("Commit Message Text Width")]),t._v("：新分支名称模板")]),t._v(" "),s("li",[s("code",[t._v("Default File Contents Encoding")]),t._v("：默认文件内容编码格式")]),t._v(" "),s("li",[s("code",[t._v("Warn before committing to a detached head")]),t._v("：提交到一个游离的"),s("code",[t._v("HEAD")]),t._v("前警告")]),t._v(" "),s("li",[s("code",[t._v("Staging of untracked files")]),t._v("：暂存未跟踪的文件，包括是"),s("code",[t._v("yes")]),t._v("、否"),s("code",[t._v("no")]),t._v("或者询问"),s("code",[t._v("ask")])]),t._v(" "),s("li",[s("code",[t._v("Show untracked files")]),t._v("：显示未跟踪的文件")])]),t._v(" "),s("h4",{attrs:{id:"branch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#branch"}},[t._v("#")]),t._v(" Branch")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-branch.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Create")]),t._v("：创建分支，可输入分支名称"),s("code",[t._v("Name")]),t._v("创建，也可匹配远程跟踪分支"),s("code",[t._v("Match Tracking Branch Name")]),t._v("检出跟踪分支。或者从本地分支"),s("code",[t._v("Local Branch")]),t._v("、远程跟踪分支"),s("code",[t._v("Tracking Branch")]),t._v("、标签"),s("code",[t._v("Tag")]),t._v("检出分支，相关分支选项"),s("code",[t._v("Options")]),t._v("为更新存在的分支"),s("code",[t._v("Update Existing Branch")]),t._v("，包括无操作"),s("code",[t._v("No")]),t._v("、仅快进"),s("code",[t._v("Fast Forward Only")]),t._v("、重置"),s("code",[t._v("Reset")]),t._v("，拉取跟踪分支"),s("code",[t._v("Fetch Tracking Branch")]),t._v("，创建分支后并检出"),s("code",[t._v("Checkout After Creation")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-branch-create.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Checkout")]),t._v("：检出分支")]),t._v(" "),s("li",[s("code",[t._v("Rename")]),t._v("：分支重命名")]),t._v(" "),s("li",[s("code",[t._v("Delete")]),t._v("：删除分支")]),t._v(" "),s("li",[s("code",[t._v("Reset")]),t._v("：重置当前分支，若包括有未提交的修改，重置时将丢失")])]),t._v(" "),s("h4",{attrs:{id:"commit"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#commit"}},[t._v("#")]),t._v(" Commit")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-commit.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Amend Last Commit")]),t._v("：修改最后一次提交")]),t._v(" "),s("li",[s("code",[t._v("Rescan")]),t._v("：刷新，外部命令行操作了版本库，刷新同步")]),t._v(" "),s("li",[s("code",[t._v("Statge To Commit")]),t._v("：暂存选中的文件")]),t._v(" "),s("li",[s("code",[t._v("Stage Changed Files To Commit")]),t._v("：暂存工作区文件")]),t._v(" "),s("li",[s("code",[t._v("Unstage Form Commit")]),t._v("：撤销暂存选中的文件")]),t._v(" "),s("li",[s("code",[t._v("Show Less Context")]),t._v("："),s("code",[t._v("diff")]),t._v("显示更少的上下文")]),t._v(" "),s("li",[s("code",[t._v("Show More Context")]),t._v("："),s("code",[t._v("diff")]),t._v("显示更多的上下文")]),t._v(" "),s("li",[s("code",[t._v("Sign Off")]),t._v("：提交信息末尾追加操作者信息，一般拣选时不清楚提交记录的来源，可追加操作者信息便于追溯")]),t._v(" "),s("li",[s("code",[t._v("Commit")]),t._v("：提交")])]),t._v(" "),s("h4",{attrs:{id:"merge"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#merge"}},[t._v("#")]),t._v(" Merge")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-merge.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Local Merge")]),t._v("：选择本地分支合并")]),t._v(" "),s("li",[s("code",[t._v("Abort Merge")]),t._v("：撤销合并，某些情况下合并造成冲突，退回合并前的状态")])]),t._v(" "),s("h4",{attrs:{id:"remote"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#remote"}},[t._v("#")]),t._v(" Remote")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-remote.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Fetch from")]),t._v("：获取某个远程库更新")]),t._v(" "),s("li",[s("code",[t._v("Prune from")]),t._v("：裁剪从某个远程库删除的跟踪分支")]),t._v(" "),s("li",[s("code",[t._v("Remove Remote")]),t._v("：删除某个远程库")]),t._v(" "),s("li",[s("code",[t._v("Add")]),t._v("：添加某个远程库，包括立即拉取"),s("code",[t._v("Fetch Immediately")]),t._v("、初始化远程仓库并推送"),s("code",[t._v("Initialize Remote Repository and Push")]),t._v("、无操作"),s("code",[t._v("Do Nothing EIse Now")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-remote-add.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Push")]),t._v("：推送，可推送至指定远程仓库，也可强制覆盖已存在的分支"),s("code",[t._v("Force overwrite existing branch (may discard changes)")]),t._v("、使用简包"),s("code",[t._v("Use thin pack (for slow network connections)")]),t._v("、包括本地标签"),s("code",[t._v("Include tags")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-remote-push.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Delete Branch")]),t._v("：删除某个远程库的分支")])]),t._v(" "),s("h4",{attrs:{id:"tools"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tools"}},[t._v("#")]),t._v(" Tools")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-tools.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Add")]),t._v("：添加新的命令，包括命令名称"),s("code",[t._v("Name")]),t._v("、命令指令"),s("code",[t._v("Command")]),t._v("，运行前可显示对话框"),s("code",[t._v("Show a dialog before running")]),t._v("，用户选中一个版本"),s("code",[t._v("Ask the user to select a revision")]),t._v("或者询问用户附加参数"),s("code",[t._v("Ask the user for additional arguments")]),t._v("，不显示命令输出窗口"),s("code",[t._v("Don't show the command output window")]),t._v("，仅选择了"),s("code",[t._v("diff")]),t._v("才运行"),s("code",[t._v("Run only if a diff is selected")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-tools-add.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Remove")]),t._v("：删除某个添加的命令")])]),t._v(" "),s("h4",{attrs:{id:"help-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#help-2"}},[t._v("#")]),t._v(" Help")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-help.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("About Git Gui")]),t._v("：关于"),s("code",[t._v("Git Gui")])]),t._v(" "),s("li",[s("code",[t._v("Online Documentation")]),t._v("：在线文档")]),t._v(" "),s("li",[s("code",[t._v("Show SSH Key")]),t._v("：显示"),s("code",[t._v("SSH")]),t._v("公匙，当前不存在可点击"),s("code",[t._v("Generate Key")]),t._v("生成"),s("code",[t._v("Key")])])]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-help-key.png",alt:""}})]),t._v(" "),s("h3",{attrs:{id:"差异对比"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#差异对比"}},[t._v("#")]),t._v(" 差异对比")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-diff.png",alt:""}})]),t._v(" "),s("p",[t._v("  差异对比区域无任何文件时右键菜单。")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Undo Last Revert")]),t._v("：撤销最后一次丢弃"),s("code",[t._v("Revert")]),t._v("，丢弃文件"),s("code",[t._v("Revert Hunk")]),t._v("或丢弃行"),s("code",[t._v("Revert Line")]),t._v("均会丢弃掉修改，"),s("code",[t._v("Git Bash")]),t._v("命令行"),s("code",[t._v("git checkout")]),t._v("丢弃掉修改则无法再恢复，但是"),s("code",[t._v("Git Gui")]),t._v("缓存了最后一次丢弃前的那个文件的版本")]),t._v(" "),s("li",[s("code",[t._v("Refresh")]),t._v("：刷新")]),t._v(" "),s("li",[s("code",[t._v("Copy")]),t._v("：复制")]),t._v(" "),s("li",[s("code",[t._v("Select All")]),t._v("：全选")]),t._v(" "),s("li",[s("code",[t._v("Copy All")]),t._v("：复制全部")]),t._v(" "),s("li",[s("code",[t._v("Decrease Font Size")]),t._v("：缩小字体")]),t._v(" "),s("li",[s("code",[t._v("Increase Font Size")]),t._v("：放大字体")]),t._v(" "),s("li",[s("code",[t._v("Encoding")]),t._v("：文件内容编码")]),t._v(" "),s("li",[s("code",[t._v("Options")]),t._v("：选项")])]),t._v(" "),s("h3",{attrs:{id:"工作区变更"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#工作区变更"}},[t._v("#")]),t._v(" 工作区变更")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-working.png",alt:""}})]),t._v(" "),s("p",[t._v("  点击文件前蓝色图标可快捷暂存文件，差异对比开启部分右键菜单。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-working-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Stage Hunk For Commit")]),t._v("：暂存文件")]),t._v(" "),s("li",[s("code",[t._v("Stage Line For Commit")]),t._v("：暂存某一行或者多行，可通过点击某一行或者托选多行实现选中")]),t._v(" "),s("li",[s("code",[t._v("Rever Hunk")]),t._v("：撤销或丢弃文件的修改")]),t._v(" "),s("li",[s("code",[t._v("Rever Line")]),t._v("：撤销或丢弃某一行或者多行的修改")]),t._v(" "),s("li",[s("code",[t._v("Show Less Context")]),t._v("：显示更少的上下文")]),t._v(" "),s("li",[s("code",[t._v("Show More Context")]),t._v("：显示更多的上下文")])]),t._v(" "),s("h3",{attrs:{id:"暂存区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暂存区"}},[t._v("#")]),t._v(" 暂存区")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-index.png",alt:""}})]),t._v(" "),s("p",[t._v("  点击文件前绿色图标可快捷取消暂存文件，差异对比开启部分右键菜单。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-index-right.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Unstaged Hunk From Commit")]),t._v("：取消暂存文件")]),t._v(" "),s("li",[s("code",[t._v("Unstaged Line From Commit")]),t._v("：取消暂存文件的某一行或者多行")])]),t._v(" "),s("h3",{attrs:{id:"提交信息-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#提交信息-3"}},[t._v("#")]),t._v(" 提交信息")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-commit-msg.png",alt:""}})]),t._v(" "),s("ul",[s("li",[s("code",[t._v("Rescan")]),t._v("：刷新")]),t._v(" "),s("li",[s("code",[t._v("Staged Changed")]),t._v("：暂存文件")]),t._v(" "),s("li",[s("code",[t._v("Sign Off")]),t._v("：签署，提交信息的末尾追加一行操作者信息")]),t._v(" "),s("li",[s("code",[t._v("Push")]),t._v("：推送")]),t._v(" "),s("li",[s("code",[t._v("Amend Last Commit")]),t._v("：修改最后一次提交")]),t._v(" "),s("li",[s("code",[t._v("Commit Message")]),t._v("：提交信息")])]),t._v(" "),s("p",[t._v("  提交信息右键菜单与菜单栏基本一致。")]),t._v(" "),s("p",[s("img",{attrs:{src:"/other/git/lower-gui-commit-msg-right.png",alt:""}})]),t._v(" "),s("p",[s("RouterLink",{attrs:{to:"/pages/other/git/middle.html"}},[t._v("上一篇")])],1),t._v(" "),s("h2",{attrs:{id:"🎉-写在最后"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#🎉-写在最后"}},[t._v("#")]),t._v(" 🎉 写在最后")]),t._v(" "),s("p",[t._v("🍻伙伴们，如果你已经看到了这里，觉得这篇文章有帮助到你的话不妨点赞👍或 "),s("a",{attrs:{href:"https://github.com/dongwei1125/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("Star"),s("OutboundLink")],1),t._v(" ✨支持一下哦！")]),t._v(" "),s("p",[t._v("手动码字，如有错误，欢迎在评论区指正💬~")]),t._v(" "),s("p",[t._v("你的支持就是我更新的最大动力💪~")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),s("OutboundLink")],1),t._v(" / "),s("a",{attrs:{href:"https://gitee.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://dongwei1125.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://juejin.cn/user/2621689331987783",target:"_blank",rel:"noopener noreferrer"}},[t._v("掘金"),s("OutboundLink")],1),t._v("、"),s("a",{attrs:{href:"https://blog.csdn.net/Don_GW",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSDN"),s("OutboundLink")],1),t._v(" 同步更新，欢迎关注😉~")])])}),[],!1,null,null,null);a.default=r.exports}}]);