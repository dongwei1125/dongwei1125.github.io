(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{446:function(t,s,e){"use strict";e.r(s);var a=e(34),r=Object(a.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"vscode-插件与-npm-包-保存时自动修复代码格式错误"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-插件与-npm-包-保存时自动修复代码格式错误"}},[t._v("#")]),t._v(" vscode 插件与 npm 包，保存时自动修复代码格式错误")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/banner.gif",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"前言"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),e("p",[t._v("  日常开发中的绝大多数项目，都是以团队为单位进行的。而由于每个成员的代码习惯和编码差异的不同，最终将导致整个项目的代码参差不齐，出现各式各样风格的代码。")]),t._v(" "),e("p",[t._v("  而此差异性会严重导致团队协作效率低下，后期可维护性也会严重降低。例如代码缩进问题，大部分都是以"),e("code",[t._v("2")]),t._v("个或者"),e("code",[t._v("4")]),t._v("个空格为标准，倘若在没有格式化工具的前提下，迭代起来就会显得异常麻烦，只能逐行添加或者删除空格，不仅浪费时间也毫无意义。")]),t._v(" "),e("p",[t._v("  因此制定统一规范的代码风格，并以此配置出格式化工具显得尤为重要，并且最好是在开发中就将此问题解决掉，于代码运行之前就检测出错误，保证推送到远端的代码是非常规范的。")]),t._v(" "),e("p",[t._v("  此篇文章将以"),e("code",[t._v("vuecli3")]),t._v("脚手架为基础项目，以"),e("code",[t._v("vscode")]),t._v("为代码编辑器，从零开始逐步详细配置相关插件，最终达到保存时自动修复代码格式错误，跟随此篇文章你将了解到。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("vscode")]),t._v("编辑器中"),e("code",[t._v("Vetur")]),t._v("插件的主要功能，多种配置"),e("code",[t._v("vue")]),t._v("代码片段的方式")]),t._v(" "),e("li",[t._v("解决"),e("code",[t._v("ESLint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("与"),e("code",[t._v("prettier")]),t._v("格式化之间的冲突，了解"),e("code",[t._v("eslint-config-prettier")]),t._v("与"),e("code",[t._v("eslint-plugin-prettier")]),t._v("之间的区别差异")]),t._v(" "),e("li",[t._v("旧脚手架项目如何接入格式化工具")]),t._v(" "),e("li",[t._v("代码提交时自动格式化并规范提交日志")]),t._v(" "),e("li",[e("code",[t._v("git hook")]),t._v("工具"),e("code",[t._v("husky")]),t._v("版本由"),e("code",[t._v("v4")]),t._v("迁移至"),e("code",[t._v("v7")]),t._v("时，如何修改相关配置项")]),t._v(" "),e("li",[t._v("常见的格式化问题以及处理方式")])]),t._v(" "),e("p",[t._v("  如果你仅关注如何使用，不关心配置流程和步骤，那么你可以跳过并浏览每个章节的小结部分，或者也可以访问 "),e("a",{attrs:{href:"https://github.com/dongwei1125/eslint-prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v(" 仓库。")]),t._v(" "),e("h2",{attrs:{id:"准备工作"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),e("h3",{attrs:{id:"工具版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#工具版本"}},[t._v("#")]),t._v(" 工具版本")]),t._v(" "),e("p",[t._v("  请确保你已经安装了 "),e("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("vscode"),e("OutboundLink")],1),t._v(" 编辑器和 "),e("a",{attrs:{href:"https://npm.taobao.org/mirrors/node/",target:"_blank",rel:"noopener noreferrer"}},[t._v("node"),e("OutboundLink")],1),t._v(" 环境，并且你也已经全局安装了 "),e("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/installation.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuecli"),e("OutboundLink")],1),t._v(" 脚手架和 "),e("a",{attrs:{href:"https://npm.taobao.org/mirrors/git-for-windows/",target:"_blank",rel:"noopener noreferrer"}},[t._v("git"),e("OutboundLink")],1),t._v(" 工具，此处贴一下相关命令与版本。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("vscode\n"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1.61")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".2")]),t._v("\n\nnode "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("version\nv14"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("15.0")]),t._v("\n\nvue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("version\n@vue"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cli "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.5")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".3")]),t._v("\n\ngit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("version\ngit version "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2.27")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("windows"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),e("h3",{attrs:{id:"vuecli3-功能选择"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vuecli3-功能选择"}},[t._v("#")]),t._v(" Vuecli3 功能选择")]),t._v(" "),e("p",[t._v("  选择目录或文件夹，开始创建"),e("code",[t._v("vuecli")]),t._v("脚手架，细致部分参考 "),e("a",{attrs:{href:"https://cli.vuejs.org/zh/guide/creating-a-project.html#vue-create",target:"_blank",rel:"noopener noreferrer"}},[t._v("vuecli"),e("OutboundLink")],1),t._v("，注意最好是启动"),e("code",[t._v("Powershell")]),t._v("来创建。")]),t._v(" "),e("p",[t._v("  磁盘根目录下按住"),e("code",[t._v("Shift")]),t._v("键再鼠标右击，选择"),e("code",[t._v("在此处打开 Powershell 窗口")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/ps.png",alt:""}})]),t._v(" "),e("p",[t._v("  运行命令"),e("code",[t._v("vue create app")]),t._v("，选择"),e("code",[t._v("Manually select features")]),t._v("来手动设置更多的选项。")]),t._v(" "),e("blockquote",[e("p",[t._v("上下键切换选项，"),e("code",[t._v("Enter")]),t._v("确认，空格键选中或取消")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/pick.png",alt:""}})]),t._v(" "),e("p",[t._v("  项目功能只选择"),e("code",[t._v("Vue")]),t._v("版本和"),e("code",[t._v("Babel")]),t._v("转译器。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/features.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vue")]),t._v("版本选择"),e("code",[t._v("2.x")]),t._v("，且各项配置在独立文件中。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/n.png",alt:""}})]),t._v(" "),e("p",[t._v("  创建成功。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/success.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"vscode-初始插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-初始插件"}},[t._v("#")]),t._v(" Vscode 初始插件")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("插件仅安装"),e("code",[t._v("chinese")]),t._v("和"),e("code",[t._v("Reload")]),t._v("两种，其中"),e("code",[t._v("chinese")]),t._v("语言拓展插件可安装也可不安装。")]),t._v(" "),e("blockquote",[e("p",[t._v("如果你还安装有其它插件，为了保证配置不出错，可以都禁用掉，不必卸载")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/plugins.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("Reload")]),t._v("插件将在"),e("code",[t._v("vscode")]),t._v("编辑器的右下角状态栏中添加重载按钮，用于快速重载"),e("code",[t._v("vscode")]),t._v("窗口，方便调试。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/reload.png",alt:""}})]),t._v(" "),e("p",[t._v("  键入"),e("code",[t._v("Shift + Ctrl + P")]),t._v("并输入"),e("code",[t._v("settings.json")]),t._v("打开设置，为了不影响调试效果，你的个性化等其它配置最好都注释掉。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/settings.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"修复流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修复流程"}},[t._v("#")]),t._v(" 修复流程")]),t._v(" "),e("h3",{attrs:{id:"vetur-代码风格-jsconfig-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vetur-代码风格-jsconfig-json"}},[t._v("#")]),t._v(" Vetur 代码风格 / jsconfig.json")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("打开"),e("code",[t._v("vuecli3")]),t._v("脚手架后，能明显看到"),e("code",[t._v("App.vue")]),t._v("全是文本字体，没有高亮，代码行距也很紧凑，非常难看。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/text.png",alt:""}})]),t._v(" "),e("p",[t._v("  因此视觉上的代码高亮问题要先解决，于是在"),e("code",[t._v("vscode")]),t._v("中搜索并安装 "),e("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=octref.vetur",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vetur"),e("OutboundLink")],1),t._v(" 插件。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/Vetur.png",alt:""}})]),t._v(" "),e("p",[t._v("  一般在安装完成后"),e("code",[t._v("vscode")]),t._v("右下角会收到警告提示，如果你没有收到，那请点击状态栏"),e("code",[t._v("Reload")]),t._v("按钮，重载后几秒之内你会收到的。")]),t._v(" "),e("p",[t._v("  原因在于"),e("code",[t._v("Vetur")]),t._v("会优先查找项目中的"),e("code",[t._v("tsconfig.json")]),t._v("和"),e("code",[t._v("jsconfig.json")]),t._v("文件，如果没有就会查找"),e("code",[t._v("vetur.config.js")]),t._v("文件，如果都没有，"),e("code",[t._v("Vetur")]),t._v("就会抛出此警告。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/jsconfig.png",alt:""}})]),t._v(" "),e("p",[t._v("  虽然说警告影响不大，但是有没有像我一样看着就来气的，真是气死强迫症。")]),t._v(" "),e("p",[t._v("  没有那就创建一个"),e("code",[t._v("jsconfig.json")]),t._v("呗。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jsconfig.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"paths"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@/*"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/*"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"exclude"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  若目录中存在"),e("code",[t._v("jsconfig.json")]),t._v("，则表示此目录是"),e("code",[t._v("JavaScript")]),t._v("项目的根目录，因此包含以下文件的目录就被认为是根目录，更多 "),e("a",{attrs:{href:"https://code.visualstudio.com/docs/languages/jsconfig",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("├── node_modules\n├── "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n├── jsconfig"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n├── "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n├── "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("package")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n├── "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("README")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("md\n")])])]),e("p",[t._v("  其中"),e("code",[t._v("exclude")]),t._v("用于告知"),e("code",[t._v("vscode")]),t._v("哪些文件不属于源代码，使其"),e("code",[t._v("IntelliSense")]),t._v("（智能感知，即代码自动补全提示等）保持在高性能水平。"),e("code",[t._v("baseUrl")]),t._v("用于指定基础目录，"),e("code",[t._v("paths")]),t._v("表示相对于"),e("code",[t._v("baseUrl")]),t._v("选项计算的路径映射。")]),t._v(" "),e("p",[t._v("  因此"),e("code",[t._v("@/*")]),t._v("即映射到当前目录"),e("code",[t._v("app")]),t._v("下的"),e("code",[t._v("src")]),t._v("目录下的文件或文件夹。如果还是没懂可以看如下图片，输入"),e("code",[t._v("@/")]),t._v("后随即智能提示出了"),e("code",[t._v("src")]),t._v("目录下的文件或文件夹。而此智能提示就是刚才配置"),e("code",[t._v("jsconfig.json")]),t._v("的劳动成果。")]),t._v(" "),e("blockquote",[e("p",[t._v("可以尝试注释"),e("code",[t._v("jsconfig.json")]),t._v("，"),e("code",[t._v("Reload")]),t._v("重载窗口，再次输入"),e("code",[t._v("@/")]),t._v("查看是否有无智能提示")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/intellisence.png",alt:""}})]),t._v(" "),e("p",[t._v("  代码有高亮看着舒服多了，但是稍显紧凑，因此来修改下行距和"),e("code",[t._v("Tab")]),t._v("空格数。")]),t._v(" "),e("p",[t._v("  根目录下创建"),e("code",[t._v(".vscode")]),t._v("文件夹，新增"),e("code",[t._v("settings.json")]),t._v("。"),e("code",[t._v("lineHeight")]),t._v("用于指定行高，"),e("code",[t._v("tabSize")]),t._v("用于指定一个"),e("code",[t._v("Tab")]),t._v("键表示几个空格，但是可能会被覆盖。")]),t._v(" "),e("p",[t._v("  原因是因为"),e("code",[t._v("editor.detectIndentation")]),t._v("默认为开启状态，表示根据文件内容自动检测出"),e("code",[t._v("editor.tabSize")]),t._v("，若检测出"),e("code",[t._v("editor.tabSize")]),t._v("则将自动覆盖设置项。因此若要强制一个"),e("code",[t._v("Tab")]),t._v("键为几个空格，可以将"),e("code",[t._v("editor.detecIndentation")]),t._v("设置为"),e("code",[t._v("false")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.tabSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.lineHeight"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// "editor.detectIndentation": false')]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  修改后"),e("code",[t._v("App.vue")]),t._v("的风格样式。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/style.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"eslint-错误检查"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint-错误检查"}},[t._v("#")]),t._v(" ESLint 错误检查")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("Vetur")]),t._v("对"),e("code",[t._v("vue")]),t._v("中"),e("code",[t._v("<template>")]),t._v("、"),e("code",[t._v("<style>")]),t._v("、"),e("code",[t._v("<script>")]),t._v("都进行了错误检查，内部默认捆绑了 "),e("a",{attrs:{href:"https://eslint.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-vue"),e("OutboundLink")],1),t._v(" 用于模板错误检查。默认情况下"),e("code",[t._v("Vetur")]),t._v("加载 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/#priority-a-essential-error-prevention-for-vue-js-2-x",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/essential"),e("OutboundLink")],1),t._v(" 规则集用于"),e("code",[t._v("vue2")]),t._v("项目。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/essential.png",alt:""}})]),t._v(" "),e("p",[t._v("  但是由于"),e("code",[t._v("essential")]),t._v("规则集有限，现在选择官方推荐的 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/#priority-c-recommended-minimizing-arbitrary-choices-and-cognitive-overhead-for-vue-js-2-x",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/recommended"),e("OutboundLink")],1),t._v(" 规则集来校验代码，因此将自定义"),e("code",[t._v("Vetur")]),t._v("的规则集，下面来自定义错误检查。")]),t._v(" "),e("p",[t._v("  首先关闭"),e("code",[t._v("Vetur")]),t._v("的模板验证。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"vetur.validation.template"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  模板验证已经关闭。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/close.png",alt:""}})]),t._v(" "),e("p",[t._v("  然后安装"),e("code",[t._v("vscode")]),t._v("的 "),e("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESLint"),e("OutboundLink")],1),t._v(" 插件，让"),e("code",[t._v("ESLint")]),t._v("插件来检查错误，而不是"),e("code",[t._v("Vetur")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/ESLint.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("ESLint")]),t._v("插件将使用项目中的"),e("code",[t._v("eslint")]),t._v("依赖包，若项目内未提供，则"),e("code",[t._v("ESLint")]),t._v("插件会全局查找，因此项目需安装"),e("code",[t._v("eslint")]),t._v("依赖包。而针对"),e("code",[t._v("vue")]),t._v("项目，必然要一套检查"),e("code",[t._v("vue")]),t._v("代码的规则集，而此规则集可由"),e("code",[t._v("eslint-plugin-vue")]),t._v("提供。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i eslint eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("eslint-plugin-vue")]),t._v("有很多种规则集，而"),e("code",[t._v("ESLint")]),t._v("也不知道具体采用何种规则集，因此还要告知"),e("code",[t._v("ESLint")]),t._v("运用哪一套规则集去检查代码，所以根目录下新建"),e("code",[t._v(".eslintrc.js")]),t._v("文件。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("ESLint")]),t._v("检测配置文件的步骤如下，更多 "),e("a",{attrs:{href:"https://cn.eslint.org/docs/user-guide/configuring#configuration-cascading-and-hierarchy",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("ul",[e("li",[t._v("项目内查找"),e("code",[t._v(".eslintrc.*")]),t._v("或"),e("code",[t._v("package.json")]),t._v("文件（"),e("code",[t._v("package.json")]),t._v("内也可配置相关属性）")]),t._v(" "),e("li",[t._v("若未找到，则在父级目录中查找，一直查找至磁盘根目录")]),t._v(" "),e("li",[t._v("若在以上两步中发现"),e("code",[t._v("root: true")]),t._v("，则停止往父级目录中查找")])]),t._v(" "),e("p",[t._v("  另外"),e("code",[t._v("extends")]),t._v("表示启用 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/#priority-c-recommended-minimizing-arbitrary-choices-and-cognitive-overhead-for-vue-js-2-x",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/recommended"),e("OutboundLink")],1),t._v(" 规则集，"),e("code",[t._v("rules")]),t._v("中可自定义检查规则，"),e("code",[t._v("['error', 'single']")]),t._v("表示字符串仅能使用单引号，若非单引号则将以错误下划线高亮。")]),t._v(" "),e("blockquote",[e("p",[e("code",[t._v("['warn', 'single']")]),t._v("将以警告下划线高亮")])]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/quotes.png",alt:""}})]),t._v(" "),e("p",[t._v("  新增了配置点击状态栏"),e("code",[t._v("Reload")]),t._v("重载窗口，查看"),e("code",[t._v("App.vue")]),t._v("文件，自定义错误检查已生效。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/custom.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"autofix"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#autofix"}},[t._v("#")]),t._v(" Autofix")]),t._v(" "),e("p",[t._v("  现在已经可以对代码进行检查了，手动尝试下修复代码。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/try-fixed.png",alt:""}})]),t._v(" "),e("p",[t._v("  但是你可以打开"),e("code",[t._v("component/HelloWorld.vue")]),t._v("浏览看看，通篇的警告就问你慌不慌。像"),e("code",[t._v("App.vue")]),t._v("代码较少，尚可以手动修复，但是"),e("code",[t._v("HelloWorld.vue")]),t._v("难道要一行一行修改不成。")]),t._v(" "),e("p",[t._v("  有没有可能"),e("code",[t._v("ESLint")]),t._v("检测出代码，并且还能修复呢，嘿嘿，还真有，即"),e("code",[t._v("ESLint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("功能。")]),t._v(" "),e("p",[t._v("  将"),e("code",[t._v("App.vue")]),t._v("还是恢复为以下状态。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/restore.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("命令行执行以下命令，即修复"),e("code",[t._v("App.vue")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npx eslint src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("fix\n")])])]),e("p",[t._v("  修复后的"),e("code",[t._v("App.vue")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/fixed-after.png",alt:""}})]),t._v(" "),e("p",[t._v("  此时控制台输出"),e("code",[t._v("2")]),t._v("个错误，大致描述就是"),e("code",[t._v("v-for")]),t._v("的元素需指定"),e("code",[t._v("key")]),t._v("，而"),e("code",[t._v("item")]),t._v("也声明但是未被使用。你要知道的是"),e("code",[t._v("ESLint")]),t._v("仅仅能修复简单的错误，像"),e("code",[t._v("v-for")]),t._v("的"),e("code",[t._v("key")]),t._v("值问题等还是需要你手动修复的。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/errors.png",alt:""}})]),t._v(" "),e("p",[t._v("  可能你会问，是不是每次代码写完还要针对某个文件执行一次"),e("code",[t._v("npx eslint ...")]),t._v("，如果是那样就真的尴了个大尬。")]),t._v(" "),e("p",[t._v("  在"),e("code",[t._v("settings.json")]),t._v("添加如下命令，即在每次文件被保存时，自动执行"),e("code",[t._v("fix")]),t._v("修复。")]),t._v(" "),e("blockquote",[e("p",[t._v("可能你会在其它文章中看到"),e("code",[t._v("source.fixAll")]),t._v("，两者区别在于"),e("code",[t._v("source.fixAll")]),t._v("表示针对所有插件开启自动修复，"),e("code",[t._v("source.fixAll.eslint")]),t._v("表示只在"),e("code",[t._v("ESLint")]),t._v("中开启")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.codeActionsOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"source.fixAll.eslint"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("App.vue")]),t._v("保存时。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/save.gif",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"prettier-格式化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#prettier-格式化"}},[t._v("#")]),t._v(" Prettier 格式化")]),t._v(" "),e("p",[t._v("  于是问题都解决了吗？其实并没有哦，看看如下情况。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/question.gif",alt:""}})]),t._v(" "),e("p",[t._v("  由于"),e("code",[t._v("eslint-plugin-vue")]),t._v("中提供的规则集"),e("code",[t._v("vue/recommended")]),t._v("中的规则 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/html-indent.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/html-indent"),e("OutboundLink")],1),t._v("，此规则对标签强制使用了一致的缩进，因此保存时"),e("code",[t._v("<template>")]),t._v("自动修复了缩进。")]),t._v(" "),e("p",[t._v("  但是"),e("code",[t._v("<script>")]),t._v("中却没有修复，因为"),e("code",[t._v("vue/recommended")]),t._v("规则集没有提供用于"),e("code",[t._v("<script>")]),t._v("标签缩进的规则，所以修复时"),e("code",[t._v("<script>")]),t._v("内也就没效果，第一种解决方式很简单，就是添加用于"),e("code",[t._v("vue")]),t._v("文件的"),e("code",[t._v("<script>")]),t._v("缩进的规则 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/script-indent.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/script-indent"),e("OutboundLink")],1),t._v(" 即可。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'vue/script-indent'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'baseIndent'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'switchCase'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'ignores'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'overrides'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'files'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'*.vue'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'rules'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'indent'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  但是此方式不推荐，因为不仅耗时、规则覆盖不全面（可能会少某几条）而且也没必要。其中配置项各参数释义不赘述，更多 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/html-indent.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/add-rules.gif",alt:""}})]),t._v(" "),e("p",[t._v("  来看一个有趣的操作，你可以在"),e("code",[t._v("App.vue")]),t._v("右键选择格式化文档（也可键入"),e("code",[t._v("Shift + Alt + F")]),t._v("），紧接着再保存（"),e("code",[t._v("Ctrl + S")]),t._v("），你会发现"),e("code",[t._v("<template>")]),t._v("与"),e("code",[t._v("<script>")]),t._v("中的代码都被修复了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/action.gif",alt:""}})]),t._v(" "),e("p",[t._v("  为什么会被修复呢？原因在于 "),e("a",{attrs:{href:"https://vuejs.github.io/vetur/guide/formatting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("格式化文档"),e("OutboundLink")],1),t._v(" 是由"),e("code",[t._v("Vetur")]),t._v("提供的，"),e("code",[t._v("Vetur")]),t._v("默认捆绑了多个格式化程序（例如 "),e("a",{attrs:{href:"https://github.com/prettier/prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("prettier"),e("OutboundLink")],1),t._v(" 等）用来格式化代码。")]),t._v(" "),e("p",[t._v("  你应该了解的是 "),e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/",target:"_blank",rel:"noopener noreferrer"}},[t._v("代码规则"),e("OutboundLink")],1),t._v(" 分为两类，代码质量规则和代码风格规则。代码质量出现问题，意味着项目可能没法运转，也可能存在潜在的缺陷。而代码风格不一样，代码风格出现问题，仅仅是代码丑陋，你看着不爽。")]),t._v(" "),e("p",[t._v("  代码质量规则。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/no-unused-vars",target:"_blank",rel:"noopener noreferrer"}},[t._v("no-unused-vars"),e("OutboundLink")],1),t._v("：禁止出现未使用过的变量")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/no-use-before-define",target:"_blank",rel:"noopener noreferrer"}},[t._v("no-use-before-define"),e("OutboundLink")],1),t._v("：禁止在变量定义之前使用它")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://eslint.vuejs.org/rules/no-v-html.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("no-v-html"),e("OutboundLink")],1),t._v("：禁止使用"),e("code",[t._v("v-html")]),t._v("来防止"),e("code",[t._v("XSS")]),t._v("攻击")]),t._v(" "),e("li",[e("code",[t._v("...")])])]),t._v(" "),e("p",[t._v("  代码风格规则。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/max-len",target:"_blank",rel:"noopener noreferrer"}},[t._v("max-len"),e("OutboundLink")],1),t._v("：单行的最大长度")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/semi",target:"_blank",rel:"noopener noreferrer"}},[t._v("semi"),e("OutboundLink")],1),t._v("：强制或禁止使用分号")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://cn.eslint.org/docs/rules/indent",target:"_blank",rel:"noopener noreferrer"}},[t._v("indent"),e("OutboundLink")],1),t._v("：缩进问题")]),t._v(" "),e("li",[e("code",[t._v("...")])])]),t._v(" "),e("p",[t._v("  而刚才已经知晓了当前"),e("code",[t._v("eslint")]),t._v("使用的"),e("code",[t._v("vue/recommended")]),t._v("规则集，仅仅包括了"),e("code",[t._v("<template>")]),t._v("中的代码质量（"),e("code",[t._v("v-for")]),t._v("的"),e("code",[t._v("key")]),t._v("值问题等）和代码风格（少部分，包括缩进规则等，例如不包括单行的最大长度等）的检测，但是缺少"),e("code",[t._v("<script>")]),t._v("中的代码风格校验（缩进规则等）。")]),t._v(" "),e("p",[t._v("  对于"),e("code",[t._v("<template>")]),t._v("和"),e("code",[t._v("<script>")]),t._v("两部分的代码缩进，"),e("code",[t._v("vue/recommend")]),t._v("规则集已经可以修复"),e("code",[t._v("<temnplate>")]),t._v("的缩进，而"),e("code",[t._v("<script>")]),t._v("的缩进现在让"),e("code",[t._v("Vetur")]),t._v("来做。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("Vetur")]),t._v("是开启了"),e("code",[t._v("vetur.useWorkspaceDependencies")]),t._v("为"),e("code",[t._v("true")]),t._v("，即它可以优先使用根目录下的 "),e("a",{attrs:{href:"https://www.prettier.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("prettier"),e("OutboundLink")],1),t._v(" 格式化依赖包，因此来自定义"),e("code",[t._v("Vetur")]),t._v("的格式化功能。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i prettier "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  添加"),e("code",[t._v(".prettierrc.js")]),t._v("，加上几条简单的 "),e("a",{attrs:{href:"https://www.prettier.cn/docs/options.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("规则"),e("OutboundLink")],1),t._v("，"),e("code",[t._v("printWidth")]),t._v("（每行最多多少字符换行）、"),e("code",[t._v("semi")]),t._v("（语句末尾分号）、"),e("code",[t._v("arrowParens")]),t._v("（"),e("code",[t._v("avoid")]),t._v("表示箭头函数是单个参数时，参数周围省略括号）。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("semi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("printWidth")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("arrowParens")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avoid'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  格式化文档后并保存，可以看到"),e("code",[t._v("<script>")]),t._v("中的缩进已经修复。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/script-fixed.gif",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"formatonsave"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#formatonsave"}},[t._v("#")]),t._v(" FormatOnSave")]),t._v(" "),e("p",[t._v("  频繁右键格式化麻烦不，有没有可能像"),e("code",[t._v("ESLint")]),t._v("一样保存时自动修复呢，答案肯定是有的。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.formatOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  现在代码还原尝试下保存呢（"),e("code",[t._v("Crtl + S")]),t._v("）。")]),t._v(" "),e("p",[t._v("  但是意料之外的情况发生了，保存时，起初运行的是"),e("code",[t._v("ESLint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("，紧接着运行了"),e("code",[t._v("Vetur")]),t._v("的格式化，即"),e("code",[t._v("autofix")]),t._v("介于"),e("code",[t._v("Vetur")]),t._v("格式化之前了。")]),t._v(" "),e("p",[t._v("  最后导致风格样式按照"),e("code",[t._v("prettier")]),t._v("来了（例如字符串为双引号），显然不符合"),e("code",[t._v("ESLint")]),t._v("的规则。因此格式是修复了，但是却被"),e("code",[t._v("ESLint")]),t._v("检测出错误了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/error.gif",alt:""}})]),t._v(" "),e("p",[t._v("  以至于频繁保存会频繁闪烁。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/blink.gif",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"解决-eslint-与-prettier-冲突"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决-eslint-与-prettier-冲突"}},[t._v("#")]),t._v(" 解决 eslint 与 prettier 冲突")]),t._v(" "),e("h4",{attrs:{id:"eslint-config-prettier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint-config-prettier"}},[t._v("#")]),t._v(" eslint-config-prettier")]),t._v(" "),e("p",[t._v("  频繁闪烁的根本原因在于"),e("code",[t._v("eslint")]),t._v("与"),e("code",[t._v("prettier")]),t._v("一起使用产生了冲突。"),e("code",[t._v("eslint")]),t._v("认为字符串应为单引号，而"),e("code",[t._v("prettier")]),t._v("默认格式化为双引号，所以先来统一单双引号问题，在"),e("code",[t._v(".prettierrc.js")]),t._v("中添加如下规则。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("singleQuote")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  现在还存在换行冲突，"),e("code",[t._v("prettier")]),t._v("认为单行最大长度达到"),e("code",[t._v("110")]),t._v("就可以换行，而"),e("code",[t._v("eslint")]),t._v("认为只要是标签属性都应另起一行。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/conflict.png",alt:""}})]),t._v(" "),e("p",[t._v("  注意实际代码格式问题已经解决了（例如缩进问题、单行最大长度等），你会想要是禁用掉"),e("code",[t._v("eslint")]),t._v("的 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/max-attributes-per-line.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/max-attributes-per-line"),e("OutboundLink")],1),t._v(" 规则，不要它去检查警告，是不是问题就迎刃而解了。")]),t._v(" "),e("p",[t._v("  嘿嘿，没错，你猜对了，还真是这样。")]),t._v(" "),e("p",[t._v("  但是不用我们去做了，"),e("a",{attrs:{href:"https://github.com/prettier/eslint-config-prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-config-prettier"),e("OutboundLink")],1),t._v(" 已经做了，看名字大概也能猜到，"),e("code",[t._v("config")]),t._v("位于"),e("code",[t._v("eslint")]),t._v("与"),e("code",[t._v("prettier")]),t._v("中间，即用于平衡"),e("code",[t._v("eslint")]),t._v("与"),e("code",[t._v("prettier")]),t._v("之间的配置。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  但是是用于平衡哪些配置呢，官方文档给出了答案，即关闭了"),e("code",[t._v("eslint")]),t._v("中所有不必要的或者可能与"),e("code",[t._v("prettier")]),t._v("冲突的那些规则，实际也就是代码风格规则。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v(".eslintrc.js")]),t._v("中添加"),e("code",[t._v("prettier")]),t._v("表示启用"),e("code",[t._v("eslint-config-prettier")]),t._v("，注意一定要在最后，确保覆盖之前的同类规则，否则可能不生效。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  保存时效果，也能看到"),e("code",[t._v("eslint")]),t._v("相关的代码质量规则未被禁用。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/conflict-fixed.gif",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"eslint-plugin-prettier"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#eslint-plugin-prettier"}},[t._v("#")]),t._v(" eslint-plugin-prettier")]),t._v(" "),e("p",[t._v("  还记得最开始时，"),e("code",[t._v("<template>")]),t._v("中标签缩进错误时，会高亮黄色警告下划波浪线吗。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/start.png",alt:""}})]),t._v(" "),e("p",[t._v("  如果还是想包含此功能，可以安装一个推荐的可选插件 "),e("a",{attrs:{href:"https://github.com/prettier/eslint-plugin-prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-prettier"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("  由于插件"),e("code",[t._v("eslint-config-prettier")]),t._v("的原因，代码格式问题已经交给"),e("code",[t._v("prettier")]),t._v("负责，而"),e("code",[t._v("eslint")]),t._v("代码格式相关的检测规则也被禁用了，因此即使代码中出现了格式问题，"),e("code",[t._v("eslint")]),t._v("是不会报错的。")]),t._v(" "),e("p",[t._v("  而"),e("code",[t._v("eslint-plugin-prettier")]),t._v("做了一件什么事呢？它将"),e("code",[t._v("prettier")]),t._v("格式问题的相关规则，转换成了对应的"),e("code",[t._v("eslint")]),t._v("规则，并注入到了"),e("code",[t._v("eslint")]),t._v("中，由此代码中的格式问题，"),e("code",[t._v("eslint")]),t._v("也会报错。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  修改"),e("code",[t._v(".eslintrc.js")]),t._v("，其中"),e("code",[t._v("plugins")]),t._v("表示将"),e("code",[t._v("prettier")]),t._v("注册为插件，"),e("code",[t._v("prettier/pretiier")]),t._v("表示将"),e("code",[t._v("prettier")]),t._v("插件提供的规则注入"),e("code",[t._v("eslint")]),t._v("，并且使其在"),e("code",[t._v("eslint")]),t._v("中运行"),e("code",[t._v("prettier")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("module"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'prettier/prettier'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  有两个不适用的规则。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"http://eslint.cn/docs/rules/arrow-body-style",target:"_blank",rel:"noopener noreferrer"}},[t._v("arrow-body-style"),e("OutboundLink")],1),t._v("：箭头函数体只能为大括号")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OK")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("foo")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ERROR")]),t._v("\n")])])]),e("ul",[e("li",[e("a",{attrs:{href:"http://eslint.cn/docs/rules/prefer-arrow-callback",target:"_blank",rel:"noopener noreferrer"}},[t._v("prefer-arrow-callback"),e("OutboundLink")],1),t._v("：使用箭头作为回调函数")])]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arg")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// OK")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("arg")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ERROR")]),t._v("\n")])])]),e("p",[t._v("  很明显都不是很合理，"),e("code",[t._v("arrow-body-style")]),t._v("规则代码也将不是很优雅，修改"),e("code",[t._v(".eslintrc.js")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'prettier'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'prettier/prettier'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'arrow-body-style'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'prefer-arrow-callback'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  而以上配置可以更为便捷地合并为以下，了解更多可参考 "),e("a",{attrs:{href:"https://github.com/prettier/eslint-plugin-prettier#recommended-configuration",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方文档"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:prettier/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  以上配置完成后，不出意外，你的"),e("code",[t._v("App.vue")]),t._v("或"),e("code",[t._v("HelloWord.vue")]),t._v("等都将会有很多错误提示。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/CR.png",alt:""}})]),t._v(" "),e("p",[t._v("  是由于行尾换行符造成的，不要紧，"),e("code",[t._v(".prettierrc.js")]),t._v("添加如下规则，更多 "),e("a",{attrs:{href:"https://www.prettier.cn/docs/options.html#end-of-line",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("endOfLine")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crlf'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  至此格式化相关的步骤就都完成了。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/finally.gif",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"区别差异"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#区别差异"}},[t._v("#")]),t._v(" 区别差异")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("eslint-config-prettier")]),t._v("不仅提供了"),e("code",[t._v("prettier")]),t._v("的格式化规则，同时也禁用了"),e("code",[t._v("eslint")]),t._v("中所有不必要的或者可能与"),e("code",[t._v("prettier")]),t._v("冲突的那些规则。")]),t._v(" "),e("p",[t._v("  代码质量检测均由"),e("code",[t._v("eslint")]),t._v("负责，没有代码格式检测。代码质量修复依赖于"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("，代码格式的修复依赖于"),e("code",[t._v("prettier")]),t._v("。")]),t._v(" "),e("p",[t._v("  所以仅安装"),e("code",[t._v("eslint-config-prettier")]),t._v("时，"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("和"),e("code",[t._v("prettier")]),t._v("的保存格式化两者一定要同时开启，而且根据上文我们也知道"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("是介于"),e("code",[t._v("prettier")]),t._v("的格式化之前运行的。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.codeActionsOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"source.fixAll.eslint"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.formatOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  仅开启"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("，能明显看到仅仅修复了代码质量，代码格式并未修复。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/config-diff-autofix.gif",alt:""}})]),t._v(" "),e("p",[t._v("  仅开启"),e("code",[t._v("prettier")]),t._v("的格式化，代码质量未被修复，代码格式均被修复。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/config-diff-prettier.gif",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("eslint-plugin-prettier")]),t._v("则是将"),e("code",[t._v("prettier")]),t._v("格式问题的相关规则，转换成了对应的"),e("code",[t._v("eslint")]),t._v("规则，并注入到了"),e("code",[t._v("eslint")]),t._v("中。")]),t._v(" "),e("p",[t._v("  代码质量检测均由"),e("code",[t._v("eslint")]),t._v("负责，注意代码质量的规则由"),e("code",[t._v("eslint")]),t._v("和"),e("code",[t._v("eslint-plugin-vue")]),t._v("两者提供，代码格式检测也是由"),e("code",[t._v("eslint")]),t._v("负责，代码格式的规则是由"),e("code",[t._v("prettier")]),t._v("提供，且依赖于"),e("code",[t._v("eslint-plugin-prettier")]),t._v("转换并注入到"),e("code",[t._v("eslint")]),t._v("中。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("eslint-plugin-prettier")]),t._v("还做了另外一件事，即在"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("后，紧接着继续运行"),e("code",[t._v("prettier")]),t._v("，因此仅开启"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("就能完成质量和格式的修复。")]),t._v(" "),e("p",[t._v("  但是要明确的是，代码质量修复还是依赖于"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("，代码格式的修复还是依赖于"),e("code",[t._v("prettier")]),t._v("，只是"),e("code",[t._v("eslint-plugin-prettier")]),t._v("在"),e("code",[t._v("autofix")]),t._v("后帮你自动运行了"),e("code",[t._v("prettier")]),t._v("。")]),t._v(" "),e("p",[t._v("  仅开启"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("，代码质量和格式均高亮，且保存时都被修复。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/plugin-diff-autofix.gif",alt:""}})]),t._v(" "),e("p",[t._v("  仅开启"),e("code",[t._v("prettier")]),t._v("的格式化，代码质量和格式均高亮，但是只修复了格式问题。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/plugin-diff-prettier.gif",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"小结"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),e("p",[t._v("  初始脚手架代码都是文本字体，引入"),e("code",[t._v("Vetur")]),t._v("高亮代码。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("Vetur")]),t._v("会查找项目中"),e("code",[t._v("jsconfig.json")]),t._v("等文件并抛出警告，新建"),e("code",[t._v("jsconfig.json")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// jsconfig.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"compilerOptions"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"baseUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"paths"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"@/*"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"src/*"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"exclude"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node_modules"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"dist"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("引入"),e("code",[t._v("ESLint")]),t._v("插件，安装"),e("code",[t._v("eslint")]),t._v("错误检查包和格式化依赖包，其中"),e("code",[t._v("eslint")]),t._v("和"),e("code",[t._v("eslint-plugin-vue")]),t._v("用于错误检查，"),e("code",[t._v("prettier")]),t._v("用于格式化代码，"),e("code",[t._v("eslint-config-prettier")]),t._v("用于解决"),e("code",[t._v("eslint")]),t._v("与"),e("code",[t._v("prettier")]),t._v("之间的冲突，可选插件"),e("code",[t._v("eslint-plugin-prettier")]),t._v("用于注入"),e("code",[t._v("prettier")]),t._v("格式化规则到"),e("code",[t._v("eslint")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i eslint eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("vue prettier eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier eslint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("plugin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("prettier "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v(".eslintrc.js")]),t._v("，启用"),e("code",[t._v("eslint-plugin-vue")]),t._v("的"),e("code",[t._v("vue")]),t._v("规则集，同时启用"),e("code",[t._v("eslint-config-prettier")]),t._v("，并且启用"),e("code",[t._v("eslint-config-prettier")]),t._v("注入规则。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:prettier/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v(".prettierrc.js")]),t._v("，统一部分格式化规则和换行符等。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("semi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("printWidth")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("arrowParens")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avoid'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("singleQuote")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("endOfLine")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crlf'")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v("settings.json")]),t._v("，保存时自动运行"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("和"),e("code",[t._v("prettier")]),t._v("格式化。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/settings.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.tabSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.lineHeight"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"vetur.validation.template"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.codeActionsOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"source.fixAll.eslint"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"editor.formatOnSave"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  以上插件和依赖的作用。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=octref.vetur",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vetur"),e("OutboundLink")],1),t._v("："),e("code",[t._v("vscode")]),t._v("插件，用于高亮"),e("code",[t._v("Vue")]),t._v("代码，提供了代码的错误检查和格式化、代码自动补全提示等")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint",target:"_blank",rel:"noopener noreferrer"}},[t._v("ESLint"),e("OutboundLink")],1),t._v("："),e("code",[t._v("vscode")]),t._v("插件，依赖于本地工作区或全局下的"),e("code",[t._v("eslint")]),t._v("依赖包")]),t._v(" "),e("li",[e("a",{attrs:{href:"http://eslint.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint"),e("OutboundLink")],1),t._v("：用于检测和修复代码错误，自定义检测规则，引入"),e("code",[t._v("vue")]),t._v("代码检测的规则集")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://eslint.vuejs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-vue"),e("OutboundLink")],1),t._v("：提供用于检测"),e("code",[t._v("vue2")]),t._v("代码的规则集 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/#priority-c-recommended-minimizing-arbitrary-choices-and-cognitive-overhead-for-vue-js-2-x",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/recommended"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"https://www.prettier.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("prettier"),e("OutboundLink")],1),t._v("：用于格式化代码，自定义格式规则")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/prettier/eslint-config-prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-config-prettier"),e("OutboundLink")],1),t._v("：用于解决"),e("code",[t._v("eslint")]),t._v("和"),e("code",[t._v("prettier")]),t._v("在代码格式上的冲突，禁用了"),e("code",[t._v("eslint")]),t._v("中所有不必要的或者可能与"),e("code",[t._v("prettier")]),t._v("冲突的规则")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/prettier/eslint-plugin-prettier",target:"_blank",rel:"noopener noreferrer"}},[t._v("eslint-plugin-prettier"),e("OutboundLink")],1),t._v("：将"),e("code",[t._v("prettier")]),t._v("中的代码格式规则，转换为对应的"),e("code",[t._v("eslint")]),t._v("规则并注入到"),e("code",[t._v("eslint")]),t._v("中，使"),e("code",[t._v("eslint")]),t._v("能够检测代码格式问题。另外让"),e("code",[t._v("eslint")]),t._v("在执行"),e("code",[t._v("autofix")]),t._v("后再运行"),e("code",[t._v("prettier")])])]),t._v(" "),e("h2",{attrs:{id:"git-hook"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#git-hook"}},[t._v("#")]),t._v(" Git hook")]),t._v(" "),e("p",[t._v("  引入诸多插件都是为了在开发阶段规范或者修复代码，但是都是以"),e("code",[t._v("vscode")]),t._v("编辑器为前提的，倘若其它成员使用的是"),e("code",[t._v("webstorm")]),t._v("等其它编辑器，那么之前做的事情就都白费了。")]),t._v(" "),e("p",[t._v("  还好远端是利用"),e("code",[t._v("git")]),t._v("在管理代码，大家提交代码的方式是一致的，编辑器不能做到完全规范代码，但是可以在提交时统一代码。")]),t._v(" "),e("p",[t._v("  来了解一下"),e("code",[t._v("git hook")]),t._v("，"),e("code",[t._v("git hook")]),t._v("即"),e("code",[t._v("git")]),t._v("钩子，"),e("code",[t._v("git")]),t._v("在特定事件发生时会触发对应的脚本（类似于"),e("code",[t._v("vue")]),t._v("的生命周期），"),e("code",[t._v("git init")]),t._v("初始化后的仓库中，"),e("code",[t._v(".git/hooks")]),t._v("目录下默认包括很多示例脚本（都是以"),e("code",[t._v(".sample")]),t._v("结尾），删除掉"),e("code",[t._v(".sample")]),t._v("后缀可启用。")]),t._v(" "),e("p",[t._v("  常用的钩子包括"),e("code",[t._v("pre-commit")]),t._v("、"),e("code",[t._v("commit-msg")]),t._v("等。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("pre-commit")]),t._v("：暂存中的文件被提交前触发，或者说在你"),e("code",[t._v("git commit ...")]),t._v("之前触发。若此钩子以非零值退出，"),e("code",[t._v("git")]),t._v("将放弃此次提交（可利用"),e("code",[t._v("git commit --no-verify")]),t._v("跳过），一般可利用此钩子来检查代码风格等")]),t._v(" "),e("li",[e("code",[t._v("commit-msg")]),t._v("：输入提交说明后且于"),e("code",[t._v("pre-commit")]),t._v("后触发。若此钩子以非零值退出，"),e("code",[t._v("git")]),t._v("也将放弃提交，一般用于校验提交说明是否符合规范")])]),t._v(" "),e("h3",{attrs:{id:"husky-v4-与-lint-staged-规范代码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#husky-v4-与-lint-staged-规范代码"}},[t._v("#")]),t._v(" Husky(v4) 与 lint-staged 规范代码")]),t._v(" "),e("p",[t._v("  思路应该是很清晰了，即在代码提交时，触发对应的钩子来检测并规范代码，因此先初始化一个"),e("code",[t._v("git")]),t._v("仓库。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("git init\n")])])]),e("p",[t._v("  然后再来了解一下 "),e("a",{attrs:{href:"https://typicode.github.io/husky/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),e("OutboundLink")],1),t._v("，"),e("code",[t._v("husky")]),t._v("是一个为"),e("code",[t._v("git")]),t._v("客户端添加"),e("code",[t._v("hook")]),t._v("的工具，安装"),e("code",[t._v("v4")]),t._v("版本（"),e("code",[t._v("v4.3.8")]),t._v("及之前的版本）后，"),e("code",[t._v("husky")]),t._v("默认会在"),e("code",[t._v(".git/hooks")]),t._v("目录下生成所有类型的"),e("code",[t._v("git hook")]),t._v("。然后在"),e("code",[t._v("git")]),t._v("工作的每个阶段都会调用"),e("code",[t._v("husky")]),t._v("所生成的脚本，在脚本中"),e("code",[t._v("husky")]),t._v("会检查用户是否配置有此钩子，如果有就运行用户配置的命令，没有就继续往后执行。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i husky@"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.3")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  安装完成后，目录"),e("code",[t._v(".git/hooks")]),t._v("下生成了很多的"),e("code",[t._v("hook")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/dir.png",alt:""}})]),t._v(" "),e("p",[t._v("  来测试一下"),e("code",[t._v("husky")]),t._v("，新建"),e("code",[t._v(".huskyrc.json")]),t._v("，其中"),e("code",[t._v("pre-commit")]),t._v("钩子触发将运行"),e("code",[t._v("echo hello husky")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .huskyrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"echo hello husky"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  修改代码并提交。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/hello-husky.png",alt:""}})]),t._v(" "),e("p",[t._v("  已经可以在提交时触发钩子了，现在来考虑一个问题，是在提交前规范目录中所有代码，还是仅仅规范暂存中的代码呢。显然只规范暂存中的代码就可以了，不仅避免检查整个项目，提高运行效率，也避免了修改到其它文件。")]),t._v(" "),e("p",[t._v("  而插件 "),e("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),e("OutboundLink")],1),t._v(" 就是对暂存中的文件执行检查的。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i lint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v(".lintstagedrc.json")]),t._v("，注意源码一般位于"),e("code",[t._v("src")]),t._v("目录下，因此仅对"),e("code",[t._v("src")]),t._v("目录下的"),e("code",[t._v("js")]),t._v("和"),e("code",[t._v("vue")]),t._v("文件执行"),e("code",[t._v("eslint --fix")]),t._v("即可，格式修复完成后再执行"),e("code",[t._v("git add")]),t._v("暂存。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .lintstagedrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"src/**/*.{js,vue}"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  修改"),e("code",[t._v(".huskyrc.json")]),t._v("，即"),e("code",[t._v("pre-commit")]),t._v("钩子触发时，将运行"),e("code",[t._v(".lintstagedrc.json")]),t._v("中的命令。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .huskyrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  关闭"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("autofix")]),t._v("和"),e("code",[t._v("prettier")]),t._v("的格式化，打乱"),e("code",[t._v("App.vue")]),t._v("中代码样式，暂存并提交，可以看到在"),e("code",[t._v("pre-commit")]),t._v("时"),e("code",[t._v("lint-staged")]),t._v("对"),e("code",[t._v("App.vue")]),t._v("进行了检测和修复。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/pre-commit.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"commitlint-规范提交说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#commitlint-规范提交说明"}},[t._v("#")]),t._v(" Commitlint 规范提交说明")]),t._v(" "),e("p",[t._v("  安装 "),e("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("commitlint/cli"),e("OutboundLink")],1),t._v(" 和常规配置。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i @commitlint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cli @commitlint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("conventional "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  新增"),e("code",[t._v("commitlint.config.js")]),t._v("引入提交规范集。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// commitlint.config.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  修改"),e("code",[t._v(".huskyrc.json")]),t._v("，即"),e("code",[t._v("commit-msg")]),t._v("钩子触发时，将运行对应的命令。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .huskyrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commit-msg"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commitlint -E HUSKY_GIT_PARAMS"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  再次暂存并提交，可以看到"),e("code",[t._v("commit-msg")]),t._v("钩子触发时"),e("code",[t._v("commitlint")]),t._v("对提交说明进行了验证。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/commit-msg.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"husky-v4-迁移-v7"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#husky-v4-迁移-v7"}},[t._v("#")]),t._v(" Husky v4 迁移 v7")]),t._v(" "),e("p",[t._v("  先来说说"),e("code",[t._v("husky")]),t._v("为什么由"),e("code",[t._v("v4")]),t._v("破坏性地更新到"),e("code",[t._v("v7")]),t._v("了，"),e("code",[t._v("v4")]),t._v("版本的"),e("code",[t._v("husky")]),t._v("会生成所有类型的"),e("code",[t._v("git hook")]),t._v("，其好处就是无论用户设置任何类型的"),e("code",[t._v("git hook")]),t._v("，"),e("code",[t._v("husky")]),t._v("都能保证其正常运行，但是坏处也很明显，即用户不设置任何"),e("code",[t._v("git hook")]),t._v("，"),e("code",[t._v("husky")]),t._v("也向"),e("code",[t._v("git")]),t._v("添加了所有类型的"),e("code",[t._v("git hook")]),t._v("。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("v4")]),t._v("版本缺陷的根本原因在于，任何一个完整的"),e("code",[t._v("git hook")]),t._v("功能，一是要在"),e("code",[t._v(".git/hooks")]),t._v("添加相应的"),e("code",[t._v("hook")]),t._v("，二是要在根目录添加"),e("code",[t._v(".huskyrc.json")]),t._v("文件或"),e("code",[t._v("package.json")]),t._v("中配置此"),e("code",[t._v("hook")]),t._v("要执行的命令，但是作者没有很好的办法来同步它们。")]),t._v(" "),e("p",[t._v("  还好"),e("code",[t._v("git 2.9")]),t._v("版本引入了"),e("code",[t._v("core.hooksPath")]),t._v("，此属性可指定"),e("code",[t._v("git hook")]),t._v("所在目录。"),e("code",[t._v("husky")]),t._v("启用"),e("code",[t._v("git")]),t._v("钩子后，将会把"),e("code",[t._v("git hook")]),t._v("的目录指定为"),e("code",[t._v(".husky")]),t._v("，此方式好处就在于，需要什么"),e("code",[t._v("hook")]),t._v("，就在"),e("code",[t._v(".husky")]),t._v("文件夹添加什么"),e("code",[t._v("hook")]),t._v("，不需要什么都不用添加，更多 "),e("a",{attrs:{href:"https://blog.typicode.com/husky-git-hooks-javascript-config/",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("  现在由"),e("code",[t._v("v4")]),t._v("版本迁移至"),e("code",[t._v("v7")]),t._v("版本，请卸载目录下"),e("code",[t._v("husky(v4)")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm un husky\n")])])]),e("p",[t._v("  然后安装最新版本的"),e("code",[t._v("husky")]),t._v("（目前"),e("code",[t._v("v7.0.4")]),t._v("）。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i husky "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  启用"),e("code",[t._v("git")]),t._v("钩子。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npx husky install\n")])])]),e("p",[t._v("  启用后将在根目录生成"),e("code",[t._v(".husky")]),t._v("文件夹，其中默认包括"),e("code",[t._v("_")]),t._v("文件夹、"),e("code",[t._v(".gitignore")]),t._v("和"),e("code",[t._v("husky.sh")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/husky.png",alt:""}})]),t._v(" "),e("p",[t._v("  同时"),e("code",[t._v(".git/config")]),t._v("文件中将添加如下属性。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .git/config")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("core"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  hooksPath "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("husky\n")])])]),e("p",[t._v("  ;"),e("code",[t._v(".husky")]),t._v("目录下新建"),e("code",[t._v("pre-commit")]),t._v("文件，其中"),e("code",[t._v("--no-install")]),t._v("表示强制"),e("code",[t._v("npx")]),t._v("使用本地模块，不下载远程模块，但是本地模块不存在时将会报错。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .husky/pre-commit")]),t._v("\n#"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sh\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'husky > pre-commit'")]),t._v("\nnpx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("install lint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n")])])]),e("p",[t._v("  验证提交说明的迁移也是一样，在"),e("code",[t._v(".husky")]),t._v("下新建"),e("code",[t._v("commit-msg")]),t._v("钩子。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .husky/commit-msg")]),t._v("\n#"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sh\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'husky > commit-msg'")]),t._v("\nnpx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("install commitlint "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("edit $1\n")])])]),e("p",[t._v("  最后根目录下的"),e("code",[t._v(".huskyrc.json")]),t._v("也可以删除了，因为"),e("code",[t._v("v7")]),t._v("版本已经不依赖这一层映射关系了，"),e("code",[t._v(".husky")]),t._v("目录内"),e("code",[t._v("hook")]),t._v("将直接运行命令，这也就是"),e("code",[t._v("v7")]),t._v("版本更新后的优点，缺点也很明显，无端增加了用户的学习成本。")]),t._v(" "),e("h3",{attrs:{id:"小结-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小结-2"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),e("h4",{attrs:{id:"husky-v4-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#husky-v4-版本"}},[t._v("#")]),t._v(" Husky v4 版本")]),t._v(" "),e("p",[t._v("  由于是利用"),e("code",[t._v("git")]),t._v("来管理代码，因此先要保证项目已经初始化为"),e("code",[t._v("git")]),t._v("仓库。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("git init\n")])])]),e("p",[t._v("  安装"),e("code",[t._v("git hook")]),t._v("工具和检查工具、提交说明检查工具和检查规则集，其中"),e("code",[t._v("husky")]),t._v("用于为"),e("code",[t._v("git")]),t._v("添加"),e("code",[t._v("hook")]),t._v("工具，"),e("code",[t._v("lint-staged")]),t._v("用于检查暂存中的文件，"),e("code",[t._v("commitlint")]),t._v("用于检查提交说明，"),e("code",[t._v("config-conventional")]),t._v("用于提供检查规则集。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i husky@"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4.3")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v(".8")]),t._v(" lint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged @commitlint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("cli @commitlint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("conventional "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v(".lintstagedrc.json")]),t._v("，用于修复暂存中的文件。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .lintstagedrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"src/**/*.{js,vue}"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v("commitlint.config.js")]),t._v("，启用"),e("code",[t._v("config-conventional")]),t._v("规则集。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// commitlint.config.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  新建"),e("code",[t._v(".huskyrc.json")]),t._v("，"),e("code",[t._v("git")]),t._v("钩子触发时执行相应的命令。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .huskyrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commit-msg"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commitlint -E HUSKY_GIT_PARAMS"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h4",{attrs:{id:"husky-v7-版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#husky-v7-版本"}},[t._v("#")]),t._v(" Husky v7 版本")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("v4")]),t._v("迁移"),e("code",[t._v("v7")]),t._v("请卸载"),e("code",[t._v("husky(v4)")]),t._v("版本。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm un husky\n")])])]),e("p",[t._v("  安装最新版本"),e("code",[t._v("husky")]),t._v("（目前"),e("code",[t._v("v7.0.4")]),t._v("）。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npm i husky "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("\n")])])]),e("p",[t._v("  启用"),e("code",[t._v("git")]),t._v("钩子。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npx husky intall\n")])])]),e("p",[t._v("  新建"),e("code",[t._v("pre-commit")]),t._v("、"),e("code",[t._v("commit-msg")]),t._v("钩子。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .husky/pre-commit")]),t._v("\n#"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sh\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'husky > pre-commit'")]),t._v("\nnpx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("install lint"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("staged\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .husky/commit-msg")]),t._v("\n#"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sh\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$(dirname "')]),t._v("$0"),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('")/_/husky.sh"')]),t._v("\n\necho "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'husky > commit-msg'")]),t._v("\nnpx "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("install commitlint "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("edit $1\n")])])]),e("p",[t._v("  再删除"),e("code",[t._v(".huskyrc.json")]),t._v("文件即可。")]),t._v(" "),e("h4",{attrs:{id:"插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[t._v("#")]),t._v(" 插件")]),t._v(" "),e("p",[t._v("  以上插件的作用。")]),t._v(" "),e("ul",[e("li",[e("a",{attrs:{href:"https://typicode.github.io/husky/#/",target:"_blank",rel:"noopener noreferrer"}},[t._v("husky"),e("OutboundLink")],1),t._v("：为"),e("code",[t._v("git")]),t._v("客户端添加"),e("code",[t._v("hook")]),t._v("工具，"),e("code",[t._v("v4")]),t._v("（"),e("code",[t._v("v4.3.8")]),t._v("及之前版本）将在"),e("code",[t._v(".git/hooks")]),t._v("中注入所有类型的"),e("code",[t._v("hook")]),t._v("，而"),e("code",[t._v("v7")]),t._v("版本将指定"),e("code",[t._v("git hook")]),t._v("目录为"),e("code",[t._v(".husky")])]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/okonet/lint-staged",target:"_blank",rel:"noopener noreferrer"}},[t._v("lint-staged"),e("OutboundLink")],1),t._v("：仅对暂存中的文件执行相应的命令，提高运行效率")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint",target:"_blank",rel:"noopener noreferrer"}},[t._v("@commitlint/cli"),e("OutboundLink")],1),t._v("：用于检查提交说明")]),t._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/conventional-changelog/commitlint/tree/master/@commitlint/config-conventional",target:"_blank",rel:"noopener noreferrer"}},[t._v("@commitlint/config-conventional"),e("OutboundLink")],1),t._v("：提供检查提交说明的规则集")])]),t._v(" "),e("h2",{attrs:{id:"常见问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[t._v("#")]),t._v(" 常见问题")]),t._v(" "),e("h3",{attrs:{id:"如何关闭或跳过-eslint-校验规则"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何关闭或跳过-eslint-校验规则"}},[t._v("#")]),t._v(" 如何关闭或跳过 eslint 校验规则？")]),t._v(" "),e("p",[t._v("  有些项目并不能很好地适用"),e("code",[t._v("eslint")]),t._v("的规则集，例如 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/#priority-c-recommended-minimizing-arbitrary-choices-and-cognitive-overhead-for-vue-js-2-x",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/recommended"),e("OutboundLink")],1),t._v(" 规则集中 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/no-v-html.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/no-v-html"),e("OutboundLink")],1),t._v(" 禁用了"),e("code",[t._v("v-html")]),t._v("指令，但是有时又不得已会使用"),e("code",[t._v("v-html")]),t._v("。")]),t._v(" "),e("p",[t._v("  第一种方式可在"),e("code",[t._v(".eslintrc.js")]),t._v("中关闭此规则。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v("'vue/no-v-html'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'off'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("告警级别分为三种，"),e("code",[t._v("0/off")]),t._v("表示忽略问题，"),e("code",[t._v("1/warn")]),t._v("表示警告，"),e("code",[t._v("2/error")]),t._v("表示报错")])]),t._v(" "),e("p",[t._v("  第二种方式是利用 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/comment-directive.html#vue-comment-directive",target:"_blank",rel:"noopener noreferrer"}},[t._v("vue/comment-directive"),e("OutboundLink")],1),t._v(" 规则，即通过注释来跳过某一行或多行的校验。")]),t._v(" "),e("p",[t._v("  此规则支持的注释包括。")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("eslint-disable")]),t._v("：关闭校验")]),t._v(" "),e("li",[e("code",[t._v("eslint-enable")]),t._v("：开启校验，配合"),e("code",[t._v("eslint-disabled")]),t._v("可关闭多行校验")]),t._v(" "),e("li",[e("code",[t._v("eslint-disable-line")]),t._v("：关闭当前行校验")]),t._v(" "),e("li",[e("code",[t._v("eslint-disable-next-line")]),t._v("：关闭下一行校验")])]),t._v(" "),e("p",[t._v("  关闭多行校验，其中"),e("code",[t._v("6")]),t._v("和"),e("code",[t._v("7")]),t._v("行的"),e("code",[t._v("v-html")]),t._v("校验已跳过。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/eslint-disable.png",alt:""}})]),t._v(" "),e("p",[t._v("  关闭当前行的校验，其中"),e("code",[t._v("32")]),t._v("行中的语句末尾分号校验已跳过。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/eslint-disable-line.png",alt:""}})]),t._v(" "),e("p",[t._v("  关闭下一行校验。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/eslint-disable-next-line.png",alt:""}})]),t._v(" "),e("p",[t._v("  注意以上注释会关闭掉所有"),e("code",[t._v("eslint")]),t._v("校验规则，建议在注释后添加禁用的规则名称，更多 "),e("a",{attrs:{href:"https://eslint.vuejs.org/rules/comment-directive.html#vue-comment-directive",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/eslint-disable-rules.png",alt:""}})]),t._v(" "),e("h3",{attrs:{id:"旧项目如何接入格式化工具"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#旧项目如何接入格式化工具"}},[t._v("#")]),t._v(" 旧项目如何接入格式化工具？")]),t._v(" "),e("p",[t._v("  旧项目通常情况下源文件格式都会存在问题，但是不可能每个文件都去"),e("code",[t._v("Ctrl + S")]),t._v("手动修复格式，可在"),e("code",[t._v("package.json")]),t._v("中添加命令来修复"),e("code",[t._v("src")]),t._v("内源文件。")]),t._v(" "),e("p",[t._v("  但是强烈不推荐你这么做，因为格式化可能会造成潜在的问题。如果源文件较少，且能够保证做全量测试，那么你可以这样做。但是源文件较多，建议只格式化你修改的文件，其余不相关的文件还是不要动。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"eslint:fix"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint src/**/*.js src/**/*.vue --fix"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("blockquote",[e("p",[t._v("注意"),e("code",[t._v("eslint:fix")]),t._v("仅能修复简单的错误，其它例如组件"),e("code",[t._v("props")]),t._v("默认值的情况，还是需要你手动修复")])]),t._v(" "),e("h3",{attrs:{id:"无法格式化的文件如何修复"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#无法格式化的文件如何修复"}},[t._v("#")]),t._v(" 无法格式化的文件如何修复？")]),t._v(" "),e("p",[t._v("  部分文件保存时无法格式化，频繁闪烁。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/format-disable.gif",alt:""}})]),t._v(" "),e("p",[t._v("  此情况最好是对某个文件执行"),e("code",[t._v("eslint")]),t._v("的"),e("code",[t._v("fix")]),t._v("功能，如果文件较多，建议执行"),e("code",[t._v("npm run eslint:fix")]),t._v("命令。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("npx eslint src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("main"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("js "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("fix\n")])])]),e("h3",{attrs:{id:"提交时如何跳过-lint-阶段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#提交时如何跳过-lint-阶段"}},[t._v("#")]),t._v(" 提交时如何跳过 lint 阶段？")]),t._v(" "),e("p",[t._v("  如果你觉得在执行"),e("code",[t._v("git commit -m ...")]),t._v("提交时非常耗时，你可以执行以下命令来跳过"),e("code",[t._v("lint-staged")]),t._v("和"),e("code",[t._v("commitlint")]),t._v("两个阶段。")]),t._v(" "),e("p",[t._v("  但是还是建议不要这样做，因为你无法保证提交到远端的代码是非常规范的。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("git commit "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),t._v("no"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("verify\n")])])]),e("h3",{attrs:{id:"lint-staged-在-pre-commit-阶段报错"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#lint-staged-在-pre-commit-阶段报错"}},[t._v("#")]),t._v(" lint-staged 在 pre-commit 阶段报错")]),t._v(" "),e("p",[t._v("  在"),e("code",[t._v("node")]),t._v("版本较低的情况下，且安装了"),e("code",[t._v("lint-staged")]),t._v("的"),e("code",[t._v("v12")]),t._v("版本（目前"),e("code",[t._v("v12.3.4")]),t._v("）。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("node")]),t._v("版本为"),e("code",[t._v("v12.14.1")]),t._v("时，提交时抛出以下错误。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/fs.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("node")]),t._v("版本为"),e("code",[t._v("v14.10.1")]),t._v("时，提交时抛出以下错误。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/esm.png",alt:""}})]),t._v(" "),e("p",[t._v("  ;"),e("a",{attrs:{href:"https://github.com/okonet/lint-staged#migration",target:"_blank",rel:"noopener noreferrer"}},[t._v("官方"),e("OutboundLink")],1),t._v("明确了所支持的"),e("code",[t._v("node")]),t._v("版本。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/v12.png",alt:""}})]),t._v(" "),e("p",[t._v("  两种解决方式，方式一可升级"),e("code",[t._v("node")]),t._v("版本，方式二则可安装"),e("code",[t._v("lint-staged")]),t._v("的"),e("code",[t._v("v11.2.6")]),t._v("及以下版本，推荐方式二。")]),t._v(" "),e("h3",{attrs:{id:"维护配置文件到-package-json"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#维护配置文件到-package-json"}},[t._v("#")]),t._v(" 维护配置文件到 package.json")]),t._v(" "),e("p",[t._v("  诸如"),e("code",[t._v(".eslintrc.js")]),t._v("和"),e("code",[t._v(".prettierrc.js")]),t._v("等配置文件，都维护在开发目录下，显得多而复杂，另外后期此类文件都是不用修改的，还有另外一种配置方式，就是维护至"),e("code",[t._v("package.json")]),t._v("下。")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("eslint")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .eslintrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("root")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:vue/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'plugin:prettier/recommended'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("quotes")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'error'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'single'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"eslintConfig"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"root"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"extends"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:vue/recommended"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"plugin:prettier/recommended"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"rules"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"quotes"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"error"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"single"')]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("prettier")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .prettierrc.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("semi")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("printWidth")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("singleQuote")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("endOfLine")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'crlf'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("arrowParens")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'avoid'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"prettier"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"semi"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"printWidth"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"singleQuote"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"endOfLine"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"crlf"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"arrowParens"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"avoid"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("husky")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .huskyrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commit-msg"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commitlint -E HUSKY_GIT_PARAMS"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"husky"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"hooks"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"pre-commit"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commit-msg"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"commitlint -E HUSKY_GIT_PARAMS"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("lint-staged")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .lintstagedrc.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"src/**/*.{js,vue}"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"lint-staged"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"src/**/*.{js,vue}"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"eslint --fix"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"git add"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("commitlint")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// commitlint.config.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@commitlint/config-conventional'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"commitlint"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"extends"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@commitlint/config-conventional"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("babel")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// babel.config.js")]),t._v("\nmodule"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("presets")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vue/cli-plugin-babel/preset'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"babel"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"presets"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"@vue/cli-plugin-babel/preset"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("browserslist")]),t._v("。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .browserslistrc")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("\nlast "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" versions\nnot dead\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// package.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"browserslist"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"> 1%"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"last 2 versions"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"not dead"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("h3",{attrs:{id:"如何配置-vue-代码片段"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#如何配置-vue-代码片段"}},[t._v("#")]),t._v(" 如何配置 vue 代码片段？")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vetur")]),t._v("提供了代码片段用来提高开发效率。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/snippet.png",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"vscode-中-vue-json-文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-中-vue-json-文件"}},[t._v("#")]),t._v(" vscode 中 vue.json 文件")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("中键入"),e("code",[t._v("Shift + Ctrl + P")]),t._v("，输入"),e("code",[t._v("snippets")]),t._v("，选择配置用户代码片段。")]),t._v(" "),e("p",[t._v("  然后输入"),e("code",[t._v("vue")]),t._v("，选择"),e("code",[t._v("vue.json")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/vue-json.png",alt:""}})]),t._v(" "),e("p",[t._v("  删除掉所有注释，添加以下内容。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vue.json")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"Vue Component"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"prefix"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cpt"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"body"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<template>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"  $1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"</template>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<script>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"export default {"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"}"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<\/script>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<style>"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"</style>"')]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"description"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Vue 组件模板"')]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("vue")]),t._v("单文件内输入"),e("code",[t._v("cpt")]),t._v("，代码片段已生效。")]),t._v(" "),e("p",[t._v("  此方式配置在"),e("code",[t._v("vscode")]),t._v("中，在任何项目中都能生效，但是配置起来很麻烦，"),e("code",[t._v("vue.json")]),t._v("中要一行一行添加。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/cpt.png",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"项目级模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#项目级模板"}},[t._v("#")]),t._v(" 项目级模板")]),t._v(" "),e("p",[t._v("  项目根目录下"),e("code",[t._v(".vscode")]),t._v("目录结构如下。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[t._v("├── "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vscode\n│   ├── settings"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n│   ├── vetur\n│   │   ├── snippets\n│   │   │   ├── template"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("vue\n")])])]),e("p",[t._v("  可在"),e("code",[t._v("snippets")]),t._v("文件夹下添加"),e("code",[t._v("template.vue")]),t._v("文件。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// .vscode/vetur/snippets/template.vue")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("div"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("p",[t._v("  此方式新增"),e("code",[t._v("vue")]),t._v("文件后，"),e("code",[t._v("Reload")]),t._v("重载后可生效，此方式相对"),e("code",[t._v("vue.json")]),t._v("文件，仅设置单文件即可，不需要一行一行添加。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/template.png",alt:""}})]),t._v(" "),e("h4",{attrs:{id:"vscode-插件目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#vscode-插件目录"}},[t._v("#")]),t._v(" vscode 插件目录")]),t._v(" "),e("p",[t._v("  ;"),e("code",[t._v("vscode")]),t._v("键入"),e("code",[t._v("Shift + Ctrl + P")]),t._v("，输入"),e("code",[t._v("extensions folder")]),t._v("，选择打开拓展文件夹。")]),t._v(" "),e("p",[t._v("  打开"),e("code",[t._v("octref.vetur-xx.xx.xx")]),t._v("目录，进入"),e("code",[t._v("server/dist/veturSnippets")]),t._v("文件夹。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/Vetur-dir.png",alt:""}})]),t._v(" "),e("p",[t._v("  添加自定义代码片段，也可复制"),e("code",[t._v("default.vue")]),t._v("然后修改。")]),t._v(" "),e("div",{staticClass:"language-javascript extra-class"},[e("pre",{pre:!0,attrs:{class:"language-javascript"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// veturSnippets/page.vue")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  $"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("style"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("style"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("p",[t._v("  ;"),e("code",[t._v("Reload")]),t._v("重载后生效。")]),t._v(" "),e("p",[e("img",{attrs:{src:"/js/eslint-prettier/page.png",alt:""}})]),t._v(" "),e("h2",{attrs:{id:"🎉-写在最后"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#🎉-写在最后"}},[t._v("#")]),t._v(" 🎉 写在最后")]),t._v(" "),e("p",[t._v("🍻伙伴们，如果你已经看到了这里，觉得这篇文章有帮助到你的话不妨点赞👍或 "),e("a",{attrs:{href:"https://github.com/dongwei1125/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("Star"),e("OutboundLink")],1),t._v(" ✨支持一下哦！")]),t._v(" "),e("p",[t._v("手动码字，如有错误，欢迎在评论区指正💬~")]),t._v(" "),e("p",[t._v("你的支持就是我更新的最大动力💪~")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),e("OutboundLink")],1),t._v(" / "),e("a",{attrs:{href:"https://gitee.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://dongwei1125.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://juejin.cn/user/2621689331987783",target:"_blank",rel:"noopener noreferrer"}},[t._v("掘金"),e("OutboundLink")],1),t._v("、"),e("a",{attrs:{href:"https://blog.csdn.net/Don_GW",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSDN"),e("OutboundLink")],1),t._v(" 同步更新，欢迎关注😉~")])])}),[],!1,null,null,null);s.default=r.exports}}]);