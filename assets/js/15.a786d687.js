(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{416:function(t,e,a){"use strict";a.r(e);var s=a(34),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"audio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#audio"}},[t._v("#")]),t._v(" Audio")]),t._v(" "),a("p",[a("img",{attrs:{src:"/html/label/audio/banner.jpg",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[t._v("#")]),t._v(" 概述")]),t._v(" "),a("p",[t._v("  ;"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/audio",target:"_blank",rel:"noopener noreferrer"}},[t._v("audio"),a("OutboundLink")],1),t._v(" 用于在文档中嵌入音频元素。")]),t._v(" "),a("p",[t._v("  ;"),a("code",[t._v("audio")]),t._v("元素是"),a("code",[t._v("HTML5")]),t._v("新增的行内标签，"),a("code",[t._v("IE8")]),t._v("及以下浏览器不支持"),a("code",[t._v("audio")]),t._v("标签。")]),t._v(" "),a("p",[t._v("  若浏览器不支持"),a("code",[t._v("video")]),t._v("元素或者无法播放音频，则会显示替代文本（开始和结束标签之间的内容）。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("audio src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.mp3"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("当前浏览器不支持audio标签"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("audio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"标签属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#标签属性"}},[t._v("#")]),t._v(" 标签属性")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("autoplay")]),t._v("：音频会尽快自动播放，不会等待整个音频下载完成")]),t._v(" "),a("li",[a("code",[t._v("controls")]),t._v("：浏览器提供包括声音、播放进度、播放暂停的控制面板（不同浏览器不一致），用户可以控制音频播放")]),t._v(" "),a("li",[a("code",[t._v("loop")]),t._v("：循环播放音频")]),t._v(" "),a("li",[a("code",[t._v("muted")]),t._v("：是否静音，默认值为"),a("code",[t._v("false")]),t._v("，表示有声音")]),t._v(" "),a("li",[a("code",[t._v("preload")]),t._v("：预加载，包括"),a("code",[t._v("auto")]),t._v("、"),a("code",[t._v("metadata")]),t._v("和"),a("code",[t._v("none")]),t._v("三个参数值，"),a("code",[t._v("auto")]),t._v("表示加载音频，"),a("code",[t._v("metadata")]),t._v("表示不加载音频，但是需要获取音频元数据（如音频长度），"),a("code",[t._v("none")]),t._v("表示不加载音频。若指定为空字符串，则等效于"),a("code",[t._v("auto")]),t._v("。注意"),a("code",[t._v("autoplay")]),t._v("属性优先级高于"),a("code",[t._v("preload")]),t._v("，若"),a("code",[t._v("autoplay")]),t._v("被指定，则会忽略此属性，浏览器将加载音频以供播放")]),t._v(" "),a("li",[a("code",[t._v("src")]),t._v("：嵌入的音频"),a("code",[t._v("URL")])])]),t._v(" "),a("h2",{attrs:{id:"设置多个音频资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置多个音频资源"}},[t._v("#")]),t._v(" 设置多个音频资源")]),t._v(" "),a("p",[t._v("  不同浏览器支持的音频播放格式有所不同，一般为了兼容效果，会放置多种音频格式，浏览器会自上而下选择符合的音频格式。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("audio controls"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("source src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.ogg"')]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio/ogg"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("source src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.mp3"')]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio/mpeg"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("source src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.wav"')]),t._v(" type"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio/Wav"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  当前浏览器不支持audio标签\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("audio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h2",{attrs:{id:"元素属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#元素属性"}},[t._v("#")]),t._v(" 元素属性")]),t._v(" "),a("h3",{attrs:{id:"只读"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#只读"}},[t._v("#")]),t._v(" 只读")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("duration")]),t._v("：双进度浮点数，音频的播放时长，以秒为单位。若音频不可用或者音频未加载，则返回"),a("code",[t._v("NaN")])]),t._v(" "),a("li",[a("code",[t._v("paused")]),t._v("：若音频被暂停或者未开始播放，则返回"),a("code",[t._v("true")])]),t._v(" "),a("li",[a("code",[t._v("ended")]),t._v("：音频是否播放完毕，播放完毕则返回"),a("code",[t._v("true")])]),t._v(" "),a("li",[a("code",[t._v("error")]),t._v("：发生错误情况下的"),a("code",[t._v("MediaError")]),t._v("对象")]),t._v(" "),a("li",[a("code",[t._v("currentSrc")]),t._v("：返回正在播放或加载的音频的"),a("code",[t._v("URL")]),t._v("地址，对应于浏览器在"),a("code",[t._v("source")]),t._v("元素中选择的文件")]),t._v(" "),a("li",[a("code",[t._v("seeking")]),t._v("：用户是否在音频中移动或者跳跃到新的播放点")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("audio preload"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"auto"')]),t._v(" src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.mp3"')]),t._v(" onseeking"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"fn()"')]),t._v(" controls "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" audio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("fn")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("seeking"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h3",{attrs:{id:"可读写"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#可读写"}},[t._v("#")]),t._v(" 可读写")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("autoplay")]),t._v("：设置音频自动播放，或者查询音频是否设置"),a("code",[t._v("autoplay")])]),t._v(" "),a("li",[a("code",[t._v("loop")]),t._v("：设置或者查询音频是否循环播放")]),t._v(" "),a("li",[a("code",[t._v("currentTime")]),t._v("：返回音频当前的播放时间点，双精度浮点数，单位为秒。音频未播放，可用于设置音频开始播放的时间点。音频播放过程中，可用于设置音频播放时间点")]),t._v(" "),a("li",[a("code",[t._v("controls")]),t._v("：显示或隐藏音频控制面板，或者查询控制面板是否可见")]),t._v(" "),a("li",[a("code",[t._v("volume")]),t._v("：返回音量值，介于"),a("code",[t._v("0-1")]),t._v("之间的双进度浮点数，或者设置音量值")]),t._v(" "),a("li",[a("code",[t._v("muted")]),t._v("：设置或者查询是否静音")]),t._v(" "),a("li",[a("code",[t._v("playbackRate")]),t._v("：设置或者查询音频的播放速度，"),a("code",[t._v("1")]),t._v("表示正常速度，大于"),a("code",[t._v("1")]),t._v("表示快进，"),a("code",[t._v("0-1")]),t._v("之间表示慢进，"),a("code",[t._v("0")]),t._v("表示暂停（控制面板仍然是播放，仅仅是速度为"),a("code",[t._v("0")]),t._v("）")])]),t._v(" "),a("h3",{attrs:{id:"特殊属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#特殊属性"}},[t._v("#")]),t._v(" 特殊属性")]),t._v(" "),a("h4",{attrs:{id:"played"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#played"}},[t._v("#")]),t._v(" played")]),t._v(" "),a("p",[t._v("  表示用户已经播放的音频范围，返回 "),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/TimeRanges",target:"_blank",rel:"noopener noreferrer"}},[t._v("TimeRanges"),a("OutboundLink")],1),t._v(" 对象，其中"),a("code",[t._v("TimeRanges")]),t._v("对象包括一个"),a("code",[t._v("length")]),t._v("属性和"),a("code",[t._v("start()")]),t._v("、"),a("code",[t._v("end()")]),t._v("两个方法。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("length")]),t._v("：获取音频范围的数量，未开始播放为"),a("code",[t._v("0")]),t._v("，开始播放后至少为"),a("code",[t._v("1")])]),t._v(" "),a("li",[a("code",[t._v("start(index)")]),t._v("：获取某个音频范围的开始位置")]),t._v(" "),a("li",[a("code",[t._v("end(index)")]),t._v("：获取某个音频范围的结束位置")])]),t._v(" "),a("p",[t._v("  若用户在音频中移动或者跳跃播放点，则会获得多个音频范围。")]),t._v(" "),a("p",[t._v("  如下为一段音频，用户跳跃了播放点两次，因此"),a("code",[t._v("played.length")]),t._v("为"),a("code",[t._v("3")]),t._v("，其中三段音频范围分别为开始播放、第一个跳跃点、第二个跳跃点的播放范围。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/html/label/audio/played.gif",alt:""}})]),t._v(" "),a("p",[t._v("  上述部分代码如下。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("audio src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"music.mp3"')]),t._v(" controls"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("audio"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("button id"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"btn"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("log"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("button"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" btn "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#btn'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" audio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  btn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" length "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("played"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("length: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("length"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" length"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" start "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("played"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" audio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("played"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("end")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n      console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("index: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("i"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", start: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("start"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", end: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("end"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v(", durations: ")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("end "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" start"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("s")]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("h4",{attrs:{id:"buffered"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#buffered"}},[t._v("#")]),t._v(" buffered")]),t._v(" "),a("p",[t._v("  表示浏览器已经缓存的音频范围，返回"),a("code",[t._v("TimeRanges")]),t._v("对象，若音频已完全加载则"),a("code",[t._v("buffered.length")]),t._v("为"),a("code",[t._v("1")]),t._v("，"),a("code",[t._v("buffered.start(0)")]),t._v("为"),a("code",[t._v("0")]),t._v("，"),a("code",[t._v("buffered.end(0)")]),t._v("为音频时长，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/buffered",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"seekable"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#seekable"}},[t._v("#")]),t._v(" seekable")]),t._v(" "),a("p",[t._v("  表示用户可跳转或移动的音频范围，返回"),a("code",[t._v("TimeRanges")]),t._v("对象，若音频已完全加载则"),a("code",[t._v("seekable.length")]),t._v("为"),a("code",[t._v("1")]),t._v("，"),a("code",[t._v("seekable.start(0)")]),t._v("为"),a("code",[t._v("0")]),t._v("，"),a("code",[t._v("seekable.end(0)")]),t._v("为音频时长。音频未加载或者加载错误，则"),a("code",[t._v("seakable.length")]),t._v("为"),a("code",[t._v("0")]),t._v("，对应的"),a("code",[t._v("start(0)")]),t._v("和"),a("code",[t._v("end(0)")]),t._v("也就不存在，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/seekable",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("h4",{attrs:{id:"networkstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#networkstate"}},[t._v("#")]),t._v(" networkState")]),t._v(" "),a("p",[t._v("  获取音频的网络范围，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/networkState",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("0")]),t._v("："),a("code",[t._v("NETWORK_EMPTY")]),t._v("，音频尚未初始化")]),t._v(" "),a("li",[a("code",[t._v("1")]),t._v("："),a("code",[t._v("NETWORK_IDLE")]),t._v("，浏览器已选择好采用什么编码格式来播放媒体，但尚未建立网络连接")]),t._v(" "),a("li",[a("code",[t._v("2")]),t._v("："),a("code",[t._v("NETWORK_LOADING")]),t._v("，浏览器正在加载")]),t._v(" "),a("li",[a("code",[t._v("3")]),t._v("："),a("code",[t._v("NETWORK_NO_SOURCE")]),t._v("，未找到音频资源")])]),t._v(" "),a("h4",{attrs:{id:"error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#error"}},[t._v("#")]),t._v(" error")]),t._v(" "),a("p",[t._v("  通常正常加载音频，则返回"),a("code",[t._v("null")]),t._v("，若加载过程中发生错误，浏览器将会返回"),a("code",[t._v("MediaError")]),t._v("对象。"),a("code",[t._v("MediaError")]),t._v("对象包括"),a("code",[t._v("code")]),t._v("和"),a("code",[t._v("message")]),t._v("属性，"),a("code",[t._v("message")]),t._v("为错误描述信息，"),a("code",[t._v("code")]),t._v("为如下错误码。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("1")]),t._v("："),a("code",[t._v("MEDIA_ERR_ABORTED")]),t._v("，音频加载加载过程中由于用户操作而被终止")]),t._v(" "),a("li",[a("code",[t._v("2")]),t._v("："),a("code",[t._v("MEDIA_ERR_NETWORK")]),t._v("，确认音频资源可用，但是加载时出现网路错误，音频加载被终止")]),t._v(" "),a("li",[a("code",[t._v("3")]),t._v("："),a("code",[t._v("MEDIA_ERR_DECODE")]),t._v("，确认音频资源可用，但是解码发生错误")]),t._v(" "),a("li",[a("code",[t._v("4")]),t._v("："),a("code",[t._v("MEDIA_ERR_SRC_NOT_SUPPORTED")]),t._v("，音频格式不被支持或者资源不可用")])]),t._v(" "),a("h2",{attrs:{id:"方法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法"}},[t._v("#")]),t._v(" 方法")]),t._v(" "),a("h3",{attrs:{id:"play"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#play"}},[t._v("#")]),t._v(" play")]),t._v(" "),a("p",[t._v("  播放音频，返回"),a("code",[t._v("Promise")]),t._v("，播放成功时为"),a("code",[t._v("resolved")]),t._v("，因为任何原因播放失败为"),a("code",[t._v("rejected")]),t._v("，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/play",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" audio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\naudio\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("play")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("catch")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"pause"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pause"}},[t._v("#")]),t._v(" pause")]),t._v(" "),a("p",[t._v("  暂停音频，无返回值，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/pause",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" audio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\naudio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("pause")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"load"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#load"}},[t._v("#")]),t._v(" load")]),t._v(" "),a("p",[t._v("  重新加载"),a("code",[t._v("src")]),t._v("指定的资源，"),a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/load",target:"_blank",rel:"noopener noreferrer"}},[t._v("详细参考"),a("OutboundLink")],1),t._v("。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" audio "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("querySelector")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'audio'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\naudio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'music.mp3'")]),t._v("\naudio"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("load")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h2",{attrs:{id:"事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#事件"}},[t._v("#")]),t._v(" 事件")]),t._v(" "),a("h3",{attrs:{id:"常用事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#常用事件"}},[t._v("#")]),t._v(" 常用事件")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/loadstart_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("loadstart"),a("OutboundLink")],1),t._v("：开始载入音频时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/durationchange_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("durationchange"),a("OutboundLink")],1),t._v("："),a("code",[t._v("duration")]),t._v("属性更新时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/loadedmetadata_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("loadedmetadata"),a("OutboundLink")],1),t._v("：音频元数据加载完成时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/loadeddata_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("loadeddata"),a("OutboundLink")],1),t._v("：音频的第一帧加载完成时触发，此时整个音频还未加载完")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/progress_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("progress"),a("OutboundLink")],1),t._v("：音频正在加载时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/canplay_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("canplay"),a("OutboundLink")],1),t._v("：浏览器能够开始播放音频时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/canplaythrough_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("canplaythrough"),a("OutboundLink")],1),t._v("：浏览器预计在不停下来进行缓冲的情况下，能够持续播放指定的音频时会触发")])]),t._v(" "),a("h3",{attrs:{id:"其他事件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他事件"}},[t._v("#")]),t._v(" 其他事件")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/abort_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("abort"),a("OutboundLink")],1),t._v("：音频终止时触发，非错误导致")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/emptied_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("emptied"),a("OutboundLink")],1),t._v("：音频加载后又被清空，如加载后又调用 load 重新加载")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ended_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("ended"),a("OutboundLink")],1),t._v("：播放结束，若设置"),a("code",[t._v("loop")]),t._v("属性，音频播放结束后不会触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/error_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("error"),a("OutboundLink")],1),t._v("：发生错误")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/play_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("play"),a("OutboundLink")],1),t._v("：播放事件，第一次播放、暂停后播放会触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/playing_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("playing"),a("OutboundLink")],1),t._v("：播放事件，第一次播放、暂停后播放、播放结束后循环播放会触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement/pause_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("pause"),a("OutboundLink")],1),t._v("：暂停事件")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ratechange_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("ratechange"),a("OutboundLink")],1),t._v("：播放速率改变")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ratechange_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("seeking"),a("OutboundLink")],1),t._v("：播放点改变开始")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/ratechange_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("seeked"),a("OutboundLink")],1),t._v("：播放点改变结束")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/stalled_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("stalled"),a("OutboundLink")],1),t._v("：浏览器尝试获取音频，但是音频不可用时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/suspend_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("suspend"),a("OutboundLink")],1),t._v("：音频加载暂停时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/timeupdate_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("timeupdate"),a("OutboundLink")],1),t._v("：音频"),a("code",[t._v("currentTime")]),t._v("改变时触发")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/volumechange_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("volumechange"),a("OutboundLink")],1),t._v("：音量改变时触发，包括静音")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement/waiting_event",target:"_blank",rel:"noopener noreferrer"}},[t._v("waiting"),a("OutboundLink")],1),t._v("：开始播放前缓冲下一帧时触发")])]),t._v(" "),a("h2",{attrs:{id:"🎉-写在最后"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#🎉-写在最后"}},[t._v("#")]),t._v(" 🎉 写在最后")]),t._v(" "),a("p",[t._v("🍻伙伴们，如果你已经看到了这里，觉得这篇文章有帮助到你的话不妨点赞👍或 "),a("a",{attrs:{href:"https://github.com/dongwei1125/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("Star"),a("OutboundLink")],1),t._v(" ✨支持一下哦！")]),t._v(" "),a("p",[t._v("手动码字，如有错误，欢迎在评论区指正💬~")]),t._v(" "),a("p",[t._v("你的支持就是我更新的最大动力💪~")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub"),a("OutboundLink")],1),t._v(" / "),a("a",{attrs:{href:"https://gitee.com/dongwei1125",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://dongwei1125.github.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("GitHub Pages"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://juejin.cn/user/2621689331987783",target:"_blank",rel:"noopener noreferrer"}},[t._v("掘金"),a("OutboundLink")],1),t._v("、"),a("a",{attrs:{href:"https://blog.csdn.net/Don_GW",target:"_blank",rel:"noopener noreferrer"}},[t._v("CSDN"),a("OutboundLink")],1),t._v(" 同步更新，欢迎关注😉~")])])}),[],!1,null,null,null);e.default=r.exports}}]);