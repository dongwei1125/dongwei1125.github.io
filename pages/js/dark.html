<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Element 组件库也支持暗黑模式啦 | DonV</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/header.jpg">
    <meta name="description" content="A paper about JavaScript, HTML and CSS.">
    
    <link rel="preload" href="/assets/css/0.styles.87611319.css" as="style"><link rel="preload" href="/assets/js/app.0aa97f73.js" as="script"><link rel="preload" href="/assets/js/2.f850a8ef.js" as="script"><link rel="preload" href="/assets/js/34.6e78f32f.js" as="script"><link rel="prefetch" href="/assets/js/10.cb041c1b.js"><link rel="prefetch" href="/assets/js/11.1aadbcee.js"><link rel="prefetch" href="/assets/js/12.77cc8e56.js"><link rel="prefetch" href="/assets/js/13.7e8162d9.js"><link rel="prefetch" href="/assets/js/14.dea6ba67.js"><link rel="prefetch" href="/assets/js/15.a786d687.js"><link rel="prefetch" href="/assets/js/16.163edf25.js"><link rel="prefetch" href="/assets/js/17.3a0232cb.js"><link rel="prefetch" href="/assets/js/18.91bd2dd7.js"><link rel="prefetch" href="/assets/js/19.a36993f8.js"><link rel="prefetch" href="/assets/js/20.30dd9f79.js"><link rel="prefetch" href="/assets/js/21.5e3c83a3.js"><link rel="prefetch" href="/assets/js/22.88d5e321.js"><link rel="prefetch" href="/assets/js/23.b54a65a7.js"><link rel="prefetch" href="/assets/js/24.51df379f.js"><link rel="prefetch" href="/assets/js/25.79342bd2.js"><link rel="prefetch" href="/assets/js/26.643d5441.js"><link rel="prefetch" href="/assets/js/27.54b7d7b4.js"><link rel="prefetch" href="/assets/js/28.d01a4aee.js"><link rel="prefetch" href="/assets/js/29.7d932073.js"><link rel="prefetch" href="/assets/js/3.31ebf682.js"><link rel="prefetch" href="/assets/js/30.4c2f5636.js"><link rel="prefetch" href="/assets/js/31.b00c42d5.js"><link rel="prefetch" href="/assets/js/32.e9a0f488.js"><link rel="prefetch" href="/assets/js/33.f510b5fd.js"><link rel="prefetch" href="/assets/js/35.04d666a2.js"><link rel="prefetch" href="/assets/js/36.900a3beb.js"><link rel="prefetch" href="/assets/js/37.19ddf8d7.js"><link rel="prefetch" href="/assets/js/38.35f899bd.js"><link rel="prefetch" href="/assets/js/39.fe9ea525.js"><link rel="prefetch" href="/assets/js/4.3c7083a8.js"><link rel="prefetch" href="/assets/js/40.0d116ce0.js"><link rel="prefetch" href="/assets/js/41.6cdce4cf.js"><link rel="prefetch" href="/assets/js/42.ab0bd0d5.js"><link rel="prefetch" href="/assets/js/43.66c8f8eb.js"><link rel="prefetch" href="/assets/js/44.ac02981e.js"><link rel="prefetch" href="/assets/js/45.479814b0.js"><link rel="prefetch" href="/assets/js/46.29956259.js"><link rel="prefetch" href="/assets/js/47.a89cf7d2.js"><link rel="prefetch" href="/assets/js/48.859e3502.js"><link rel="prefetch" href="/assets/js/49.d0fa0b25.js"><link rel="prefetch" href="/assets/js/5.206809f3.js"><link rel="prefetch" href="/assets/js/50.d051084c.js"><link rel="prefetch" href="/assets/js/51.fa831e6a.js"><link rel="prefetch" href="/assets/js/52.3ed98760.js"><link rel="prefetch" href="/assets/js/53.016b1c3c.js"><link rel="prefetch" href="/assets/js/54.c88e06c5.js"><link rel="prefetch" href="/assets/js/55.937bfe09.js"><link rel="prefetch" href="/assets/js/56.03003660.js"><link rel="prefetch" href="/assets/js/57.8bcda68a.js"><link rel="prefetch" href="/assets/js/58.286692ba.js"><link rel="prefetch" href="/assets/js/59.fbfe98aa.js"><link rel="prefetch" href="/assets/js/6.6f9d9bda.js"><link rel="prefetch" href="/assets/js/60.0975844e.js"><link rel="prefetch" href="/assets/js/61.0af6cf48.js"><link rel="prefetch" href="/assets/js/62.66c23699.js"><link rel="prefetch" href="/assets/js/63.7fda9b3f.js"><link rel="prefetch" href="/assets/js/7.6f64fba1.js"><link rel="prefetch" href="/assets/js/8.a163349f.js"><link rel="prefetch" href="/assets/js/9.9058d3cc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.87611319.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.jpg" alt="DonV" class="logo"> <span class="site-name can-hide">DonV</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/js/nav.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/pages/html/nav.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/pages/css/nav.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/pages/other/nav.html" class="nav-link">
  其它
</a></div><div class="nav-item"><a href="/pages/app/nav.html" class="nav-link">
  应用
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/pages/js/nav.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/pages/html/nav.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/pages/css/nav.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/pages/other/nav.html" class="nav-link">
  其它
</a></div><div class="nav-item"><a href="/pages/app/nav.html" class="nav-link">
  应用
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="关于" class="dropdown-title"><span class="title">关于</span> <span class="arrow down"></span></button> <button type="button" aria-label="关于" class="mobile-dropdown-title"><span class="title">关于</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer" class="nav-link external">
  掘金
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Element 组件库也支持暗黑模式啦</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/js/dark.html#前言" class="sidebar-link">前言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/js/dark.html#背景" class="sidebar-link">背景</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/js/dark.html#思路" class="sidebar-link">思路</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/js/dark.html#浅层次" class="sidebar-link">浅层次</a></li><li class="sidebar-sub-header"><a href="/pages/js/dark.html#深层次" class="sidebar-link">深层次</a></li><li class="sidebar-sub-header"><a href="/pages/js/dark.html#自定义" class="sidebar-link">自定义</a></li><li class="sidebar-sub-header"><a href="/pages/js/dark.html#小结" class="sidebar-link">小结</a></li></ul></li><li><a href="/pages/js/dark.html#优化" class="sidebar-link">优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/js/dark.html#关键字" class="sidebar-link">关键字</a></li><li class="sidebar-sub-header"><a href="/pages/js/dark.html#级联选择器" class="sidebar-link">级联选择器</a></li><li class="sidebar-sub-header"><a href="/pages/js/dark.html#进度条-评分" class="sidebar-link">进度条/评分</a></li></ul></li><li><a href="/pages/js/dark.html#🎉-写在最后" class="sidebar-link">🎉 写在最后</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="element-组件库也支持暗黑模式啦"><a href="#element-组件库也支持暗黑模式啦" class="header-anchor">#</a> Element 组件库也支持暗黑模式啦</h1> <p><img src="/js/dark/banner.gif" alt=""></p> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>  最近参考了<code>Element Plus</code>风格样式，修改了<code>Element</code>内部样式源文件，并发布了自定义的暗黑主题包 <a href="https://github.com/dongwei1125/theme-dark" target="_blank" rel="noopener noreferrer">element-theme-darkplus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>  效果预览 👉<a href="https://dongwei1125.github.io/theme-dark/" target="_blank" rel="noopener noreferrer">戳这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="背景"><a href="#背景" class="header-anchor">#</a> 背景</h2> <p>  ;<code>Vue</code>版本经历了<code>2</code>到<code>3</code>的大迭代，与之相关的一些生态系统也发生了变化和改动。</p> <p>  例如组件库 <a href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener noreferrer">Element<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 升级为了 <a href="https://element-plus.org/zh-CN/" target="_blank" rel="noopener noreferrer">Element Plus<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>  ;<code>Element Plus</code>相较于<code>Element</code>。</p> <ul><li>组件上新增加了 <a href="https://element-plus.org/zh-CN/component/tree-select.html" target="_blank" rel="noopener noreferrer">TreeSelect<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 树形选择、<a href="https://element-plus.org/zh-CN/component/text.html" target="_blank" rel="noopener noreferrer">Text<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文本等</li> <li>性能上优化了用户体验，例如表格组件在大数据量的情况下渲染速度更快，输入框组件在输入响应上更加流畅等</li> <li>开发上也支持<code>TypeScript</code>，能体验到更好的编码书写和类型检查</li> <li>主题上特性最佳，新增了暗黑模式，可动态切换</li></ul> <p>  那么为什么<code>Element</code>无法支持暗黑模式呢？原因包括。</p> <ul><li><code>Element</code>支持自定义主题，却忽略了暗黑模式</li> <li><code>Element</code>创建初<code>CSS</code>样式表中 <a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/var" target="_blank" rel="noopener noreferrer">var<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 技术并未成为标准</li> <li><code>Element</code>内部样式与<code>scss</code>变量强关联，很难达到动态切换主题</li></ul> <p>  ;<code>GitHub</code>仓库 <a href="https://github.com/ElementUI/theme-chalk" target="_blank" rel="noopener noreferrer">theme-chalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 保存了<code>Element</code>样式源文件，其中<code>src</code>目录下有很多的<code>.scss</code>文件。如果想要<code>Element</code>内部支持<code>var</code>变量，几乎所有的<code>.scss</code>都将修改，并且还要进行全面测试。如此庞大的工作量，对于仅剩社区维护的<code>Element</code>来说，是根本不可能的。所以在<code>Element</code>停止维护之前，都没有支持暗黑模式。</p> <h2 id="思路"><a href="#思路" class="header-anchor">#</a> 思路</h2> <p>  现在功能就在这里，如何实现呢？</p> <p>  暗黑模式实际上就是一套<code>Element</code>自定义主题包。而对于自定义主题，最好看看官方是否支持，而官网也确实提供了自定义主题的 <a href="https://element.eleme.io/#/zh-CN/component/custom-theme" target="_blank" rel="noopener noreferrer">实践方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。一共四种方法，可以进行不同程度的样式自定义。实际上可概括为两种方法，分别为浅层次和深层次的主题定制。</p> <h3 id="浅层次"><a href="#浅层次" class="header-anchor">#</a> 浅层次</h3> <p>  即使用 <a href="https://element.eleme.io/#/zh-CN/theme/preview" target="_blank" rel="noopener noreferrer">在线主题编辑器<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 或者 <a href="https://chrome.google.com/webstore/detail/element-theme-roller/lifkjlojflekabbmlddfccdkphlelmim" target="_blank" rel="noopener noreferrer">主题编辑器 Chrome 插件<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>  原理上是浏览器修改了<code>scss</code>变量值，在线服务实时打包并返回构建好的<code>CSS</code>样式代码。</p> <p>  其优点在于。</p> <ul><li>交互式修改<code>Element</code>全局<code>scss</code>样式变量</li> <li>快捷实时地预览修改后的视觉效果</li> <li>支持样式文件包上传、修改和下载</li></ul> <p>  缺点在于。</p> <ul><li>在线服务请求较慢或者根本无法访问。大概率报错<code>Server Error 500</code>，当然也能访问，注意<code>方式方法</code>哈</li> <li>部分文件或组件内部颜色值固定，无法修改。例如 <a href="https://github.com/ElementUI/theme-chalk/blob/master/src/mixins/mixins.scss#L29" target="_blank" rel="noopener noreferrer">mixins.scss<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，滚动条滑块背景色<code>$--scrollbar-thumb-background</code>变量固定为了<code>#b4bccc</code></li></ul> <h3 id="深层次"><a href="#深层次" class="header-anchor">#</a> 深层次</h3> <p>  即使用命令行主题工具 <a href="https://github.com/ElementUI/element-theme" target="_blank" rel="noopener noreferrer">element-theme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 搭配<code>Element</code>白垩主题包 <a href="https://github.com/ElementUI/theme-chalk" target="_blank" rel="noopener noreferrer">theme-chalk<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 工作。</p> <p>  原理上是在线主题编辑器的本地运行版，一共两个步骤，分别为创建变量文件和打包构建。</p> <ul><li>命令行运行<code>et -i</code>，工具<code>element-theme</code>将抓取文件<code>node_modules/element-ui/packages/theme-chalk/src/common/var.scss</code>，<code>var.scss</code>内保存了白垩主题全局的样式变量。然后拷贝到根目录下生成<code>element-variables.scss</code>变量基础文件</li> <li>命令行运行<code>et</code>，工具<code>element-theme</code>利用构建工具<code>gulp</code>和相关依赖，打包<code>element-variables.scss</code>内自定义的变量值到<code>src</code>目录下诸如<code>index.scss</code>、<code>alert.scss</code>等文件中，编译生成可供使用的<code>index.css</code>、<code>alert.css</code>等等，共同构成一个主题包</li></ul> <p>  ;<code>element-theme</code>相关依赖项包括。</p> <ul><li><a href="https://github.com/tj/commander.js" target="_blank" rel="noopener noreferrer">commander<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：可构建<code>node</code>的命令行程序，提供了命令行输入和参数解析等功能</li> <li><a href="https://github.com/sindresorhus/ora" target="_blank" rel="noopener noreferrer">ora<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：命令行<code>loading</code>加载效果插件</li> <li><a href="https://github.com/gulpjs/gulp" target="_blank" rel="noopener noreferrer">gulp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：流的自动化代码构建系统</li> <li><a href="https://github.com/sindresorhus/gulp-autoprefixer" target="_blank" rel="noopener noreferrer">gulp-autoprefixer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：为<code>CSS</code>文件添加浏览器前缀，以兼容不同浏览器</li> <li><a href="https://www.npmjs.com/package/gulp-cssmin" target="_blank" rel="noopener noreferrer">gulp-cssmin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：压缩<code>CSS</code></li> <li><a href="https://github.com/dlmanning/gulp-sass" target="_blank" rel="noopener noreferrer">gulp-sass<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>SASS</code>编译</li> <li><a href="https://github.com/teambition/gulp-sequence" target="_blank" rel="noopener noreferrer">run-sequence<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：<code>gulp</code>多任务按次序执行</li></ul> <p>  其优点在于。</p> <ul><li>支持深层次的主题定制</li> <li>附加可选配置，修改变量更加灵活，本地构建速率快效率高</li></ul> <p>  缺点主要包括三种。</p> <p>  第一<code>element-theme</code>强关联<code>node</code>版本，依赖关系为<code>element-theme</code> <code>&gt;</code> <a href="https://github.com/ElementUI/element-theme/blob/master/package.json#L52" target="_blank" rel="noopener noreferrer">gulp-sass 3.1.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>&gt;</code> <a href="https://github.com/dlmanning/gulp-sass/blob/v3.1.0/package.json#L26" target="_blank" rel="noopener noreferrer">node-sass 4.2.0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <code>&gt;</code> <code>node 12</code>。</p> <blockquote><p><code>node-sass</code>与<code>node</code>对应版本可参考官方 <a href="https://github.com/sass/node-sass#node-version-support-policy" target="_blank" rel="noopener noreferrer">Node version support policy<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>  一种解决方式是升级<code>gulp-sass</code>版本或者降级<code>node</code>版本，另一种方式是使用<code>node</code>版本适配的第三方库。</p> <ul><li><code>node &lt; 12</code>：<a href="https://www.npmjs.com/package/element-theme" target="_blank" rel="noopener noreferrer">element-theme<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>node = 12.x</code>：<a href="https://www.npmjs.com/package/element-themex" target="_blank" rel="noopener noreferrer">element-themex<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><code>node &gt;= 14</code>：<a href="https://www.npmjs.com/package/element-theme-replace" target="_blank" rel="noopener noreferrer">element-theme-replace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>  第二<code>theme-chalk</code>内部文件 <a href="https://github.com/ElementUI/theme-chalk/blob/v2.15.7/src/common/var.scss#L1019" target="_blank" rel="noopener noreferrer">var.scss<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 语法错误，导致拷贝生成的<code>element-variables.scss</code>也有此问题。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/common/var.scss</span>
<span class="token operator">...</span>

$<span class="token operator">--</span>breakpoints<span class="token operator">-</span>spec<span class="token operator">:</span> <span class="token punctuation">(</span>
  <span class="token string-property property">'xs-only'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>sm <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>sm<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-only'</span><span class="token operator">:</span> <span class="token string">&quot;(min-width: #{$--sm}) and (max-width: #{$--md - 1})&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>md <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>md<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-only'</span><span class="token operator">:</span> <span class="token string">&quot;(min-width: #{$--md}) and (max-width: #{$--lg - 1})&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>lg <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>lg<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-only'</span><span class="token operator">:</span> <span class="token string">&quot;(min-width: #{$--lg}) and (max-width: #{$--xl - 1})&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>xl <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'xl-only'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>xl<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  手动修改为。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/common/var.scss</span>
<span class="token operator">...</span>

$<span class="token operator">--</span>breakpoints<span class="token operator">-</span>spec<span class="token operator">:</span> <span class="token punctuation">(</span>
  <span class="token string-property property">'xs-only'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>sm <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>sm<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-only'</span><span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>sm<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>md <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'sm-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>md <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>md<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-only'</span><span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>md<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>lg <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'md-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>lg <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-and-up'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>lg<span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-only'</span><span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>lg<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token function">and</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> #<span class="token punctuation">{</span>$<span class="token operator">--</span>xl <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'lg-and-down'</span><span class="token operator">:</span> <span class="token punctuation">(</span>max<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>xl <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token string-property property">'xl-only'</span> <span class="token operator">:</span> <span class="token punctuation">(</span>min<span class="token operator">-</span>width<span class="token operator">:</span> $<span class="token operator">--</span>xl<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>  第三<code>theme-chalk</code>内部变量过于固定，例如 <a href="https://github.com/ElementUI/theme-chalk/blob/v2.15.7/src/common/var.scss#L25" target="_blank" rel="noopener noreferrer">mix<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 函数强制混合<code>$--color-white</code>变量，并不适用于暗黑主题。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/common/var.scss</span>
<span class="token operator">...</span>

$<span class="token operator">--</span>color<span class="token operator">-</span>primary<span class="token operator">-</span>light<span class="token operator">-</span><span class="token number">1</span><span class="token operator">:</span> <span class="token function">mix</span><span class="token punctuation">(</span>$<span class="token operator">--</span>color<span class="token operator">-</span>white<span class="token punctuation">,</span> $<span class="token operator">--</span>color<span class="token operator">-</span>primary<span class="token punctuation">,</span> <span class="token number">10</span><span class="token operator">%</span><span class="token punctuation">)</span> <span class="token operator">!</span><span class="token keyword">default</span><span class="token punctuation">;</span> <span class="token comment">/* 53a8ff */</span>
</code></pre></div><p>  另外很多文件中存在白垩主题固定的颜色值，例如 <a href="https://github.com/ElementUI/theme-chalk/blob/v2.15.7/src/upload.scss#L32" target="_blank" rel="noopener noreferrer">upload.scss<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/upload.scss</span>
<span class="token operator">...</span>

@include <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter">upload</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  @include <span class="token function">m</span><span class="token punctuation">(</span><span class="token parameter">picture<span class="token operator">-</span>card</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> #fbfdff<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px dashed #c0ccda<span class="token punctuation">;</span>
    <span class="token operator">...</span>
  <span class="token punctuation">}</span>

  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="自定义"><a href="#自定义" class="header-anchor">#</a> 自定义</h3> <p>  两种方式都或多或少有缺点，解决起来也不是那么容易。</p> <p>  实际上深层次定制是有一些可取的部分的，解决掉附带的缺点，是不是就是可行的呢？</p> <p>  参考<code>element-theme</code>我做了如下几个修改。</p> <h4 id="维护-scss-文件"><a href="#维护-scss-文件" class="header-anchor">#</a> 维护 scss 文件</h4> <p>  ;<code>theme-chalk</code>源文件自身存在语法错误，那根据源文件生成新文件就毫无意义了。干脆省略<code>element-theme</code>创建变量文件那一步，拷贝<code>theme-chalk</code>的最新源文件 <a href="https://github.com/ElementUI/theme-chalk/tree/v2.15.7/src" target="_blank" rel="noopener noreferrer">src<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 到根目录下。然后修复语法错误，自行维护<code>src</code>源文件。</p> <h4 id="升级依赖项"><a href="#升级依赖项" class="header-anchor">#</a> 升级依赖项</h4> <p>  升级所有依赖项，压缩插件<code>gulp-cssmin</code>替换为<code>gulp-clean-css</code>，<code>gulp-sass</code>内部依赖<code>node-sass</code>切换为 <a href="https://github.com/sass/dart-sass" target="_blank" rel="noopener noreferrer">dart-sass<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，新增了<code>CSS</code>命名空间插件 <a href="https://github.com/atskimura/gulp-css-wrap" target="_blank" rel="noopener noreferrer">gulp-css-wrap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>  以下代码<code>compileCss</code>函数选中了<code>src</code>目录下所有<code>.scss</code>文件，<code>gulp-sass</code>编译构建，然后<code>gulp-autoprefixer</code>添加浏览器前缀，<code>gulp-css-wrap</code>新增类命名空间，最后<code>gulp-clean-css</code>压缩代码，输出至根目录下<code>lib</code>文件夹中。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// gulpfile.js</span>
<span class="token operator">...</span>

<span class="token keyword">function</span> <span class="token function">compileCss</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./src/*.scss'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sass<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> sass<span class="token punctuation">.</span>logError<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssWrap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">selector</span><span class="token operator">:</span> <span class="token string">'.dark'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cleanCss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./lib'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  以<code>button</code>为例，原样式代码为。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>el<span class="token operator">-</span>button <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFF</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  新增命名空间样式代码为。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>dark <span class="token punctuation">.</span>el<span class="token operator">-</span>button <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFF</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="修改源文件"><a href="#修改源文件" class="header-anchor">#</a> 修改源文件</h4> <p>  暗黑主题风格参照了<code>Elemenet Plus</code>，修改<code>src</code>下所有源文件颜色变量值。内部固定颜色值替换为已有变量，或者新增全局变量。</p> <p>  思路较简单，但工作量极大。</p> <h4 id="编写-gulp-插件"><a href="#编写-gulp-插件" class="header-anchor">#</a> 编写 gulp 插件</h4> <p>  若一个项目有白垩和暗黑两种主题，也能动态切换，我们先看看白垩的部分样式代码。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>el<span class="token operator">-</span>button <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
  line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> #<span class="token constant">FFF</span><span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token constant">DCDFE6</span><span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #<span class="token number">606266</span><span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  然后看看暗黑的对应样式代码。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>dark <span class="token punctuation">.</span>el<span class="token operator">-</span>button <span class="token punctuation">{</span>
  <span class="token literal-property property">display</span><span class="token operator">:</span> inline<span class="token operator">-</span>block<span class="token punctuation">;</span>
  line<span class="token operator">-</span>height<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
  white<span class="token operator">-</span>space<span class="token operator">:</span> nowrap<span class="token punctuation">;</span>
  <span class="token literal-property property">cursor</span><span class="token operator">:</span> pointer<span class="token punctuation">;</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> transparent<span class="token punctuation">;</span>
  <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #4c4d4f<span class="token punctuation">;</span>
  <span class="token literal-property property">color</span><span class="token operator">:</span> #cfd3dc<span class="token punctuation">;</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  发现问题没有，主题切换只是颜色值改变，但是却额外维护了重复的样式代码，比如<code>cursor: pointer</code>等。</p> <p>  我们完全可以将白垩主题作为基础，而暗黑部分仅仅引入颜色样式即可。可能像如下方式引入，<code>index.color.css</code>中仅仅只有颜色代码，没有其它<code>CSS</code>代码。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">'element-ui/lib/theme-chalk/index.css'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">'element-theme-darkplus/lib/index.color.css'</span><span class="token punctuation">;</span>
</code></pre></div><p>  新增插件<code>extract-color</code>用于抽取暗黑主题中所有的颜色样式代码，核心的样式提取函数<code>cssExtractor</code>引用于插件 <a href="https://github.com/hzsrc/webpack-theme-color-replacer/blob/master/src/CssExtractor.js" target="_blank" rel="noopener noreferrer">webpack-theme-color-replacer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，<code>webpack-theme-color-replacer</code>可提取出<code>CSS</code>中指定关键字的代码。</p> <p>  ;<code>gulpfile.js</code>新增颜色提取函数<code>compileColorCss</code>，其中<code>rename</code>为 <a href="https://github.com/hparra/gulp-rename" target="_blank" rel="noopener noreferrer">gulp-rename<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 插件，用于修改文件名。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// gulpfile.js</span>
<span class="token operator">...</span>

<span class="token keyword">function</span> <span class="token function">compileColorCss</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">src</span><span class="token punctuation">(</span><span class="token string">'./src/*.scss'</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>sass<span class="token punctuation">.</span><span class="token function">sync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'error'</span><span class="token punctuation">,</span> sass<span class="token punctuation">.</span>logError<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">autoprefixer</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">cascade</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cssWrap</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">selector</span><span class="token operator">:</span> <span class="token string">'.dark'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">extractColor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">keywords</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token string">'rgb'</span><span class="token punctuation">,</span> <span class="token string">'transparent'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cleanCss</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">rename</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">suffix</span><span class="token operator">:</span> <span class="token string">'.color'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">'./lib'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  以上代码大概率报错，原因是<code>cssWrap()</code>运行报错，<code>css-wrap</code>不能处理空文件。</p> <p>  本地新增插件<code>css-wrap</code>，空文件跳过<code>css-wrap</code>处理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// plugins/css-wrap.js</span>
<span class="token operator">...</span>

<span class="token keyword">function</span> <span class="token function">cssWrap</span><span class="token punctuation">(</span><span class="token parameter">options <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">obj</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file<span class="token punctuation">,</span> _<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    
    <span class="token keyword">var</span> contents <span class="token operator">=</span> file<span class="token punctuation">.</span>contents<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>contents<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      file<span class="token punctuation">.</span>contents <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Buffer<span class="token punctuation">.</span>from</span><span class="token punctuation">(</span><span class="token function">wrap</span><span class="token punctuation">(</span>contents<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="新增主题预览"><a href="#新增主题预览" class="header-anchor">#</a> 新增主题预览</h4> <p>  ;<code>element-theme-darkplus</code>内很多配置文件都是用于开发阶段格式化<code>.vue</code>和<code>.js</code>的，更多 <a href="/pages/js/eslint-prettier.html">详细参考</a>。</p> <p>  ;<code>docs/index.html</code>文件中以<code>cdn</code>方式引入了 <a href="https://github.com/FranckFreiburger/vue3-sfc-loader/blob/main/docs/examples.md#vue2-basic-example" target="_blank" rel="noopener noreferrer">vue2-sfc-loader<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，非脚手架页面也能解析<code>.vue</code>文件了。</p> <p>  ;<code>cdn</code>引入了多个依赖包，导致首屏加载慢，长时间处于白屏状态，这里复用了 <a href="https://github.com/vueComponent/ant-design-vue-pro/blob/master/public/index.html" target="_blank" rel="noopener noreferrer">Ant Design Pro Vue<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 加载动画效果。</p> <h3 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h3> <p>  ;<code>element-theme-darkplus</code>参考了<code>element-theme</code>进一步优化了<code>gulpfile.js</code>逻辑部分，新增了<code>extract-color</code>颜色提取插件，可最小化实现主题切换功能。拷贝了<code>theme-chalk</code>白垩主题的源文件，修复了问题文件语法错误，自主维护全局变量。</p> <h2 id="优化"><a href="#优化" class="header-anchor">#</a> 优化</h2> <h3 id="关键字"><a href="#关键字" class="header-anchor">#</a> 关键字</h3> <p>  虽然<code>extract-color</code>插件能提取颜色类代码，但有种情况却不能合理提取出来，例如 <a href="https://github.com/ElementUI/theme-chalk/blob/master/src/menu.scss#L53" target="_blank" rel="noopener noreferrer">menu.scss<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/menu.scss</span>
<span class="token operator">...</span>

@include <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  @include <span class="token function">m</span><span class="token punctuation">(</span><span class="token parameter">horizontal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    border<span class="token operator">-</span>right<span class="token operator">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  代码<code>border-right: none</code>中并没有关键字<code>#</code>、<code>rgb</code>或者<code>transparent</code>，插件提取不出来也很正常，那如何优化呢？</p> <p>  拟采用关键字注释，但<code>extract-color</code>插件对注释并不敏感，这里使用<code>var</code>来折中处理。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// src/menu.scss</span>
<span class="token operator">...</span>

@include <span class="token function">b</span><span class="token punctuation">(</span><span class="token parameter">menu</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>

  @include <span class="token function">m</span><span class="token punctuation">(</span><span class="token parameter">horizontal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token operator">--</span>ec<span class="token operator">-</span>ignore<span class="token operator">-</span>br<span class="token operator">:</span> none<span class="token punctuation">;</span>

    border<span class="token operator">-</span>right<span class="token operator">:</span> <span class="token keyword">var</span><span class="token punctuation">(</span><span class="token operator">--</span>ec<span class="token operator">-</span>ignore<span class="token operator">-</span>br<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>  关键字新增<code>--ec-ignore</code>，以上变量和<code>var</code>语句均能提取出来。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">extractColor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">keywords</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'--ec-ignore'</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token string">'rgb'</span><span class="token punctuation">,</span> <span class="token string">'transparent'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>  你可能发现了白垩主题内部并未引入<code>CSS</code>变量，出于兼容性考虑，最新版本已弃用。在<code>cssExtractor</code>提取函数上我做了部分修改，思路效仿了 <a href="https://github.com/clean-css/clean-css?tab=readme-ov-file#how-to-preserve-a-comment-block" target="_blank" rel="noopener noreferrer">clean-css<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 的特殊注释。原理即在匹配到特殊注释<code>/* extract-color ignore */</code>时，<code>CSS</code>代码段仍然保留而不仅限于颜色值，衍生出了<code>ignoreSpecialComments</code>配置项（默认值<code>false</code>）。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">extractColor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">keywords</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'#'</span><span class="token punctuation">,</span> <span class="token string">'rgb'</span><span class="token punctuation">,</span> <span class="token string">'transparent'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token literal-property property">ignoreSpecialComments</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="级联选择器"><a href="#级联选择器" class="header-anchor">#</a> 级联选择器</h3> <p>  ;<code>cascader</code>级联选择器稳定复现图标外现的问题。</p> <p><img src="/js/dark/cascader.png" alt=""></p> <p>  ;<code>checkbox</code>新增<code>overflow: hidden</code>可解决，但可能会产生其它的问题，暂时不解决。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">.</span>el<span class="token operator">-</span>checkbox__inner <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">overflow</span><span class="token operator">:</span> hidden<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="进度条-评分"><a href="#进度条-评分" class="header-anchor">#</a> 进度条/评分</h3> <p>  评分组件 <a href="https://github.com/ElemeFE/element/blob/master/packages/rate/src/main.vue" target="_blank" rel="noopener noreferrer">Rate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 较为特殊，<code>Element</code>内部与颜色相关<code>props</code>均定义了默认值，且<code>template</code>模板中都采用内联样式，导致外部主题样式无法覆盖。</p> <table><thead><tr><th><code>Props</code></th> <th><code>默认值</code></th></tr></thead> <tbody><tr><td><code>void-color</code></td> <td><code>#c6d1de</code></td></tr> <tr><td><code>disabled-void-color</code></td> <td><code>#eff2f7</code></td></tr> <tr><td><code>text-color</code></td> <td><code>#1f2d3d</code></td></tr></tbody></table> <p>  可传空值重置相应<code>props</code>值使主题生效。</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-rate</span> <span class="token attr-name">:value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">show-text</span> <span class="token attr-name">void-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>  进度条组件 <a href="https://github.com/ElemeFE/element/blob/master/packages/progress/src/progress.vue" target="_blank" rel="noopener noreferrer">Progress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 类似，仅线形进度条支持，环形和仪表盘形不支持。</p> <table><thead><tr><th><code>Props</code></th> <th><code>默认值</code></th></tr></thead> <tbody><tr><td><code>define-back-color</code></td> <td><code>#ebeef5</code></td></tr> <tr><td><code>text-color</code></td> <td><code>#606266</code></td></tr></tbody></table> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-progress</span> <span class="token attr-name">:percentage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">define-back-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">text-color</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre></div><p>  虽然两组件可以传空值重置属性以支持暗黑主题，而对于不关心此功能的同学，却不清楚为什么会传入诸如<code>text-color=&quot;&quot;</code>这样的属性，这无疑在开发层面徒增了心智负担。</p> <p>  嗯<code>...</code>样式么法解决<code>Rate</code>和<code>Progress</code>根本性问题了。</p> <p>  重新定义<code>Rate</code>和<code>Progress</code>组件可以吗？还不能破坏原组件的拓展性和唯一性，则采用继承原始组件并在<code>javascript</code>里做了一个中间层，帮助用户初始置空相关颜色<code>props</code>。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> ElementUI <span class="token keyword">from</span> <span class="token string">'element-ui'</span>
<span class="token keyword">import</span> Darken <span class="token keyword">from</span> <span class="token string">'element-theme-darkplus/utils/darken'</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">Darken</span><span class="token punctuation">(</span>ElementUI<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="🎉-写在最后"><a href="#🎉-写在最后" class="header-anchor">#</a> 🎉 写在最后</h2> <p>🍻伙伴们，如果你已经看到了这里，觉得这篇文章有帮助到你的话不妨点赞👍或 <a href="https://github.com/dongwei1125/blog" target="_blank" rel="noopener noreferrer">Star<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ✨支持一下哦！</p> <p>手动码字，如有错误，欢迎在评论区指正💬~</p> <p>你的支持就是我更新的最大动力💪~</p> <p><a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer">Gitee<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://dongwei1125.github.io/" target="_blank" rel="noopener noreferrer">GitHub Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer">掘金<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer">CSDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 同步更新，欢迎关注😉~</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">7/3/2024, 10:22:14 PM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0aa97f73.js" defer></script><script src="/assets/js/2.f850a8ef.js" defer></script><script src="/assets/js/34.6e78f32f.js" defer></script>
  </body>
</html>
