<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ES6 Symbol | DonV</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/header.jpg">
    <meta name="description" content="A paper about JavaScript, HTML and CSS.">
    
    <link rel="preload" href="/assets/css/0.styles.87611319.css" as="style"><link rel="preload" href="/assets/js/app.0aa97f73.js" as="script"><link rel="preload" href="/assets/js/2.f850a8ef.js" as="script"><link rel="preload" href="/assets/js/52.3ed98760.js" as="script"><link rel="prefetch" href="/assets/js/10.cb041c1b.js"><link rel="prefetch" href="/assets/js/11.1aadbcee.js"><link rel="prefetch" href="/assets/js/12.77cc8e56.js"><link rel="prefetch" href="/assets/js/13.7e8162d9.js"><link rel="prefetch" href="/assets/js/14.dea6ba67.js"><link rel="prefetch" href="/assets/js/15.a786d687.js"><link rel="prefetch" href="/assets/js/16.163edf25.js"><link rel="prefetch" href="/assets/js/17.3a0232cb.js"><link rel="prefetch" href="/assets/js/18.91bd2dd7.js"><link rel="prefetch" href="/assets/js/19.a36993f8.js"><link rel="prefetch" href="/assets/js/20.30dd9f79.js"><link rel="prefetch" href="/assets/js/21.5e3c83a3.js"><link rel="prefetch" href="/assets/js/22.88d5e321.js"><link rel="prefetch" href="/assets/js/23.b54a65a7.js"><link rel="prefetch" href="/assets/js/24.51df379f.js"><link rel="prefetch" href="/assets/js/25.79342bd2.js"><link rel="prefetch" href="/assets/js/26.643d5441.js"><link rel="prefetch" href="/assets/js/27.54b7d7b4.js"><link rel="prefetch" href="/assets/js/28.d01a4aee.js"><link rel="prefetch" href="/assets/js/29.7d932073.js"><link rel="prefetch" href="/assets/js/3.31ebf682.js"><link rel="prefetch" href="/assets/js/30.4c2f5636.js"><link rel="prefetch" href="/assets/js/31.b00c42d5.js"><link rel="prefetch" href="/assets/js/32.e9a0f488.js"><link rel="prefetch" href="/assets/js/33.f510b5fd.js"><link rel="prefetch" href="/assets/js/34.6e78f32f.js"><link rel="prefetch" href="/assets/js/35.04d666a2.js"><link rel="prefetch" href="/assets/js/36.900a3beb.js"><link rel="prefetch" href="/assets/js/37.19ddf8d7.js"><link rel="prefetch" href="/assets/js/38.35f899bd.js"><link rel="prefetch" href="/assets/js/39.fe9ea525.js"><link rel="prefetch" href="/assets/js/4.3c7083a8.js"><link rel="prefetch" href="/assets/js/40.0d116ce0.js"><link rel="prefetch" href="/assets/js/41.6cdce4cf.js"><link rel="prefetch" href="/assets/js/42.ab0bd0d5.js"><link rel="prefetch" href="/assets/js/43.66c8f8eb.js"><link rel="prefetch" href="/assets/js/44.ac02981e.js"><link rel="prefetch" href="/assets/js/45.479814b0.js"><link rel="prefetch" href="/assets/js/46.29956259.js"><link rel="prefetch" href="/assets/js/47.a89cf7d2.js"><link rel="prefetch" href="/assets/js/48.859e3502.js"><link rel="prefetch" href="/assets/js/49.d0fa0b25.js"><link rel="prefetch" href="/assets/js/5.206809f3.js"><link rel="prefetch" href="/assets/js/50.d051084c.js"><link rel="prefetch" href="/assets/js/51.fa831e6a.js"><link rel="prefetch" href="/assets/js/53.016b1c3c.js"><link rel="prefetch" href="/assets/js/54.c88e06c5.js"><link rel="prefetch" href="/assets/js/55.937bfe09.js"><link rel="prefetch" href="/assets/js/56.03003660.js"><link rel="prefetch" href="/assets/js/57.8bcda68a.js"><link rel="prefetch" href="/assets/js/58.286692ba.js"><link rel="prefetch" href="/assets/js/59.fbfe98aa.js"><link rel="prefetch" href="/assets/js/6.6f9d9bda.js"><link rel="prefetch" href="/assets/js/60.0975844e.js"><link rel="prefetch" href="/assets/js/61.0af6cf48.js"><link rel="prefetch" href="/assets/js/62.66c23699.js"><link rel="prefetch" href="/assets/js/63.7fda9b3f.js"><link rel="prefetch" href="/assets/js/7.6f64fba1.js"><link rel="prefetch" href="/assets/js/8.a163349f.js"><link rel="prefetch" href="/assets/js/9.9058d3cc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.87611319.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/header.jpg" alt="DonV" class="logo"> <span class="site-name can-hide">DonV</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/pages/js/nav.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/pages/html/nav.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/pages/css/nav.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/pages/other/nav.html" class="nav-link">
  å…¶å®ƒ
</a></div><div class="nav-item"><a href="/pages/app/nav.html" class="nav-link">
  åº”ç”¨
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³äº" class="dropdown-title"><span class="title">å…³äº</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…³äº" class="mobile-dropdown-title"><span class="title">å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/pages/js/nav.html" class="nav-link">
  JavaScript
</a></div><div class="nav-item"><a href="/pages/html/nav.html" class="nav-link">
  HTML
</a></div><div class="nav-item"><a href="/pages/css/nav.html" class="nav-link">
  CSS
</a></div><div class="nav-item"><a href="/pages/other/nav.html" class="nav-link">
  å…¶å®ƒ
</a></div><div class="nav-item"><a href="/pages/app/nav.html" class="nav-link">
  åº”ç”¨
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="å…³äº" class="dropdown-title"><span class="title">å…³äº</span> <span class="arrow down"></span></button> <button type="button" aria-label="å…³äº" class="mobile-dropdown-title"><span class="title">å…³äº</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer" class="nav-link external">
  æ˜é‡‘
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer" class="nav-link external">
  CSDN
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~dongwei1125" target="_blank" rel="noopener noreferrer" class="nav-link external">
  NPM
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>ES6 Symbol</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/js/symbol.html#å‰è¨€" class="sidebar-link">å‰è¨€</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/js/symbol.html#å±æ€§æ–¹æ³•" class="sidebar-link">å±æ€§æ–¹æ³•</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-prototype-description" class="sidebar-link">Symbol.prototype.description</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-for" class="sidebar-link">Symbol.for</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-keyfor" class="sidebar-link">Symbol.keyFor</a></li></ul></li><li><a href="/pages/js/symbol.html#symbol" class="sidebar-link">Symbol</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-hasinstance" class="sidebar-link">Symbol.hasInstance</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-isconcatspreadable" class="sidebar-link">Symbol.isConcatSpreadable</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-species" class="sidebar-link">Symbol.species</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-match" class="sidebar-link">Symbol.match</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-replace" class="sidebar-link">Symbol.replace</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-search" class="sidebar-link">Symbol.search</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-split" class="sidebar-link">Symbol.split</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-iterator" class="sidebar-link">Symbol.iterator</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-toprimitive" class="sidebar-link">Symbol.toPrimitive</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-tostringtag" class="sidebar-link">Symbol.toStringTag</a></li><li class="sidebar-sub-header"><a href="/pages/js/symbol.html#symbol-unscopables" class="sidebar-link">Symbol.unscopables</a></li></ul></li><li><a href="/pages/js/symbol.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/js/symbol.html#ğŸ‰-å†™åœ¨æœ€å" class="sidebar-link">ğŸ‰ å†™åœ¨æœ€å</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="es6-symbol"><a href="#es6-symbol" class="header-anchor">#</a> ES6 Symbol</h1> <p><img src="/js/symbol/banner.jpg" alt=""></p> <h2 id="å‰è¨€"><a href="#å‰è¨€" class="header-anchor">#</a> å‰è¨€</h2> <p>â€ƒâ€ƒæ­¤æ–‡å¯¹<code>ES6</code>ä¸­æ¶‰åŠçš„<code>Symbol</code>ç±»å‹åšäº†ç®€å•è¯´æ˜ï¼Œä¹ŸåŒ…æ‹¬éƒ¨åˆ†å¼€æ”¾çš„å†…ç½®<code>Symbol</code>ã€‚</p> <h2 id="å±æ€§æ–¹æ³•"><a href="#å±æ€§æ–¹æ³•" class="header-anchor">#</a> å±æ€§æ–¹æ³•</h2> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol" target="_blank" rel="noopener noreferrer">Symbol<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸ºç¬¦å·ç±»å‹ï¼Œå±äºåŸºæœ¬æ•°æ®ç±»å‹ä¹‹ä¸€ã€‚</p> <blockquote><p><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Primitive" target="_blank" rel="noopener noreferrer">åŸºæœ¬æ•°æ®ç±»å‹<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¹Ÿç§°ä¸ºåŸå§‹æ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬<code>String</code>ã€<code>Number</code>ã€<code>Boolean</code>ã€<code>undefined</code>ã€<code>null</code>ã€<code>Symbol</code>ã€<code>BigInt</code>ï¼Œå…¶ä¸­<code>Symbol</code>å’Œ<code>BigInt</code>ä¸º<code>ES6</code>æ–°å¢</p></blockquote> <p>â€ƒâ€ƒ;<code>Symbol()</code>å¯ä»¥ç”¨æ¥ç”Ÿæˆ<code>å”¯ä¸€</code>å€¼ï¼Œä¹Ÿæ˜¯<code>ES6</code>å¼•å…¥<code>Symbol</code>çš„åŸå› ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre></div><p>â€ƒâ€ƒåˆ›å»ºä¸€ä¸ª<code>Symbol</code>åŒ…è£…å¯¹è±¡ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token function">Object</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span> <span class="token comment">// Symbol {Symbol(), description: undefined}</span>

<span class="token keyword">typeof</span> sym <span class="token comment">// symbol</span>
<span class="token keyword">typeof</span> object <span class="token comment">// object</span>
</code></pre></div><h3 id="symbol-prototype-description"><a href="#symbol-prototype-description" class="header-anchor">#</a> Symbol.prototype.description</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/description" target="_blank" rel="noopener noreferrer">Symbol.prototype.description<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç”¨äºè¿”å›<code>Symbol</code>çš„æè¿°ä¿¡æ¯ï¼Œ<code>String</code>æˆ–<code>toString</code>æ–¹æ³•ä¼šåŒ…å«<code>Symbol()</code>å­—ç¬¦ä¸²ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> sym <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'desc'</span><span class="token punctuation">)</span>

sym<span class="token punctuation">.</span>description <span class="token comment">// desc</span>
sym<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// Symbol(desc)</span>
<span class="token function">String</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span> <span class="token comment">// Symbol(desc)</span>
</code></pre></div><h3 id="symbol-for"><a href="#symbol-for" class="header-anchor">#</a> Symbol.for</h3> <p>â€ƒâ€ƒä¸<code>Symbol()</code>ä¸åŒçš„æ˜¯ï¼Œ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/for" target="_blank" rel="noopener noreferrer">Symbol.for<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> é™¤äº†ä¼šåˆ›å»º<code>Symbol</code>ç¬¦å·ä¹‹å¤–ï¼Œè¿˜ä¼šæŠŠå®ƒæ”¾å…¥å…¨å±€çš„<code>Symbol</code>æ³¨å†Œè¡¨ã€‚</p> <blockquote><p>æ³¨å†Œè¡¨å¯ä»¥æƒ³è±¡ä¸ºä¸€ä¸ªå¯¹è±¡ï¼Œé”®<code>key</code>ä¸º<code>Symbol</code>çš„æè¿°ä¿¡æ¯ï¼Œé”®å€¼ä¸º<code>Symbol</code>ç¬¦å·</p></blockquote> <p>â€ƒâ€ƒ;<code>Symbol.for()</code>å¹¶éæ¯æ¬¡éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„<code>Symbol</code>ï¼Œè€Œæ˜¯æ£€æŸ¥æŒ‡å®š<code>key</code>æ˜¯å¦å·²ç»åœ¨æ³¨å†Œè¡¨ä¸­ï¼Œè‹¥åœ¨åˆ™è¿”å›å·²ä¿å­˜çš„<code>Symbol</code>ï¼Œå¦åˆ™å°±æ–°å»ºä¸€ä¸ªå¹¶æ”¾å…¥å…¨å±€æ³¨å†Œè¡¨ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'desc'</span><span class="token punctuation">)</span> <span class="token operator">===</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'desc'</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="symbol-keyfor"><a href="#symbol-keyfor" class="header-anchor">#</a> Symbol.keyFor</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/keyFor" target="_blank" rel="noopener noreferrer">Symbol.keyFor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç”¨äºè·å–æŒ‡å®šçš„<code>Symbol</code>ç¬¦å·ï¼Œå­˜å‚¨åœ¨å…¨å±€æ³¨å†Œè¡¨é‡Œå¯¹åº”çš„<code>key</code>é”®ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  y <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  m <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'desc'</span><span class="token punctuation">)</span>

Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// undefined</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span> <span class="token comment">// 'undefined'</span>
Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span> <span class="token comment">// 'desc'</span>
</code></pre></div><blockquote><p>æ³¨æ„<code>s</code>å’Œ<code>y</code>ç¬¦å·ï¼Œåˆ†åˆ«è¿”å›<code>undefined</code>å’Œå­—ç¬¦ä¸²<code>'undefined'</code></p></blockquote> <p>â€ƒâ€ƒå¯å°è£…å·¥å…·å‡½æ•°ï¼Œåˆ¤æ–­æ˜¯å¦ä½äºå…¨å±€æ³¨å†Œè¡¨ä¸­ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">inGlobalRegistry</span><span class="token punctuation">(</span><span class="token parameter">sym</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>sym<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="symbol"><a href="#symbol" class="header-anchor">#</a> Symbol</h2> <p>â€ƒâ€ƒ;<code>ES6</code>å¼€æ”¾äº†ä¸€éƒ¨åˆ†å†…ç½®çš„<code>Symbol</code>ç¬¦å·ï¼Œæ³¨æ„è§„èŒƒä¸­å†…ç½®ç¬¦å·å‰ç¼€ä¸º<code>@@</code>ï¼Œä¾‹å¦‚<code>@@hasInstance</code>è¡¨ç¤º<code>Symbol.hasInstance</code>ã€‚</p> <h3 id="symbol-hasinstance"><a href="#symbol-hasinstance" class="header-anchor">#</a> Symbol.hasInstance</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof" target="_blank" rel="noopener noreferrer">instanceof<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„åŸå‹æ˜¯å¦åœ¨å®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

f <span class="token keyword">instanceof</span> <span class="token class-name">F</span> <span class="token comment">// true</span>
f <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token comment">// true</span>
</code></pre></div><p>â€ƒâ€ƒå‡½æ•°å®ç°ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">instanceOf</span><span class="token punctuation">(</span><span class="token parameter">object<span class="token punctuation">,</span> constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// or object.__proto__</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>object <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>object <span class="token operator">===</span> constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">return</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span>

<span class="token function">instanceOf</span><span class="token punctuation">(</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>â€ƒâ€ƒ;<code>instanceof</code>åœ¨è¯­è¨€å†…éƒ¨å°†æ‰§è¡Œ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/hasInstance" target="_blank" rel="noopener noreferrer">Symbol.hasInstance<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œä¾‹å¦‚<code>f instanceof F</code>å³æ‰§è¡Œçš„æ˜¯<code>F[Symbol.hasInstance](f)</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

f <span class="token keyword">instanceof</span> <span class="token class-name">F</span> <span class="token comment">// true</span>
<span class="token constant">F</span><span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><p>â€ƒâ€ƒè‡ªå®šä¹‰<code>instanceof</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> <span class="token constant">F</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>hasInstance<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">v</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> v <span class="token operator">%</span> <span class="token number">2</span> <span class="token operator">===</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token number">1</span> <span class="token keyword">instanceof</span> <span class="token class-name">F</span> <span class="token comment">// false</span>
<span class="token number">2</span> <span class="token keyword">instanceof</span> <span class="token class-name">F</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="symbol-isconcatspreadable"><a href="#symbol-isconcatspreadable" class="header-anchor">#</a> Symbol.isConcatSpreadable</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/isConcatSpreadable" target="_blank" rel="noopener noreferrer">Symbol.isConcatSpreadable<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å³æ•°ç»„æˆ–ç±»æ•°ç»„åœ¨è¢«<code>concat</code>æ‹¼æ¥æ—¶ï¼Œæ§åˆ¶æ˜¯å¦èƒ½å±•å¼€ã€‚</p> <p>â€ƒâ€ƒæ•°ç»„<code>Symbol.isConcatSpreadable</code>å±æ€§é»˜è®¤ä¸º<code>undefined</code>ï¼Œå¯ä»¥å±•å¼€ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> array <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>

<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [0, 1, 2, 3]</span>

array<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span>

<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>array<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [0, [1, 2], 3]</span>
</code></pre></div><p>â€ƒâ€ƒè€Œç±»æ•°ç»„é»˜è®¤ä¸å¯å±•å¼€ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> arrayLike <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">0</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token literal-property property">length</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [0, { 0: 1, 1: 2, length: 2 }, 3]</span>

arrayLike<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>isConcatSpreadable<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span>

<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>arrayLike<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// [0, 1, 2, 3]</span>
</code></pre></div><h3 id="symbol-species"><a href="#symbol-species" class="header-anchor">#</a> Symbol.species</h3> <p>â€ƒâ€ƒ;<code>ES6</code>ä¸­<code>extends</code>å­˜åœ¨ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œå³å†…ç½®æ–¹æ³•è¿”å›çš„å¯¹è±¡éƒ½å°†é»˜è®¤æˆä¸ºæ´¾ç”Ÿç±»çš„å®ä¾‹ã€‚</p> <p>â€ƒâ€ƒä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ</p> <p>â€ƒâ€ƒä¾‹å¦‚<code>SortedArray</code>ç»§æ‰¿è‡ª<code>Array</code>ï¼Œè€Œå†…ç½®æ–¹æ³•<code>map</code>è¿”å›çš„æ•°ç»„æˆä¸ºäº†<code>SortedArray</code>çš„å®ä¾‹ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">SortedArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> sortedArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SortedArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> sortedArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">)</span>

array <span class="token keyword">instanceof</span> <span class="token class-name">SortedArray</span> <span class="token comment">// true</span>
</code></pre></div><p>â€ƒâ€ƒå¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿ</p> <p>â€ƒâ€ƒä»¥ä¸‹ä¸º<code>Array</code>ç±»å†…éƒ¨çš„å¤§è‡´ç»“æ„ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
  <span class="token punctuation">}</span>
  
  <span class="token operator">...</span>

  <span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> Constructor <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>constructor<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Constructor</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> result<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>â€ƒâ€ƒè¿è¡Œ<code>sortedArray.map()</code>æ—¶ï¼Œ<code>map</code>å‡½æ•°å†…<code>this</code>ä¸º<code>sortedArray</code>å®ä¾‹ï¼Œ<code>this.constructor</code>ä¸º<code>SortedArray</code>æ´¾ç”Ÿç±»ã€‚å¦å¤–é™æ€å–å€¼æ–¹æ³•<code>[Symbol.species]()</code>å†…éƒ¨è¿”å›è°ƒç”¨è€…ï¼Œåˆ™<code>this.constructor[Symbol.species]()</code>ä¸º<code>SortedArray</code>ç±»ã€‚</p> <p>â€ƒâ€ƒæ•…<code>sortedArray.map()</code>è¿”å›çš„æ•°ç»„ä¹Ÿå°±æ˜¯ç”±<code>SortedArray</code>ç±»åˆ›å»ºçš„ï¼Œ<code>array instanceof SortedArray</code>ä¹Ÿå°±å¿…ç„¶ä¸º<code>true</code>äº†ã€‚</p> <p>â€ƒâ€ƒ;<code>ES6</code>ä¸­å°†<code>Symbol.species</code>å¼€æ”¾ï¼Œå­ç±»å¯ä»¥è¦†ç›–çˆ¶ç±»çš„<code>[Symbol.species]()</code>é™æ€æ–¹æ³•ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">SortedArray</span> <span class="token keyword">extends</span> <span class="token class-name">Array</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">get</span> <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>species<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Array
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> sortedArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SortedArray</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> array <span class="token operator">=</span> sortedArray<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">e</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">)</span>

array <span class="token keyword">instanceof</span> <span class="token class-name">SortedArray</span> <span class="token comment">// false</span>
array <span class="token keyword">instanceof</span> <span class="token class-name">Array</span> <span class="token comment">// true</span>
</code></pre></div><p>â€ƒâ€ƒæ ¹æ®åˆšæ‰çš„åˆ†æï¼Œç»“åˆ<code>Array</code>çš„å†…éƒ¨ç»“æ„ï¼Œå®¹æ˜“çŸ¥é“<code>sortedArray.map()</code>è¿”å›çš„æ•°ç»„æ˜¯ç”±<code>Array</code>ç±»åˆ›å»ºçš„ï¼Œå› æ­¤<code>array instanceof SortedArray</code>ä¸º<code>false</code>ã€‚</p> <p>â€ƒâ€ƒæœ‰ä½•ä½œç”¨å‘¢ï¼Ÿ</p> <p>â€ƒâ€ƒæŸäº›ç±»åº“å¯èƒ½ç»§æ‰¿è‡³åŸºç±»ï¼Œå­ç±»ä½¿ç”¨åŸºç±»çš„æ–¹æ³•æ—¶ï¼Œæ›´å¤šçš„ï¼Œå¸Œæœ›è¿”å›çš„å¯¹è±¡æ˜¯åŸºç±»çš„å®ä¾‹ï¼Œè€Œéå­ç±»çš„å®ä¾‹ã€‚ä¾‹å¦‚ä»¥ä¸Š<code>SortedArray</code>ç»§æ‰¿è‡³åŸºç±»<code>Array</code>ï¼Œå­ç±»å®ä¾‹<code>sortedArray</code>ä½¿ç”¨<code>map</code>æ–¹æ³•æ—¶ï¼Œå¸Œæœ›è¿”å›çš„æ•°ç»„æ˜¯<code>Array</code>çš„å®ä¾‹ã€‚</p> <p>â€ƒâ€ƒæ‰€ä»¥ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/species" target="_blank" rel="noopener noreferrer">Symbol.species<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä½œç”¨ä¸ºï¼Œå­ç±»ç»§æ‰¿åŸºç±»ï¼Œå­ç±»æ–¹æ³•è¿”å›æ–°å¯¹è±¡æ—¶ï¼ŒæŒ‡å®šæ–°å¯¹è±¡çš„ç±»ï¼ˆæˆ–è€…è¯´æ„é€ å‡½æ•°ï¼‰ã€‚</p> <h3 id="symbol-match"><a href="#symbol-match" class="header-anchor">#</a> Symbol.match</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/match" target="_blank" rel="noopener noreferrer">Symbol.match<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å³<code>String.prototype.math</code>åœ¨è¯­è¨€å†…éƒ¨å°†æ‰§è¡Œ<code>RegExp.prototype[Symbol.match]</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">llo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token string">'hello'</span>

s<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span> <span class="token comment">// ['llo', index: 2, input: 'hello', groups: undefined]</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>match<span class="token punctuation">]</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// ['llo', index: 2, input: 'hello', groups: undefined]</span>
</code></pre></div><h3 id="symbol-replace"><a href="#symbol-replace" class="header-anchor">#</a> Symbol.replace</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/replace" target="_blank" rel="noopener noreferrer">Symbol.replace<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å³<code>String.prototype.replace</code>åœ¨è¯­è¨€å†…éƒ¨å°†æ‰§è¡Œ<code>RegExp.prototype[Symbol.replace]</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">llo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token string">'hello'</span>

s<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> <span class="token string">'he'</span><span class="token punctuation">)</span> <span class="token comment">// hehe</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>replace<span class="token punctuation">]</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token string">'he'</span><span class="token punctuation">)</span> <span class="token comment">// hehe</span>
</code></pre></div><h3 id="symbol-search"><a href="#symbol-search" class="header-anchor">#</a> Symbol.search</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/search" target="_blank" rel="noopener noreferrer">Symbol.search<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å³<code>String.prototype.search</code>åœ¨è¯­è¨€å†…éƒ¨å°†æ‰§è¡Œ<code>RegExp.prototype[Symbol.search]</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">llo</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token string">'hello'</span>

s<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span> <span class="token comment">// 2</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>search<span class="token punctuation">]</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><h3 id="symbol-split"><a href="#symbol-split" class="header-anchor">#</a> Symbol.split</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/split" target="_blank" rel="noopener noreferrer">Symbol.split<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> å³<code>String.prototype.split</code>åœ¨è¯­è¨€å†…éƒ¨å°†æ‰§è¡Œ<code>RegExp.prototype[Symbol.split]</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> s <span class="token operator">=</span> <span class="token string">'hello'</span>

s<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regexp<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// ['h', 'e', 'l']</span>
regexp<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>split<span class="token punctuation">]</span><span class="token punctuation">(</span>s<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// ['h', 'e', 'l']</span>
</code></pre></div><blockquote><p><code>String.prototype.split()</code>æ–¹æ³•ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºå­—ç¬¦ä¸²æˆ–è€…æ­£åˆ™è¡¨è¾¾å¼ï¼Œç¬¬äºŒä¸ªå‚æ•°ç”¨äºé™åˆ¶åˆ†å‰²åçš„æ•°ç»„é•¿åº¦ã€‚</p></blockquote> <h3 id="symbol-iterator"><a href="#symbol-iterator" class="header-anchor">#</a> Symbol.iterator</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/iterator" target="_blank" rel="noopener noreferrer">Symbol.iterator<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸ºå¯¹è±¡éƒ¨ç½²è¿­ä»£å™¨ï¼Œå¯è¢«ç”¨äº<code>for...of</code>å¾ªç¯ã€æ‹“å±•è¿ç®—ç¬¦å’Œè§£æ„ç­‰ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>

object<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">done</span><span class="token operator">:</span> index <span class="token operator">===</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> keys<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">of</span> object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>
  <span class="token comment">// foo</span>
  <span class="token comment">// bar</span>
<span class="token punctuation">}</span>

<span class="token punctuation">[</span><span class="token operator">...</span>object<span class="token punctuation">]</span> <span class="token comment">// ['foo', 'bar']</span>
</code></pre></div><h3 id="symbol-toprimitive"><a href="#symbol-toprimitive" class="header-anchor">#</a> Symbol.toPrimitive</h3> <p>â€ƒâ€ƒå¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼æ—¶ï¼Œåœ¨<code>JavaScript</code>å†…éƒ¨ä¼šè¿›è¡Œ <a href="https://tc39.es/ecma262/#sec-toprimitive" target="_blank" rel="noopener noreferrer">ToPrimitive<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æŠ½è±¡è¿ç®—ã€‚</p> <p>â€ƒâ€ƒä¾‹å¦‚å°†å¯¹è±¡è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// [object Object]</span>
</code></pre></div><p>â€ƒâ€ƒ;<code>ToPrimitive</code>æŠ½è±¡è¿ç®—å¯ä»¥æƒ³è±¡ä¸ºä¸€ä¸ª<code>ToPrimitive(input, preferredType)</code>æ–¹æ³•ï¼Œ<code>input</code>ä¸ºè¢«è½¬æ¢å¯¹è±¡ï¼Œ<code>preferredType</code>ä¸ºæœŸæœ›è¿”å›çš„ç»“æœç±»å‹ã€‚</p> <p>â€ƒâ€ƒ;<code>preferredType</code>åŒ…æ‹¬<code>number</code>ã€<code>string</code>å’Œ<code>default</code>ä¸‰ç§ï¼Œä¸åŒåœºæ™¯ä¸‹<code>preferredType</code>å€¼ä¸åŒã€‚</p> <ul><li><code>number</code>ï¼š<code>+object</code>æ­£è¿ç®—ã€<code>Number(object)</code>ç­‰</li> <li><code>string</code>ï¼š<code>${object}</code>æ¨¡æ¿å­—ç¬¦ä¸²æ’å€¼ã€<code>foo[object]</code>å¯¹è±¡ç”¨ä½œå±æ€§ã€<code>string.search(object)</code>ã€<code>String(object)</code>ã€<code>parseInt(object)</code>ç­‰</li> <li><code>default</code>ï¼š<code>object + x</code>åŠ æ³•è¿ç®—ã€<code>object == x</code>ç›¸ç­‰åˆ¤æ–­ç­‰</li></ul> <blockquote><p>ä¾‹å¦‚<code>Number(object)</code>è¿ç®—åœºæ™¯ä¸‹ï¼Œ<code>preferredType</code>ä¸º<code>number</code></p></blockquote> <h4 id="toprimitive"><a href="#toprimitive" class="header-anchor">#</a> ToPrimitive</h4> <p>â€ƒâ€ƒ;<code>ToPrimitive(input, preferredType)</code>è¿ç®—è¿‡ç¨‹ç®€è¿°ä¸ºã€‚</p> <ul><li>åˆ¤æ–­<code>input</code>æ˜¯å¦ä¸ºéå¯¹è±¡ï¼ˆåŸå§‹å€¼ï¼‰ï¼Œæ˜¯åˆ™è¿”å›<code>input</code></li> <li>å¦åˆ™ï¼Œåˆ¤æ–­å¯¹è±¡æ˜¯å¦æœ‰<code>[Symbol.toPrimitive](hint){}</code>æ–¹æ³•ï¼Œè‹¥æœ‰
<ul><li>å°†<code>hint</code>å‚æ•°å€¼åˆå§‹åŒ–ä¸º<code>preferredType</code>ã€‚æ³¨æ„è‹¥<code>preferredType</code>ä¸å­˜åœ¨ï¼Œ<code>hint</code>é»˜è®¤ä¸º<code>default</code></li> <li>è‹¥æ–¹æ³•çš„æ‰§è¡Œç»“æœä¸ºéå¯¹è±¡ï¼ˆåŸå§‹å€¼ï¼‰ï¼Œåˆ™è¿”å›ï¼Œå¦åˆ™æŠ›å‡º<code>TypeError</code>é”™è¯¯</li></ul></li> <li>å¦åˆ™ï¼Œæ‰§è¡Œ<code>OrdinaryToPrimitive(input, preferredType)</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'1.00'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toPrimitive<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token parameter">hint</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token function">Number</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">Number</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// Uncaught TypeError: Cannot convert object to primitive value at Number</span>
</code></pre></div><h4 id="ordinarytoprimitive"><a href="#ordinarytoprimitive" class="header-anchor">#</a> OrdinaryToPrimitive</h4> <p>â€ƒâ€ƒ;<code>OrdinaryToPrimitive(input, hint)</code>è¿ç®—è¿‡ç¨‹ç®€è¿°ä¸ºã€‚</p> <ul><li>è‹¥<code>hint</code>ä¸º<code>string</code>ï¼Œå…ˆè°ƒç”¨<code>toString()</code>ï¼Œå¦‚æœä¸ºéå¯¹è±¡ï¼ˆåŸå§‹å€¼ï¼‰é‚£ä¹ˆè¿”å›å®ƒã€‚å¦åˆ™å†è°ƒç”¨<code>valueOf()</code>ï¼Œå¦‚æœä¸ºéå¯¹è±¡ï¼ˆåŸå§‹å€¼ï¼‰é‚£ä¹ˆè¿”å›å®ƒï¼Œå¦åˆ™æŠ›å‡º<code>TypeError</code>é”™è¯¯</li> <li>è‹¥<code>hint</code>ä¸º<code>number/default</code>ï¼Œæ°å¥½ç›¸åï¼Œä¼šå…ˆè°ƒç”¨<code>valueOf()</code>ï¼Œå†è°ƒç”¨<code>toString()</code></li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> foo <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">'1.00'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> bar <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token function">Number</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">Number</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// Uncaught TypeError: Cannot convert object to primitive value at Number</span>
</code></pre></div><h4 id="ç”¨ä¾‹"><a href="#ç”¨ä¾‹" class="header-anchor">#</a> ç”¨ä¾‹</h4> <p>â€ƒâ€ƒå¯èƒ½ä½ ä¼šé—®ï¼ŒæŠ½è±¡æ–¹æ³•å¾ˆå°‘ç”¨åˆ°å§ã€‚</p> <p>â€ƒâ€ƒå¹¶éå“¦ï¼Œæˆ‘ä»¬ä»¥è®¡ç®—<code>[1, 2] + {}</code>ç»“æœä¸ºä¾‹ã€‚</p> <p>â€ƒâ€ƒå®é™…å½¢å¦‚ <a href="https://262.ecma-international.org/7.0/#sec-addition-operator-plus-runtime-semantics-evaluation" target="_blank" rel="noopener noreferrer">x + y<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> çš„è¡¨è¾¾å¼ï¼Œå°†åˆ†åˆ«å¯¹<code>x</code>å’Œ<code>y</code>æ‰§è¡Œ<code>ToPrimitive(input, preferredType)</code>æŠ½è±¡è¿ç®—ï¼Œè½¬åŒ–ä¸ºåŸå§‹å€¼ã€‚</p> <p>â€ƒâ€ƒå‚è€ƒåˆšæ‰çš„åœºæ™¯ï¼Œå®¹æ˜“çŸ¥é“<code>preferredType</code>ä¸º<code>default</code>ï¼Œå³è°ƒç”¨<code>valueOf()</code>å’Œ<code>toString()</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>  y <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

x<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [1, 2]</span>
x<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// '1, 2'</span>
y<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// {}</span>
y<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// '[object Object]'</span>
</code></pre></div><p>â€ƒâ€ƒæ‰€ä»¥<code>x + y</code>ç»“æœä¸º<code>1, 2[object Object]</code>ã€‚</p> <h3 id="symbol-tostringtag"><a href="#symbol-tostringtag" class="header-anchor">#</a> Symbol.toStringTag</h3> <p>â€ƒâ€ƒ;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toStringTag" target="_blank" rel="noopener noreferrer">Symbol.toStringTag<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç”¨äºå‘<code>Object.prototype.toString</code>æä¾›æ ‡ç­¾ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>toStringTag<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

object<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// [object Hello]</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token comment">// [object Hello]</span>
</code></pre></div><blockquote><p><code>object.toString()</code>ä¸<code>Object.prototype.toString.call(object)</code>ä¸¤è€…æ˜¯ç­‰ä»·çš„</p></blockquote> <h3 id="symbol-unscopables"><a href="#symbol-unscopables" class="header-anchor">#</a> Symbol.unscopables</h3> <h4 id="with"><a href="#with" class="header-anchor">#</a> with</h4> <p>â€ƒâ€ƒä»¥ä¸‹ä»£ç ä¸­ï¼Œ<code>console.log</code>å°†æ²¿ç€<code>fn</code>å‡½æ•°ä½œç”¨åŸŸã€å…¨å±€ä½œç”¨åŸŸä¾æ¬¡å¯»æ‰¾<code>foo</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒå‡½æ•°<code>fn</code>å¼•å…¥<code>with</code>ï¼Œ<code>console.log</code>å°†æ²¿ç€<code>object</code>å¯¹è±¡ã€<code>fn</code>å‡½æ•°ä½œç”¨åŸŸã€å…¨å±€ä½œç”¨åŸŸå¯»æ‰¾<code>foo</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>

  <span class="token keyword">with</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒå› æ­¤ <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/with" target="_blank" rel="noopener noreferrer">with<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä½œç”¨éå¸¸ç®€å•ï¼Œå³æ‰©å±•äº†è¯­å¥çš„ä½œç”¨åŸŸã€‚</p> <p>â€ƒâ€ƒæ³¨æ„è‹¥å¯¹è±¡ä¸Šæ²¡æœ‰æŸä¸ªå±æ€§ï¼Œåˆ™å°†ä¼šæ²¿ç€ä½œç”¨åŸŸå‘ä¸Šå¯»æ‰¾å¯¹åº”å˜é‡ï¼Œè‹¥éƒ½æ²¡æœ‰åˆ™å°†æŠ›å‡ºé”™è¯¯ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> bar <span class="token operator">=</span> <span class="token number">3</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>

  <span class="token keyword">with</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span> <span class="token comment">// 3</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span> <span class="token comment">// Uncaught ReferenceError: baz is not defined</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒ;<code>with</code>ä¼˜åŠ¿å³å¯ä»¥ä½¿å†…éƒ¨è¡¨è¾¾å¼æ›´åŠ ç®€æ´ï¼Œä½†æ˜¯è¯­ä¹‰ä¼šä¸æ˜æ˜¾ï¼Œä¸”å±æ€§çš„å¯»æ‰¾å®é™…ä¸Šæ›´åŠ è€—æ—¶ï¼Œå¾—ä¸å¿å¤±ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">bar</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>

  <span class="token keyword">with</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç­‰ä»·äº object.foo + object.bar + object.baz</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">+</span> bar <span class="token operator">+</span> baz<span class="token punctuation">)</span> <span class="token comment">// 6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œä¸¥é‡æ—¶å°†é€ æˆä»£ç æ­§ä¹‰ã€‚ä¾‹å¦‚ä»¥ä¸‹<code>y</code>å¯èƒ½æ˜¯<code>x</code>çš„å±æ€§å€¼ï¼Œä¹Ÿå¯èƒ½æ˜¯å‡½æ•°çš„ç¬¬äºŒä¸ªå‚æ•°<code>y</code>ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> y</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span> <span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 2</span>
</code></pre></div><h4 id="å…¼å®¹æ€§"><a href="#å…¼å®¹æ€§" class="header-anchor">#</a> å…¼å®¹æ€§</h4> <p>â€ƒâ€ƒåœ¨æ¡†æ¶ <a href="https://www.sencha.com/products/extjs" target="_blank" rel="noopener noreferrer">extjs<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¸­å­˜åœ¨ç±»ä¼¼å¦‚ä¸‹çš„ä»£ç ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span> <span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒåœ¨<code>ES5</code>æµè§ˆå™¨ä¸­ï¼ˆä¾‹å¦‚<code>IE10</code>ï¼‰ï¼Œå¯èƒ½ä¸º<code>values.values</code>å±æ€§å€¼æˆ–è€…ä¸ºå‡½æ•°å‚æ•°<code>values</code>ã€‚è€Œ<code>values.values</code>å±æ€§å¹¶ä¸å­˜åœ¨ï¼Œåˆ™å°†æ²¿ç€ä½œç”¨åŸŸå¯»æ‰¾åˆ°<code>values</code>å˜é‡ï¼Œè¾“å‡º<code>[]</code>ã€‚</p> <p>â€ƒâ€ƒå®é™…ä¸Šå¹¶æ²¡æœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯¹å§ï¼Ÿ</p> <p>â€ƒâ€ƒä½†æ˜¯åœ¨<code>ES6</code>ä¸­ï¼Œæ•°ç»„åŸå‹ä¸Šéƒ¨ç½²äº†<code>values</code>æ–¹æ³•ï¼Œ<code>values.values</code>å°†ä¼šè·å–ä¸ºæ•°ç»„åŸå‹çš„<code>values</code>æ–¹æ³•ï¼Œè¾“å‡º<code>values(){ }</code>ã€‚</p> <p>â€ƒâ€ƒå‘ï¼Œé—®é¢˜å°±ä¸¥é‡å’¯~</p> <p>â€ƒâ€ƒä»£ç åœ¨è¡Œä¸ºä¸Šä¸ä»¥å‰ä¸ä¸€è‡´äº†ï¼Œè§„èŒƒçš„å…¼å®¹æ€§è¢«ç ´åäº†ã€‚</p> <p>â€ƒâ€ƒæ€è€ƒä¸‹æ€ä¹ˆè§£å†³å‘¢ï¼Ÿ</p> <p>â€ƒâ€ƒèƒ½ä¸èƒ½åœ¨<code>with (object) { }</code>ä¸Šå®šä¹‰ä¸€ä¸ªè§„åˆ™ï¼Œè®©å†…éƒ¨ä¸ä¼šåœ¨å¯¹è±¡<code>object</code>ä¸Šå¯»æ‰¾å±æ€§å‘¢ã€‚</p> <p>â€ƒâ€ƒä¹Ÿå°±æœ‰äº† <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol/unscopables" target="_blank" rel="noopener noreferrer">Symbol.unscopables<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œç”¨äºæ’é™¤<code>with</code>ç¯å¢ƒä¸­çš„å±æ€§ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token number">1</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>unscopables<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">with</span> <span class="token punctuation">(</span>object<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span> <span class="token comment">// 1</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒæ•°ç»„åŸå‹ä¸Šçš„<code>Symbol.unscopables</code>å±æ€§ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>unscopables<span class="token punctuation">]</span>
<span class="token comment">// {</span>
<span class="token comment">//   ...</span>
<span class="token comment">//   keys: true,</span>
<span class="token comment">//   values: true,</span>
<span class="token comment">// }</span>
</code></pre></div><p>â€ƒâ€ƒä¹Ÿå°±è¡¨ç¤ºæ•°ç»„é»˜è®¤åŒ…å«<code>Symbol.unscopables</code>å±æ€§ï¼Œå› æ­¤ä»¥ä¸‹ä»£ç åœ¨<code>with</code>ç¯å¢ƒä¸­å°±æ’é™¤äº†<code>values</code>å±æ€§ã€‚åœ¨<code>ES6</code>æµè§ˆå™¨ä¸­ï¼Œå°†è¾“å‡º<code>[]</code>ï¼Œä¸<code>ES5</code>çš„ç»“æœä¸€è‡´ã€‚</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">with</span> <span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>â€ƒâ€ƒæ‰€ä»¥å¼•å…¥<code>Symbol.unscopables</code>ï¼Œä»…ä»…æ˜¯ä¸ºäº†è§£å†³<code>with</code>æ‰§è¡Œç¯å¢ƒä¸‹çš„å†å²å…¼å®¹æ€§é—®é¢˜ã€‚</p> <h4 id="ä¸¥æ ¼æ¨¡å¼"><a href="#ä¸¥æ ¼æ¨¡å¼" class="header-anchor">#</a> ä¸¥æ ¼æ¨¡å¼</h4> <p>â€ƒâ€ƒå¯èƒ½ä½ ä¼šé—®ï¼Œ<code>ES5</code>ä¸­ä¸¥æ ¼æ¨¡å¼ä¸æ˜¯å·²ç»ç¦ç”¨äº†<code>with</code>ï¼Œä¸ºä½•è¿˜è¦åœ¨<code>ES6</code>ä¸­è§£å†³ç¦ç”¨è¯­å¥çš„é—ç•™é—®é¢˜ï¼Ÿ</p> <p>â€ƒâ€ƒä¸ªäººè®¤ä¸ºç›®å‰æµè§ˆå™¨è¿˜å¤„åœ¨æ”¯æŒä¸¥æ ¼å’Œéä¸¥æ ¼ä¸¤ç§æ¨¡å¼çš„é˜¶æ®µï¼Œéä¸¥æ ¼æ¨¡å¼ä¸‹è¿˜æ˜¯èƒ½æ­£å¸¸è¿è¡Œ<code>with</code>è¯­å¥ï¼Œæ‰€ä»¥å§‹ç»ˆéƒ½å­˜åœ¨ç€æ½œåœ¨çš„é—®é¢˜ã€‚</p> <p>â€ƒâ€ƒå³ç”±äºè§„èŒƒçš„å·®å¼‚ï¼Œå¯¼è‡´ä»£ç çš„è¡Œä¸ºä¸ä¸€è‡´ã€‚æ‰€ä»¥ç»ˆç©¶è¿˜æ˜¯è¦è§£å†³æ‰ï¼Œä¿è¯å‘ä¸‹å…¼å®¹ï¼Œå³ä½¿è§£å†³æ–¹å¼ä¸æ˜¯å¤ªå‹å¥½ã€‚</p> <h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h2> <ul><li><a href="https://www.zhihu.com/question/515913009" target="_blank" rel="noopener noreferrer">EcmaScript ä¸ºä»€ä¹ˆè¦å¼•å…¥ @@species<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.zhihu.com/question/364970876" target="_blank" rel="noopener noreferrer">Symbol.unscopables å­˜åœ¨çš„å†å²åŸå› <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://zhuanlan.zhihu.com/p/34741293" target="_blank" rel="noopener noreferrer">Array.prototype.flatten ï¼Ÿ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="ğŸ‰-å†™åœ¨æœ€å"><a href="#ğŸ‰-å†™åœ¨æœ€å" class="header-anchor">#</a> ğŸ‰ å†™åœ¨æœ€å</h2> <p>ğŸ»ä¼™ä¼´ä»¬ï¼Œå¦‚æœä½ å·²ç»çœ‹åˆ°äº†è¿™é‡Œï¼Œè§‰å¾—è¿™ç¯‡æ–‡ç« æœ‰å¸®åŠ©åˆ°ä½ çš„è¯ä¸å¦¨ç‚¹èµğŸ‘æˆ– <a href="https://github.com/dongwei1125/blog" target="_blank" rel="noopener noreferrer">Star<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> âœ¨æ”¯æŒä¸€ä¸‹å“¦ï¼</p> <p>æ‰‹åŠ¨ç å­—ï¼Œå¦‚æœ‰é”™è¯¯ï¼Œæ¬¢è¿åœ¨è¯„è®ºåŒºæŒ‡æ­£ğŸ’¬~</p> <p>ä½ çš„æ”¯æŒå°±æ˜¯æˆ‘æ›´æ–°çš„æœ€å¤§åŠ¨åŠ›ğŸ’ª~</p> <p><a href="https://github.com/dongwei1125" target="_blank" rel="noopener noreferrer">GitHub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://gitee.com/dongwei1125" target="_blank" rel="noopener noreferrer">Gitee<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://dongwei1125.github.io/" target="_blank" rel="noopener noreferrer">GitHub Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://juejin.cn/user/2621689331987783" target="_blank" rel="noopener noreferrer">æ˜é‡‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€<a href="https://blog.csdn.net/Don_GW" target="_blank" rel="noopener noreferrer">CSDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> åŒæ­¥æ›´æ–°ï¼Œæ¬¢è¿å…³æ³¨ğŸ˜‰~</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">æœ€åæ›´æ–°æ—¶é—´:</span> <span class="time">8/12/2022, 10:20:59 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.0aa97f73.js" defer></script><script src="/assets/js/2.f850a8ef.js" defer></script><script src="/assets/js/52.3ed98760.js" defer></script>
  </body>
</html>
